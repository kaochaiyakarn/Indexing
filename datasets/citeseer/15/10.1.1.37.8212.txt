eigentaste constant time collaborative filtering algorithm ken goldberg roeder gupta chris perkins eecs departments university california berkeley august eigentaste collaborative filtering algorithm uses universal queries elicit real valued user ratings common set items applies principal component analysis pca resulting dense subset ratings matrix 
pca facilitates dimensionality reduction offline clustering users rapid computation recommendations 
database users standard nearest neighbor techniques require processing time compute recommendations eigentaste requires constant time 
compare eigentaste alternative algorithms data jester online joke recommending system 
jester collected approximately ratings users 
normalized mean absolute error measure compare performance different algorithms 
appendix uniform normal distribution models derive analytic estimates predictions random 
jester dataset eigentaste computes recommendations orders magnitude faster loss accuracy 
jester online eigentaste berkeley edu networked world contains vast amount data 
visitors face arduous task retrieving information matches preferences 
term collaborative filtering cf describes techniques known preferences group users predict unknown preferences new user recommendations new user predictions 
terms proposed social information filtering recommender system 
case users collaborate sense rating improves performance system 
fundamental assumption users rate items similarly share similar tastes rate items similarly 
approaches differ define rating define define similarly ucb electronics research laboratory technical report 
pdf format available www berkeley edu goldberg pubs 
inquiries please contact goldberg berkeley edu 
cf algorithm accurate recommended objects subsequently receive high ratings efficient terms computational complexity 
cf database represents users items available rating recommendation 
existing cf algorithms online computation scales linearly propose new algorithm eigentaste designed provide accurate efficient recommendations users constant online time 
cf systems include user selected queries user chooses items rate yielding sparse ratings matrix null values 
eigentaste algorithm profiles user taste universal queries item short unbiased description book summary film synopsis users form opinion respond query 
queries eigentaste presents user gauge set items rate profiling phase 
advantage subset ratings matrix containing gauge set items dense 
universal ratings permit system collect immediate feedback recommended items 
argued users seen film able rate effectively 
opposite argued experience viewing film corrupt taste ratings extraneous factors bad seat 
user level familiarity item properly treated confidence second order measure notoriously difficult collect 
consumers implicitly rate unknown items shop choices 
collecting ratings familiar items yield highly biased incomplete model user taste 
properly designed universal queries offer advantage rapid consistent profiling new users 
eigentaste captures user ratings continuous rating scale 
rate items users asked click mouse horizontal ratings bar returns scalar values 
technically continuous limited granularity html image maps distinguish approximately levels ratings scale 
continuous ratings avoid discretization effects matrix computations may offer brief preliminary report algorithm appeared 
patent application includes elements algorithm filed uc 
measurement user interface advantages discussed 
eigentaste splits computations offline online phases 
offline eigentaste uses principal component analysis optimal dimensionality reduction clusters users lower dimensional subspace 
online phase uses eigenvectors project new users clusters lookup table recommend appropriate items run time independent number users database 
organized follows 
section reviews related 
section introduces eigentaste algorithm pca recursive rectangular clustering method 
section describes application eigentaste jester cf system recommending jokes including description bootstrapping process 
section proposes normalized mean absolute error metric compares performance algorithms jester dataset terms accuracy efficiency 
section reviews results discusses 
related section review small sample papers collaborative filtering 
rich considered early 
long history patents related cf ranging 
goldberg coined term collaborative filtering context system filtering email binary category flags :10.1.1.104.3739
excellent surveys research 
shardanand maes designed collaborative filtering system music ringo experimented number measures distance users including pearson correlation constrained pearson correlation vector cosine :10.1.1.30.6583
compare different recommendation algorithms mean absolute error predictions 
neighborhood algorithms require time linear number users 
grouplens pioneering ongoing effort collaborative filtering :10.1.1.136.4322
grouplens team initially implemented neighborhood cf system rating usenet articles 
integer rating scale computed distance pearson correlations 
newsgroups grouplens considered rec humor newsgroup receives hundreds posts day funny rec humor funny better 
reflected ratings jokes received lowest possible rating funny 
grouplens team reported correlation values pairs users relatively high value correlations claim users gen agree ratings jokes contrast recipes posted rec food recipes 
predominance funny ratings data skewed correlations dramatically upward 
grouplens team note existence substantial number low negative correlations rec humor suggesting may variance user tastes 
evaluate eigentaste humor domain jokes higher variance 
number differences grouplens eigentaste 
breese classify collaborative filtering algorithms classes memory modelbased :10.1.1.21.4665
memory algorithms operate entire user database predictions 
common memory model notion variety distance measures 
modelbased systems compact model inferred data 
framework eigentaste considered model 
breese compare number algorithms including bayesian clustering decision tree models 
show bayesian network correlation models best performing discuss computational complexity 
pennock horvitz suggest personality diagnosis pd latent variable approach computing probability new user underlying personality type user preferences manifestation personality type :10.1.1.38.6498
personality type user taken vector true ratings items user seen 
true rating differs actual rating user gaussian noise 
personality type user pd finds probability user personality type users system probability user new item 
combat problem common memory models increased computational effort set existing users grow pennock horvitz explore value information voi computation maximizes predictive value minimizing number explicit ratings needed user 
approach requires specification utility functions 
voi offline prune data system order reduce amount data stored maintaining maximum predictive power 
different pennock horvitz propose axiomatic foundation collaborative filtering 
cf preference predictions combining preferences existing users 
authors note aggregation preferences studied social choice theory 
argue single nearest neighbor model satisfy axiomatic conditions 
delgado takes agent approach cf de algorithms combine ratings data sources information geographic location user 
weighted majority voting combine recommendations different sources 
herlocker divide neighbor cf algorithms steps weighting possible neighbors ii selecting neighborhoods iii producing prediction weighted combination neighbors ratings 
explore alternative methods step propose spearman rank correlation weighting alternative pearson correlations significance weighting number items users rated common 
compute predictions find subtracting global means improves performance conversion scores 
measure accuracy propose receiver operator characteristic roc sensitivity decision support theory 
cf researchers recognized problem sparseness values ratings matrix null users rate items 
computing distances users complicated fact number items users rated common constant 
alternative inserting global means null values significance weighting singular value decomposition svd reduces dimensionality ratings matrix identifies latent factors data 
application svd context document retrieval patented widely known latent semantic indexing lsi :10.1.1.1.4458:10.1.1.108.8490
lsi svd applied factor non square term document frequency matrix factor matrices corresponding singular values 
largest singular values correspond significant factor weightings create dimension reducing linear projection original data 
billsus pazzani pryor applied svd cf different ways 
billsus pazzani treat cf classification problem discretize ratings small number classes 
vs dislike 
say users items form basis recommendation items consider recommending 
discretize original ratings matrix boolean feature matrix row combination user category 
apply svd reduce dimensionality principal vectors project item point dimensional space 
billsus pazzani create feedforward neural networks user database 
backpropagation train network dimensional vectors vector item rated user 
training network map dimensional vector representing unseen item predicted rating item 
movielens dataset demonstrate method yields reasonable prediction accuracy note significantly computationally expensive methods due need train neural network user 
pryor recommends web pages boolean visit patterns point discrete ratings 
applying svd visit matrix produces set vectors corresponding features matrix 
significant features measured singular values reduces dimensionality provides effective distance metric 
eigentaste address sparseness universal queries insure users rate common set gauge items 
resulting submatrix dense directly compute square symmetric correlation matrix linear projection principle component analysis closely related factor analysis technique described pearson 
svd pca reduces dimensionality optimally projecting highly correlated data smaller number orthogonal dimensions 
eigentaste algorithm section describe generic eigentaste algorithm 
notation terminology set users database set items rated recommended set items gauge set number users ju total number items jjj number items gauge set jgj items available recommendation matrix raw user ratings normalized matrix user ratings items correlation matrix items gauge set orthogonal matrix eigenvectors diagonal matrix eigenvalues rij raw rating item user rij rmin rmax rij normalized rating item user pij predicted rating item user average rating item ji set items rated user uj set users having rated item normalizing ratings matrix raw ratings users items selected items form common gauge set valid users rated items gauge set 
normalize subset produce submatrix gauge set ratings 
rating normalized subtracting mean rating users dividing standard deviation 
valid users rated items gauge set null ratings 
mean rating th item gauge set rij uj variance th gauge set item uj rij normalized rating rij set pearson correlation matrix rij assume continuous rating scale linear relationship variables define global correlation matrix cjk users 
symmetric positive definite 
principal component analysis principal component analysis introduced karl pearson 
hotelling generalized random variables 
apply eigen analysis solve matrices ece ae linear transform transformed points uncorrelated correlation matrix diagonal cb bt column variance sorting eigenvalue shows variance left unaccounted successive column typical dataset 
idea keep principal eigenvectors 
number eigenvectors retain depends variances eigenvalues typically small 
eigenvectors retained data projected principal eigenvectors curve variances explained consecutive eigenvectors 
largest amount variance explained eigenvector 
eigenvectors account total variance 
re popular choice set data projected eigen plane human visualization 
pca eigentaste algorithm generalize easily higher dimensions 
recursive rectangular clustering ways cluster projected data 
data section plotting dimensions discovered high concentration origin 
implemented recursive rectangular clustering cell size decreases near origin 
generalized higher dimensions variety alternate clustering methods eigentaste 
clustering 
start minimal rectangular cell encloses points user projections 
forms outermost rectangular subdivision 

bisect cell axes yield rectangular sub cells 

new sub cell origin vertices perform operation step generate sub cells hierarchical level 

repeat step level desired depth reached 
illustration recursive rectangular clustering dimensions levels recursion treat cell cluster neighbors eigen plane 
cluster compute mean item number users rated levels recursion forming total clusters 
item 
sorting non gauge items order decreasing mean ratings yields lookup table recommendations cluster 
occurs offline periodically 
online computation recommendations new user enters system 
collect ratings items gauge set 

principal components project vector eigen plane 

find representative cluster 

look appropriate recommendations new user collect ratings 
experimental implementation jester humor domain evaluating eigentaste 
automated system recommend funny joke 
criteria humor difficult formalize nontrivial information retrieval problem 
number psychological studies human sense humor 
ziv attempted categorize taste humor social emotional intellectual characteristics 
characteristics turn depend factors gender age social approach avoids semantic categories relies solely numerical ratings treat user joke black box 
see research humor 
refer implemented cf system eigentaste jester 
jester includes html client interface jester interface users shown joke asked rate clicking continuous ratings bar bottom screen 
allows internet users rate jokes chose jokes fit screens minimize evaluation time 
jokes collect real valued ratings users click rating bar implemented image map control provided html 
user rates joke 
jokes gauge set rated jester recommends jokes user continues collect ratings recommended joke 
communication interface server scripts takes place cgi script written illustrates interface 
collaborative filtering systems experience cold start problem 
needs ratings predict ratings 
address started simple website collect joke ratings 
chose initial set jokes friends newsgroups doing best avoid highly offensive jokes 
asked friends students rate jokes visiting website 
selected half jokes gauge set combination correlations variances 
herlocker hypothesize giving high variance items influence determining correlation improve prediction effectiveness 
choose gauge set subject 
implemented jester naive recommender system single nearest neighbor euclidean space 
added new jokes system 
new users asked rate joke gauge set non gauge jokes selected random seed recommendations 
user single nearest neighbor generate recommendations remaining see eigentaste berkeley edu jokes 
illustration recursive rectangular clustering scheme dimensions levels 
registered jester site number search engines 
november month half system inception registered users 
december am jester featured culture section wired news 
online news site yahoo excite netscape news went story 
produced sudden influx page requests 
system process time grew linearly number users jester quickly overwhelmed 
crashed offline days 
experience traffic overload motivated develop scalable algorithm eigentaste 
jester released march st 
graphics redesigned added new jokes system gauge set reduced jokes 
results normalized mean absolute error error metric cf literature mean absolute error mae :10.1.1.21.4665:10.1.1.30.6583
pij prediction user rate item mae user defined mae cx rij number items user rated 
mae set users average mae members set 
numerical rating scale gives ratings range normalize express errors percentages full scale normalized mean absolute error mae rmax rmin herlocker discusses variety error measures 
appendix consider theoretical perspective 
jester dataset march jester collected approximately ratings users 
jokes gauge set non gauge jokes 
average number ratings user 
experiments random users sample 
jester dataset including anonymous ratings users available request 
experiments randomly divide users disjoint sets training test 
data training set compute predictions algorithm train system 
data test set evaluate efficiency accuracy 
pop algorithm simplest recommendation algorithm treat users coming global cluster base recommendations users global mean ratings 
pop algorithm control case 
note name pop taken :10.1.1.21.4665:10.1.1.21.4665
pop predicts ratings joke global average 
training set compute global average test set evaluate predictions 
pop yields 
nearest neighbor algorithms nearest neighbor algorithm variants ones widely referenced literature 
formula generally find predicted rating pij user item pij ri nx rp ri average joke rating user normalizing factor ensuring absolute value weights sum 
weights reflect distances correlations similarities user users rated items 
commonly pearson correlation coefficient users rij ri rp qp rij ri rp summations include items user user rated common 
implemented weighted nearest neighbor algorithm 
function euclidean distance user user weight 
specifically interested nearest neighbors 
ensures closest neighbor largest weight 
request data please email contact information description intended research author 
nearest neighbor nn proved accurate predictor global average joke rating pop 
nearest neighbor calculations predicted rating test user actual rating nearest neighbor training set 
nearest neighbor normalized mae increase pop 
addition finding prediction error nearest neighbor calculated errors recommendations nearest neighbors nn 
cases predicted rating user test set unweighted average ratings nearest neighbors view special case similaritybased weighting rated item 
sharp improvement 
addition error monotonically decreases 
point error increases asymptotically approaches pop value expected 
see figures 
mae function number nearest neighbors 
mae function number nearest neighbors 
error decreases sharply steadily increases 
visible lowest approximately nearest neighbors 
eigentaste jester dataset eigenvectors accounted nearly variance see 
took principal components projected data ae user represents point dimensional 
computing predictions training set comparing actual ratings test set eigentaste 
computational complexity recall ratings database contains users items rating recommendation 
eigentaste gauge set 
pop algorithm computational complexity pop algorithm nm compute global means constant time provide recommendations 
nearest neighbor algorithms nn online time needed find recommendations new user 
implementation finding nearest neighbor training set users scanned memory traversed test set user 
time required scan training set users seconds 
find nearest neighbor generate predictions test user took msec 
important note overriding factor scanning training set users 
user online take seconds get recommendations assuming processes running system 
may necessary scan training set users file number grows larger reasonable memory 
significantly increase time necessary find predictions 
nn time required slightly increase grows time find nearest neighbors remains 
eigentaste algorithm offline phase finding correlation matrix calculating eigenvectors projecting users eigen plane clustering takes time 
note small case phase demanding 
similar implementation nearest neighbor algorithm took seconds scan training set users msec generate eigenvectors eigenvalues msec generate clusters predictions cluster 
total offline time needed training set users seconds 
online recommendations constant time 
increase time required find recommendation number users system increases 
jester time project ratings gauge set look recommendations msec user 
eigentaste algorithm provides significant decrease online computation time 
discussion describe eigentaste new cf algorithm applies pca dense subset ratings matrix 
eigentaste uses universal queries elicit real valued user ratings common set items 
pca facilitates dimensionality reduction offline clustering user rapid online cluster assignment 
accuracy efficiency results jester dataset summarized table 
accuracy offline online online algorithm time user pop nm nn nk msec nn nk msec eigentaste msec normalized mean absolute error values indicate predicted ratings values roughly true ratings values algorithm 
items predicted ratings mean new user cases correspond items user 
interesting note accuracies comparable reported completely different data set movies algorithms herlocker normalized unit rating scale yield 
pop global mean algorithm offers useful baseline accuracy see appendix baseline comparisons 
terms pop algorithm performs reasonably researchers 
computationally efficient completely ignores differences users 
nearest neighbor methods offer improved accuracy neighbors considered 
nn individual recommendations highly susceptible noise 
nearest neighbors considered nn noise reduced accuracy improves pop cost considerable online computational number users grows 
course may possible preprocess user group select create small number representative users mentors keep small 
dataset implementation eigentaste accuracy nn online computation faster orders magnitude 
results suggest speedup achieved compromising prediction accuracy 
experimenting number variations offline means clustering cosine distance measures hybrid approaches adaptive online weighting improve accuracy altering online computation time 
eigentaste addresses sparseness problem universal queries user selected queries query contains short unbiased description book summary film synopsis users form immediate opinion 
queries eigentaste presents user gauge set items rate profiling phase 
resulting subset ratings matrix dense 
discussed section argued universal queries effective user selected queries 
universal queries particularly appropriate domains jokes news articles images music clips brief sample available evaluated users 
applied universal queries domain jokes query simply joke process testing eigentaste domains including books 
plan write design universal queries choice items include gauge set 
properly designed universal queries offer advantage rapid consistent profiling ability collect immediate recommended items 
effectiveness universal queries confidence queries potential hybrid query models depends domain subject study 
eigentaste captures user ratings continuous rating scale html image map protocol 
continuous ratings advantages avoid discretization effects matrix computations capture taste finer granularity users report find continuous rating bar easier 
users report desire choose value discrete options 
word taste suggests system user rating literally gut reaction 
continuous rating bar may offer interface 
users may provide data interface feels navigating video game answering questionnaire 
research issue needed 
appendix consider accuracy metric theoretical perspective 
reported normalized mean absolute error values experiments noted values compare surprisingly values reported domains experiments 
significant 
compare cf performance random guessing uniform normal noise distribution models derive analytic estimates 
find user ratings uniformly distributed random predictions yield 
suggests room improved accuracy current cf algorithms 
appendix random predictions compare cf performance random guessing uniform normal distribution models estimate normalized mean absolute error analytically 
user rating predicted rating 
independent random variables 
uniform distribution uniform random variables interval 
probability distribution error triangular function range 
absolute value folds function positive axis 
normalizing integrate mae density function jx isf 
expected value mae normalizing range values 
actual predicted values uniformly distributed expect random predictions average third full scale 
confirm performed monte carlo experiment actual predicted ratings random numbers uniformly distributed 
close analytic prediction 
normal distribution assume measured predicted ratings normally distributed random variables mean variances respectively independent 
moment generating function random variables mx mx normally distributed mean variance 
jester dataset average standard deviation 
assume actual predicted ratings density function jx expected mae mae expected 
actual predicted values normally distributed expect predictions average 
acknowledgments supported part nsf award iri 
mark help developing initial version jester matthias early comparisons nearestneighbor methods 
grateful insightful input received hal varian gordon rios ming zhang adam jacobs john canny mike jordan richard wallace marti hearst bob sinha steve bui ilan adler developed algorithm 
david malcolm covering press 
fortunate received server vivek intel excellent real world advice leonard reed alan bob stein pam jordan 
best hawkins 
continuous vs discrete semantic differential ratings scales 
psychological reports 
arrow 
social choice individual values 
yale university press edition 
daniel billsus michael pazzani 
learning collaborative information filters 
aaai workshop recommender systems august 
breese kadie :10.1.1.21.4665
empirical analysis predictive algorithms collaborative filtering 
microsoft research technical report msr tr october 
dasarathy 
nn pattern classification techniques 
ieee computer society press ca 
deerwester dumais furnas landauer harshman 
indexing latent semantic analysis 
journal american society information science 
delgado 
agent information filtering recommender systems internet 
phd thesis nagoya institute technology february 
ding 
similarity probability model latent semantic indexing 
proceedings sigir 
acm august 
alexander patent method apparatus efficiently recommending items automated collaborative filtering feature guided automated collaborative filtering 
july 
david goldberg david nichols brian oki douglas terry 
collaborative filtering weave information tapestry 
communications acm 
gupta goldberg 
jester linear time collaborative filtering algorithm applied jokes 
proceedings sigir 
acm august 
jonathan herlocker joseph konstan borchers john riedl 
algorithmic framework performing collaborative filtering 
proceedings sigir 
acm august 
jonathan herlocker joseph konstan borchers john riedl 
algorithmic framework performing collaborative filtering 
proceedings sigir 
acm august 
john hey 
patent system method predicting subjective reactions 
september 
hofmann 
probabilistic latent semantic indexing 
proceedings sigir 
acm august 
hotelling 
analysis complex statistical variables principal components 
journal psychology 
jackson 
user guide principal components problem solving approach 
john wiley sons new york 
konstan bharat 
integrated personal community recommendations collaborative filtering 
cscw workshop 
joseph konstan bradley miller david maltz jonathan lee gordon john riedl 
grouplens applying collaborative filtering usenet news 
communications acm march 
krishnaiah kanal 
classification pattern recognition reduction dimensionality 
handbook statistics 
north holland publishing amsterdam new york oxford 
landauer littman bell communications research bellcore 
patent computerized cross language document retrieval latent semantic indexing 
april 
maltz 
pointing way active collaborative filtering 
chi proceedings papers 
don nilsen editor 
international journal humor research 
walter de gruyter new york 
pearson 
lines planes closest fit systems points space 
phil 
mag 
pennock horvitz 
analysis axiomatic foundations collaborative filtering 
aaai workshop artificial intelligence electronic commerce orlando florida july 
national conference artificial intelligence 
pennock horvitz 
collaborative filtering personality diagnosis hybrid memory model approach 
ijcai workshop machine learning information filtering stockholm sweden august 
international joint conference artificial intelligence 
michael pryor 
effects singular value decomposition collaborative filtering 
dartmouth college cs technical report pcs tr 
resnick iacovou suchak bergstrom riedl 
grouplens open architecture collaborative filtering netnews 
proceedings acm conference computer supported cooperative 
elaine rich 
user modeling stereotypes 
cognitive science 
shardanand maes 
social information filtering algorithms automating word mouth 
acm conference computer human interaction chi 
hal varian paul resnick 
special issue cf recommender systems 
communications acm march 
www wired com news news culture story html 
ziv 
personality sense humor 
springer publishing new york 

