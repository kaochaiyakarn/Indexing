geographic properties internet routing lakshminarayanan subramanian venkata padmanabhan randy katz university california berkeley microsoft research university california berkeley cs berkeley edu microsoft com randy cs berkeley edu study geographic properties internet routing 
distinguished previous studies internet routing consider geographic path traversed packets just network path 
examine geographic properties including circuitousness internet routes multiple isps path share burden routing packets geographic fault tolerance isp networks 
evaluate properties extensive network measurements gathered geographically diverse set probe points 
analysis shows circuitousness internet paths depends geographic network locations hosts tends greater paths traverse multiple isp 
geographic information quantify degree isp routing policy resembles hot potato cold potato routing 
find evidence certain tier isps exhibiting hot potato routing 
network topology information gathered caida find tier isp networks may poor tolerance failure single critical geographic node assuming published topology information reasonably complete 
internet consists autonomous systems ases control different administrative domains 
routing administrative domains accomplished border gateway protocol bgp protocol propagating routes ases 
ases connect public exchanges private peering points 
network path hosts typically traverses multiple ases 
bgp flexible allowing apply local preferences export import policies route selection propagation 
characteristics path dependent policies employed intervening ases 
previous internet routing focused studying properties performance routing stability routing convergence affected routing policies 
strategies determining alternate hopefully better routes overlay networks circumvent default internet routing 
discuss previous detail section 
novel way analyzing certain properties internet routing 
show geographic information provide insights structure functioning internet including interactions different autonomous systems 
particular geographic information quantify known network properties hot potato routing 
quantify substantiate prevalent intuitions internet routing relative optimality intra isp routing compared inter isp routing 
analyze geographic properties routing necessary determine geographic path ip route 
geographic path obtained geographic locations nodes routers network path hosts 
instance geographic path host berkeley harvard may look follows berkeley san francisco new york boston cambridge 
level detail geographic path depend precisely able determine locations intermediate routers path 
section describe geo track tool developed determining geographic path routes 
study extensive traceroute data gathered hosts distributed europe traceroute data gathered paxson 
internet routes highly circuitous 
instance observed route host st louis indiana km away traverses total distance km section 
tracing geographic path able automatically flag anomalous routes difficult purely network centric information delay 
compute linearized distance hosts sum geographic lengths individual links path 
compute ratio linearized distance path geographic distance source destination hosts term distance ratio 
large ratio indicative circuitous possibly anomalous route 
section study circuitousness paths function geographic network locations 
results indicate presence multiple isps path important contributor circuitous routing 
find intra isp routing far circuitous inter isp routing 
study circuitousness paths provides insights peering routing policies isps 
circuitousness may relate performance indicative routing problem deserves careful examination 
extremes routing policy isp may employ hot potato routing cold potato routing 
routing isp hands packets isp quickly possible 
cold potato routing isp carries packets network far possible handing isp 
policy minimizes burden isp network gives isp greater control quality service experienced packets 
discuss section geographic information provides means quantify notions geographic distance traversed isp proxy amount performed isp 
addition evaluate degree individual isp contributes routing packets 
analysis properties paths traverse multiple isps section 
aspect routing bears careful examination fault tolerance 
fault tolerance generally studied context node link failures topology information 
topology information may incomplete seemingly independent nodes may susceptible correlated failures 
instance catastrophic event earthquake major power outage knock isp routers geographic region 
geographic information help identifying routers located 
order analyze impact correlated failures consider isp topologies geographic level node represents geographic region city 
geographic topology information commercial isps gathered caida analyze fault tolerance properties individual topologies topology resulting combination individual isp networks section 
find tier isps highly susceptible single geographic node failures 
combined topology exhibits better tolerance failures 
summary believe geography interesting means analyzing quantifying network properties 
cases analysis provides additional evidence existing intuition certain properties internet routing hot potato routing circuitous paths 
important contribution methodology quantifying intuitions geographic information 
quantification enables instance automatically flag circuitous paths hard purely network centric metrics geographic information 
related classify related categories internet routing topology discovery mapping 
internet routing properties internet routing interest performance routing stability routing convergence previous internet routing focused measuring properties modifying certain aspects routing view improving performance 
shows geographic information measure quantify certain routing properties circuitous routing hot potato routing geographic fault tolerance 
network path information obtained traceroute tool widely study dynamics internet routing 
instance paxson studied various aspects internet routing extensive set traceroute data 
include routing pathologies stability routing routing asymmetry 
relation studies circuitous routing determining geographic locations routers dataset uses geographic distance metric quantify 
addition uses number different geographic locations path analyze effect routing potential cause routing asymmetry 
extend studying circuitousness function geographic network location hosts 
analyze effects multiple isps path circuitousness 
distance ratio metric define automatically flag anomalies large scale route identified 
overlay routing proposed means circumvent default ip routing 
savage study effects routing protocol policies performance seen hosts 
show large number paths internet exist paths exhibit significantly better performance terms latency packet loss rate 
andersen proposed specific mechanisms finding alternate paths better performance characteristics overlay network 
actively monitoring quality different paths alternate path selection mechanism quickly recover network failures optimize application specific performance metrics 
consistent findings measurements indicate existence highly circuitous paths internet 
find circuitousness path correlated minimum latency path 
topology discovery mapping discovering analyzing internet structure subject studies 
focused studying topology purely network level regard geography 
tools developed map network nodes corresponding geographic locations 
internet mapping projects tools incorporate notion geographic location maps 
mercator project focuses heuristics internet map discovery 
basic approach traceroute ttl limited probe packets coupled source routing discover routers key component mercator set heuristics resolve aliases multiple ip addresses corresponding possibly different interfaces single router 
basic idea send udp packet non existent port router wait icmp port unreachable response elicits 
general destination ip address udp packet source ip address icmp response may match indicating addresses correspond different interfaces router 
geographic information identify points sharing router interfaces discovered routers 
network 
view complementary network level heuristics ones employed mercator 
internet mapping project bell labs uses traceroute approach map internet single source 
map colored octets ip address portions corresponding isp tend colored similarly 
map laid geography 
efforts produced topological maps reflect geography internet 
examples include skitter projects caida commercial matrix net service 
number tools developed determining geographic location corresponding ip address 
tools variety approaches map ip address location inferring location whois records net geo extracting location information traceroute data geotrack determining location coordinates delay measurements previous ip geo focused developing tools including geotrack ip mapping 
geotrack tool analyze geographic properties internet routing 
experimental methodology section discuss experimental methodology 
details measurement test bed data sets gathered 
discuss geotrack tool determine geographic paths internet 
overview goal study geographic properties internet routing measurement focused gathering network path data traceroute tool 
interested studying dynamic properties internet routing routes change time record single snapshot network path pair hosts 
may possible routes dataset backup paths due failures time measurement 
expect aggregate statistics reported affected failures measurements spread month time period 
traceroute determine network path traceroute sources thousands geographically distributed destination hosts 
gathered traceroute data geo track tool determine location nodes network path possible 
geotrack reports location granularity city 
line server compute geographic distance source destination traceroute pair adjacent routers path 
enables compute linearized distance define sum geographic distances successive pairs routers path 
path passes linearized distance path sum geographic distances discuss section typically able determine location routers 
simply skip routers locations unable determine 
example location unknown compute linearized distance path sum geographic distances clearly skipping lead underestimate linearized distance 
noted section skipped nodes vicinity source destination error introduced linearized distance computation small 
uw microsoft uc berkeley stanford univ ucsd wisconsin uiuc wustl ut dallas km ut austin boston univ brooklyn poly 
rutgers univ km johns hopkins univ duke univ unc locations traceroute sources note hosts locations hosts seattle berkeley 
measurement testbed geographically distributed hosts sources traceroutes 
hosts located 
located europe stockholm sweden bologna italy budapest hungary 
geographical diversity source locations enables study variations routing properties seen different vantage points 
logistical reasons convenient locate traceroute sources university campuses 
traceroute sources fell category 
furthermore university locations considered connected internet backbone 
add diversity source berkeley ca connected home cable modem network addition host university california berkeley seattle wa connected microsoft research network addition host university washington seattle 
pairs sources allow study albeit limited extent impact nature source connectivity 
diverse set public traceroute servers overcome limitation 
large volume traceroutes looking run source precluded 
destination set traceroutes comprised hosts 
destinations hosts fell categories 
univhosts web servers hosts located university campuses hosts distributed states 
web servers public libraries distributed states ensured distribution geographic locations libraries skewed 

tvhosts client hosts connected line tv program guide 
majority clients located non academic networks america online aol 

web servers distributed countries europe 
ease exposition refer univhosts lib web tvhosts hosts european hosts 
diverse set destination hosts enables investigate properties internet routing context large set isps 
traced approximately paths traceroute sources destination hosts october december 
data available online 
dataset study temporal variations internet properties traceroute data set collected paxson 
data set includes traceroutes conducted pairs hosts drawn set hosts distributed mainly academic sites europe south korea australia 
despite fact data set contains far fewer paths data set provides interesting data point comparison 
data set gathered late months demise nsfnet backbone provide connectivity academic sites early life commercial internet 
geotrack gathered traceroute data geotrack tool developed previously part ip geo project translate network path pair hosts corresponding geographic path 
geotrack tries infer location router dns name 
network operators assign geographically meaningful names routers presumably administrative convenience 
example name sanfrancisco cw net corresponds router located san francisco 
router names recognizable router names may contain indication location 
precise dns names associated router interfaces routers 
ease exposition simply term router 
brief outline geotrack works please refer detailed description 
dns name router parsed determine contains location codes 
geotrack uses database approximately location codes cities europe 
isp tends naming convention may multiple codes city chi chicago ord chicago il 
geotrack incorporates isp specific parsing rules specify subset valid codes position may appear router names 
domain name router decide isp belongs 
heuristic works reasonably perfect multiple domain names may correspond administrative domain alter net uu net due merger independent networks 
reason numbers enable determine administrative domain boundaries complete accuracy 
coverage geotrack net router names traceroute data set recognizable approximately 
compiled list major isps nationwide backbones international coverage sprintlink cable wireless internet level exodus uunet alter net vbns global crossing 
router names major isps recognizable 
individual cases uunet recognizability excess 
routers recognized percentage routers recognized path position path recognizability router names function position router path 
position quantified dividing number hops leading router total number hops 
manual inspection large chunk router names tool meaningful codes decipher locations 
router names tend concentrated regional called router names net domain 
campus networks 
example cmu psc net node pittsburgh pa contain valid city airport code geotrack unable recognize location 
shows recognizability lowest close start path 
peak corresponding path due source location known 
nodes typically located vicinity source destination resulting error linearized distance minimal 
case data set geotrack able recognize router names approximately 
interestingly noticed huge difference naming convention 
needed create new set codes data set 
possible inaccuracies city codes geotrack computing location router label manually determined encoded 
possibility location router determined geotrack incorrect 
greatly reduced possibility errors delay verification isp specific parsing rules manual inspection 
delay verification perform simple check difference minimum rtts adjacent routers path high distance large 
simple check helped distinguish cities named geneva similar city codes switzerland texas 
enumerated specific rules different isps major isps data set specify exact position city code embedded label 
conjunction isp specific city codes greatly reduces chances wrong location output 
manually inspected geographic paths corresponding large sample traceroute data check possible errors 
second linearized distance computed distorted geographic locations routers path unknown 
reduce distortion restricting analysis paths recognizable intermediate routers 
linearized distance path skewed due intra metro distances 
intra metro distances affect analysis small values linearized distances 
reduce skew consider paths linearized distance greater kms study 
limitations discuss limitations study arising due inherent limitations geographic information due limitations experimental methodology 

geography determine performance perfect relationship geographic dis course possible include psc cmu codes 
refrain doing want include codes geotrack inherently indicate location 
doing lead path exhaustive tabulation undesirable 
tance network performance 
possible circuitous path yields better performance circuitous 
instance optimal path certain countries may means large detour geographic terms 
section show exits strong correlation minimum delay linearized distance connecting path 
light view geographic analysis network paths providing hints paths potentially anomalous examined closely determine anomalous indication improvement latency non circuitous path source destination feasible way quantify network properties hot potato routing may provide new insight properties 

ip level topology incomplete linearized distance computation considers router level ip level topology 
way discovering underlying physical topology may atm technologies general underestimate linearized distance 
limitation methodology note trend high speed networks oc faster away separate layer layer architectures ip atm ip network 
trend increases applicability methodology 
circuitousness internet paths section examine nature circuitous routes internet 
standard measure circuitousness define metric distance ratio ratio linearized distance path geographic distance source destination path 
distance ratio reflects degree network path nodes deviates direct geographic path nodes 
ratio indicate perfect match absolutely direct route large ratio indicate circuitous path 
different analysis view studying impact spatial factors temporal factors 
spatial factors study effect geographic network locations hosts circuitousness paths 
study temporal properties compare circuitousness paths drawn paxson data set ones drawn data set 
analyze relationship minimum delay hosts linearized distance path 
effect network location section vary network location source destination study effect distance ratio paths 
analysis fix source compare distance ratio paths destinations different networks 
second analysis compare distance ratio paths different sources geographic location different network connectivities set hosts network 
paths single source consider paths traceroute sources universities varied set hosts univhosts tvhosts 
hosts univhosts including sources connect internet high speed backbone local 
wide area path sources host univhosts traverses internet backbone 
hand tvhosts diverse set includes hosts located various commercial networks aol msn home university campuses 
wide area paths sources hosts tvhosts typically traverse commercial isp backbones 
cumulative distribution uc berkeley univhosts vs tvhosts univhosts tvhosts distance ratio cdf distance ratio paths uc berkeley univhosts tvhosts 
difference groups destination hosts reflected cumulative distribution function cdf distance ratio cases 
shows source uc berkeley distance ratio close destinations 
ratio corresponding linearized distance exceeds geographic distance destinations univhosts tvhosts 
finding consistent rich internet connectivity san francisco bay area uc berkeley located 
area includes public internet exchanges mae west private peering points 
path uc berkeley host destination host able transition isp sf bay area 
little need take detour city just transition destination isp 
far pronounced difference univhosts tvhosts cases look tail distribution 
instance th percentile mark distance ratio case univhosts case tvhosts words detour times large tvhosts destinations univhosts versus 
paths hosts tvhosts tend circuitous traverse multiple commercial isps peering relationships may cause detours path 
discuss issue detail section 
observe qualitatively trends university sources distance ratio tends smaller paths leading univhosts compared tvhosts 
multiple sources location consider paths pairs hosts location entirely different networks destinations univhosts set 
consider pairs traceroute sources machine berkeley campus berkeley home cable modem network machine university washington uw campus seattle microsoft research network km away 
cumulative distribution univhosts comparison universities cable corporate sites uc berkeley berkeley cable modem uw microsoft research redmond distance ratio cdf distance ratio paths pairs colocated sources univhosts 
shows cdf distance ratio sources 
sources located berkeley find university campus significantly smaller distance ratio especially tail distribution 
instance th percentile distance ratio uc berkeley source cable modem source 
destination set univhosts uc berkeley source tends direct routes internet cable modem client home commercial isps 
observe similar trend uw microsoft pair 
uw source direct routes university hosts microsoft source 
instance path microsoft university chicago follows highly circuitous route network 
geographic path traversed includes los angeles carlton tx indianapolis chicago order 
linearized distance path km geographic distance seattle chicago km 
contrast path uw internet far direct passes denver kansas city indianapolis chicago total linearized distance km 
results indicate nature network connectivity source destination significant impact direct circuitous network paths 
effect geographic location geographic location source indirectly determines network connectivity 
sources near connected geographic locations bay area potentially circuitous routes commercial isps pop close 
better understand effect geographic location compare distance ratios sources different locations common set destination hosts 
extend analysis study role network structures different continents europe circuitousness paths 
multiple sources different locations consider paths sources geographically distributed locations stanford washington university st louis wustl university north carolina unc 
destination set larger diverse set univhosts set considered section 
cumulative distribution different sources unc stanford wustl distance ratio cdf distance ratio paths multiple sources 
shown distance ratio tends smallest paths originating stanford largest originating wustl 
stanford berkeley located san francisco bay area served large isps nationwide backbones 
contrast wustl connected 
paths wustl enter network st louis take detour chicago north dallas south 
cities path transitions major isp cable wireless proceeds destination 
detour particularly expensive terms distance ratio central location st louis means geographic distance various destinations relatively small 
general paths wustl traverse significant distances backbones large isps tend circuitous paths stanford traverse distance backbone single isp regardless isp 
example highly circuitous path involved large isps path originates wustl st louis terminates host indiana university km away 
geographic path goes st louis new york chicago network 
new york transitions network path back chicago st louis heading indiana 
linearized distance km times geographic distance 
examine impact multiple isps greater detail section 
specific findings pertaining stanford wustl may important general results suggest distribution distance ratio consistent intuition richness connectivity hosts different geographic locations 
versus europe analyze distance ratios paths europe compare distance ratios paths consider paths sources destinations set paths european sources destinations set 
paths contained entirely entirely europe 
consider paths sources european destinations vice versa distance ratio paths tends dominated long links tends push ratio 
cumulative distribution vs europe europe uc berkeley stockholm sweden bologna italy distance ratio cdf distance ratio paths europe 
show distribution distance ratio sources berkeley stockholm sweden bologna italy europe 
observe distance ratio tends larger european sources compared berkeley especially tail distribution 
attribute causes 
paths europe tend traverse multiple regional national isps 
complex peering relationships isps results convoluted paths 
instance path bologna host salzburg austria traverses isps italian academic research network leading pan european isp netherlands passes milan italy geneva switzerland paris france amsterdam netherlands frankfurt germany vienna austria 
linearized distance path km geographic distance bologna salzburg km 
second cases path european source european destination passes nodes instance path stockholm sweden croatia passes node new york city belonging large international isp 
event isps europe better connectivity isps appropriate route traffic route may circuitous 
third geographic distances europe tend smaller ones case st louis section small detours routing particularly expensive terms distance ratio paths hosts europe 
temporal properties routing better understand temporal properties routing compare distribution distance ratio computed data set computed paxson data set 
paths data set correspond traceroutes conducted nodes mainly academic locations part testbed 
considered paths subset nodes located data set includes multiple traceroute measurements pair hosts 
study data successful traceroute pair hosts 
keep nature measurement points similar data set consider paths source hosts located universities hosts univhosts set 
cumulative distribution vs distance ratio cdf distance ratio paths paxson data set data set 
plots cdf distance ratio data sets 
observing tail cumulative distribution find distance ratios tend smaller data set 
improvement surprising internet richly connected today years ago 
exist direct point point links locations previously connected indirect path 
correlation delay distance analyze relationship geography delay path 
geography provide information performance characteristics bandwidth congestion path linearized distance path enforce minimum delay path propagation delay path 
study correlation tvhosts data set represents wide variety hosts 
traceroute data obtain rtt samples router path 
routers path recognizable consider minimum rtt geographic distance linearized distance recognizable router path 
analysis restrict list probes cumulative distribution lin dist kms geo dist kms lin dist kms geo dist kms lin dist kms geo dist kms minimum rtt ms cdf minimum rtt tvhosts different ranges linearized distances geographic distances paths illustrates correlation minimum rtt path linearized distance path geographic distance hosts 
important observations 
low values linearized distance exists strong correlation delay linearized distance large fraction hosts especially small values linearized distances 
expect correlation stronger compute minimum larger number samples 
second linearized distance path enforce minimum rtt important performance metric latency sensitive applications 
third minimum rtt hosts lesser correlation geographic distance compared linearized distance path connecting 
observe range linearized distance path rtt variation smaller variation range geographic distance hosts 
linearized distance path conveys minimum rtt characteristics path merely geographic distance hosts 
verified observations hold data sets collected 
coarse correlation minimum delay geographic distance building ip location mapping service 
summary results sections observe circuitousness route depends geographic network location hosts 
cases trends observe distance ratio consistent intuition 
large value distance ratio enables automatically flag paths highly circuitous possibly necessarily routing anomalies 
show minimum delay hosts linearized distance path strongly correlated 
relationship indicates circuitousness route effect delay observed route completely dictate performance route 
impact multiple isps analysis section focused characteristics path source destination 
path typically traverses multiple autonomous systems ases 
ases stub networks university corporate networks source destination nodes may located isp networks 
relationships networks complex 
relationships university network isp regional isp nationwide isp peering relationships nationwide isps 
stub network may multi homed connected multiple providers 
nationwide isps may peer multiple locations san francisco new york 
complex interconnections individual networks impact routing 
section show geography means analyze complex interconnections 
specifically investigate questions internet paths individual isp networks circuitous paths impact presence multiple isps circuitousness path distribution path length individual isp networks geography shed light issue hot potato versus cold potato routing 
circuitousness paths versus intra isp paths take closer look circuitousness internet paths quantified distance ratio 
compare distance ratio paths sections path lie individual isp networks 
consider paths sources data set analysis 
shown distance ratio paths tend significantly larger intra isp paths 
words paths tend circuitous intra isp paths 
furthermore distribution ratio tends vary isp internet doing better average alter net part uunet doing worse 
cumulative distribution path vs isp path path isps avg alter net internet distance ratio cdf distance ratio paths versus sections path lie individual isp networks 
believe reason paths tend circuitous peering relationship isps may create detours 
inter domain routing internet largely uses bgp protocol 
bgp path vector protocol operates level ases 
offers limited visibility internal structure isp network 
actual cost hop terms latency distance largely hidden bgp level 
result path may include large detours 
issue isps typically employ bgp policies control exchange traffic isps traffic enters leaves network ingress egress points 
control knobs available bgp include import policies assigning local preference indicate favorable path export policies assigning multiple exit discriminator control traffic enters isp network 
policies influenced business considerations 
instance packets customer isp customer isp city go peering point different city simply local service provider origin city peers isp isp provide transit service isps 
bgp policies may partly explain example mentioned section packets host st louis nearby location travel network way new york enter network 
seen examples path austin tx memphis tn transition sprintlink happens san jose ca path madison wi st louis mo transition happens washington dc 
specific information policies employed isps definitive claim bgp blame 
view complex policies come play context inter domain routing surprising paths tend circuitous 
contrast routing isp network controlled 
typically link state routing protocol ospf intra domain routing 
internal topology isp network usually known routers routing isp network tends close optimal 
section path lies isp network tends circuitous 
referring example section st louis chicago new york path network new york chicago st louis path network circuitous path 
mean intra isp paths circuitous 
noted section circuitous path microsoft research seattle university chicago linearized distance km geographic distance km 
imply path necessary suboptimal 
fact circuitous path may best viewpoint network load congestion 
point geography provides useful insights non optimality network paths presents part picture 
impact path length circuitousness distance ratio geographic distance vs distance ratio path intra isp path geographic distance kms distance ratio versus geographic distance ends path 
median distance ratio computed km buckets km km 
minimum distance threshold km imposed prevent ratio blowing bucket km 
question arises analysis connection circuitousness path length geographic distance ends path 
words longer paths inherently circuitous regardless traverse isp 
fact paths tend longer intra isp paths may explain greater circuitousness 
shown trend quite opposite 
distance ratio tends decrease geographic distance increases 
reason impact detour curves arises large variance distance ratio small values geographic distance 
th th percentile marks km bucket case smaller relative terms context longer path 
distance ratio path tends greater intra isp path regardless geographic distance 
greater circuitousness paths due presence multiple isp networks path 
impact multiple isps circuitousness cumulative distribution circuitous vs routes circuitous max circuitous max max max fraction path isp cdf fraction path lies top isps case circuitous paths non circuitous paths 
section hypothesized presence multiple isps path contributes circuitousness path 
examine issue carefully 
classify paths categories non circuitous distance ratio circuitous distance ratio 
path category identify top isps account linearized distance 
compute fraction linearized distance accounted top isps denote fractions max max 
example path linearized distance km traverses km network km uunet network smaller distances networks max max 
note possible max max entire path traverses just isp network 
note local area networks confined city university network contribute nil linearized distance ignored 
shows cdf max max circuitous non circuitous paths 
difference characteristics categories paths striking 
max max curves closer case circuitous paths case non circuitous paths 
words intra isp case 
corresponding marks km bucket case intra isp case 
choice thresholds arbitrary capture intuitive notion circuitous non circuitous routes 
note may paths fall category 
case circuitous paths path traverses substantial distances top isps isps 
contrast non circuitous paths tend dominated single isp 
instance median values max max case circuitous paths approximately respectively 
words top isps account respectively path median case 
fractions paths approximately respectively skewed favor top isp 
cumulative distribution distance ratio vs number major isps path isp isps isps distance ratio cdf distance ratio function number major isps traversed path 
paths traversed major isps 
consider impact number major isps traversed path distance ratio 
shows clear trend distance ratio tends increase path traverses greater number isps 
instance median distance ratios respectively major isps 
th percentile distance ratio respectively 
path traverses larger number major isps may span greater distance 
noted section explain larger distance ratio 
fact greater geographic distance tend distance ratio smaller larger findings reinforce hypothesis correlation circuitousness path quantified distance ratio presence absence multiple isps account substantial portions path 
distribution isp path lengths section examine distribution endto linearized distance accounted individual isps 
wish understand effort carrying traffic wide area path different isps 
nationwide isps listed section consider set paths traverse nodes isp network 
path compute fraction path lies isp network 
plots cdf fraction isps 
cumulative distribution internet sprintlink uunet path distribution isps fraction path isp cdf fraction path lies individual isp networks 
case consider paths university sources data set 
observe distributions look different 
instance median fraction toend path lies sprintlink corresponding fraction uunet internet 
internet high speed backbone network connects university campuses toend path traverses internet typically originates terminates university campuses 
internet backbone accounts overwhelming fraction toend paths 
uunet accounts larger fraction paths traverse backbone commercial isp considered 
may reflect close relationship uunet parent runs vbns backbone academic sites 
smaller fraction case sprintlink harder explain definitively 
conversations people sprint learned academic sites major customers sprintlink participates minimally carrying academic traffic 
location traceroute sources academic sites may explain sprintlink accounts small fraction path 
stress point analysis general claims certain isps better worse 
show geographic analysis endto paths yields interesting insights role played multiple isps specific contexts academic sites insights consistent intuition 
hot potato versus cold potato routing investigate geographic information helpful assessing isp routing policies internet conform hot potato routing cold potato routing 
hot potato routing isp hands traffic downstream isp quickly 
cold potato routing opposite hot potato routing isp carries traffic far possible network handing downstream isp 
policies reflect different priorities isp 
hot potato case goal get rid traffic soon possible minimize amount isp network needs 
cold potato case goal carry traffic isp network extent possible maximize control isp quality service 
general isp routing policy lie extremes hot potato cold potato routing 
cumulative distribution isp vs second isp isp isp sprintlink isp isp fraction path isp cdf fraction path lies second isp networks sequence 
consider set paths sources tvhosts 
path traverses major isps nationwide backbones compute fraction toend path lies major isp isp second major isp isp sequence 
fractions measures amount isps conveying packets 
distributions fractions plotted 
observe fraction path lies isp tends significantly smaller second isp 
instance median isp second isp 
consistent hot potato routing behavior isp tends hand traffic quickly second isp carries greater distance 
plots distributions path lengths case isp sprintlink 
find difference isp isp curves greater case 
consistent hot potato routing behavior part sprintlink routes academic locations 
summary section geographic information study various aspects wide area internet paths traverse multiple isps 
internet paths tend circuitous intra isp paths presumably peering relationships isps 
furthermore paths traverse substantial distances isps tend circuitous paths largely traverse single isp 
circuitous routing behavior attributed sub optimal geographic peering isps 
findings geography analysis consistent hypothesis isps generally employ hot potato routing 
presence hot potato routing may explain major isps account relatively small fraction path 
geographic fault tolerance isps important component studying internet routing understand fault tolerance aspects 
fault tolerance network normally studied granularity router link failures 
failure model capture fact seemingly independent routers susceptible correlated failures 
ask question tolerance isp network total network failure geographic region failure affects paths traversing region 
refer failure geographic failure 
potential reasons failure include natural earthquakes power blackouts 
geographic location information routers identify routers located construct geographic topology isp 
topology geographic region associated node edge nodes signifies existence long haul backbone link connects corresponding geographic regions 
obtained geographic topologies major isps listed section caida site 
cable wireless sprintlink uunet exodus 
topologies obtained information published isps web sites months date 
may possible construct isp geographic topology extensive traceroute measurements hard assess completeness constructed topology 
restrict geographic topologies obtained caida 
acknowledged caida possible topologies may incomplete 
may due limited tracing presence backup paths routing 
perform analysis assumption topologies reasonably complete missing links 
degree distributions degree node provides level quantification fault tolerance node topology 
node degree tolerate geographic failures getting completely disconnected nodes topology 
particular leaf node resilient geographic failure neighbor failure leaf node minimal impact rest network 
hand failure node high degree impact neighbors corresponding different geographic regions 
complete freedom placing edges nodes possible construct topology minimum vertex cut 
words edges placed way presence node failures graph resulting topology remain connected 
term placement edges maximizes size vertex cut optimal placement 
optimal placement vertices degree viz 
simple case optimal placement results ring topology 
optimal placement may difficult construct due practical constraints provides nice point comparing fault tolerance isp topologies 
order contrast isp topology optimal scenario look degree distribution nodes 
say graph skewed degree distribution node degrees distributed wide range large node degrees high percentage nodes leaves 
internet topology exhibits skewed degree distribution characterized power law described 
cumulative distribution degree distribution isp geographic topology psi isp combine node degree degree distribution geographic topologies isps commercial isps skewed degree distributions isps skewed degree distributions closer optimal 
degree distribution affected due missing links 
shows degree distributions 
topology maximum percentage leaves isp topologies nodes degree greater chicago dallas 
hand nodes degree 
matches optimal degree edge node ratio corresponds optimal degree 
isp combine curve shows degree distribution geographic topology obtained combining topology graphs isps 
geographic nodes corresponding city individual isp topologies map single node combined topology 
combined topology significant skew degree distribution 
nodes continue leaves 
happens despite combined topology having edge node ratio corresponds optimal degree 
hand nodes located important networking hubs 
san jose washington dc chicago degree combined topology 
failure high connectivity nodes skewed degree distributions tier isps indicate geographic regions isp may get disconnected high connectivity geographic nodes fail 
evaluate consider failure scenario nodes highest degrees graph fail 
define pair geographic nodes connected network path communicate communicating pair 
connected topology nodes support communicating pairs 
node represents geographic region consider intra node communication node 
scenario nodes highest degrees fail graph disconnected forest node communicate nodes connected component 
connected component nodes support communicating pairs 
simple case parent leaf node fails produces connected component size supports exactly communicating pair 
percentage communicating pairs fault tolerance isp topologies psi isp combine number geographic faults tolerance geographic failures shows percentage communicating pairs supported various isp networks face varying number geographic failures 
combined topology isps supports communicating pairs removal important networking hubs san jose new york washington dc chicago los angeles 
isps exhibit best fault tolerance characteristics 
face single node failure isps lose communicating pairs worst case 
important note results may represent case failure scenario isps 
backup links missing topology fraction communicating pairs may higher portrayed 
essential message analysis balanced degree distribution feature building fault tolerant topology isp 
geography means analyzing various aspects internet routing 
analysis extensive traceroute data shows existence circuitous routes internet 
toend perspective observe circuitousness routes depends geographic network locations 
find minimum delay path strongly correlated linearized distance path geographic distance points 
suggests circuitousness path impact minimum delay characteristics important toend performance metric 
ongoing studying correlation geography network performance 
second careful examination shows circuitous paths tend traverse multiple major isps 
major isps points presence common locations peering restricted specific geographic locations causes paths traversing multiple isps circuitous 
intra isp paths far circuitous inter isp paths 
important requirement reduce circuitousness paths isps peering relationships geographic locations 
third fraction path lies isp network varies widely isp 
furthermore consider paths traverse major isps find path generally traverses significantly shorter distance isp network second 
finding consistent hot potato routing policy 
geographic information able quantify degree isp routing policy resembles hot potato routing 
analysis geographic fault tolerance isps indicates ip level network topologies tier isps exhibit skewed degree distributions may induce low tolerance failure single critical geographic node 
combined topology multiple isps exhibits better fault tolerance characteristics assuming isps peer geographic locations common 
acknowledgments vern paxson data set available 
arvind arasu badrinath mary baker paul barford john byers chlamtac mike dahlin kevin jeffay craig labovitz paul mahesh vijay parthasarathy jerry prince amin vahdat srinivasan geoff voelker marcel waldvogel david wood helped obtain access geographically distributed set measurement hosts 
vern paxson anonymous usenix reviewers provided useful comments earlier version 

andersen balakrishnan morris kaashoek 
resilient overlay networks acm sosp november 
cheswick burch 
mapping visualizing internet usenix technical conference june 
diot 
personal communication november 
faloutsos faloutsos faloutsos 
power law relationships internet topology 
acm sig comm august 
gao 
inferring autonomous system relationships internet 
ieee global internet november 
govindan tangmunarunkit heuristics internet map discovery 
ieee infocom march 
stahl nickname whois rfc ietf october 
jacobson traceroute software ftp ftp ee lbl gov traceroute tar gz labovitz malan jahanian 
internet routing instability 
acm sigcomm august 
lyles 
personal communication august 
moore world caida org 
inet june 
moy 
ospf version 
rfc ietf april 
padmanabhan subramanian 
investigation geographic mapping techniques internet hosts 
acm sigcomm august 
paxson 
measurements analysis internet dynamics 
ph dissertation uc berkeley 
ftp ftp ee lbl gov papers vp thesis dis ps gz 
traffic engineering new public network 
networks whitepaper september 
rekhter li 
border gateway protocol bgp 
rfc ietf march 
savage collins hoffman snell anderson 
effects internet path selection acm sigcomm pp september 
geography com internet 
www internet org internet traffic archive 
ita ee lbl gov list public libraries sunsite berkeley edu list public traceroute servers www traceroute org list web servers europe pauli de world europe html macroscopic internet visualization measurement 
www caida org tools visualization matrix net www matrix net npd routes data set internet traffic archive 
ita ee lbl gov html contrib npd routes html traceroute data 
cs berkeley edu skitter project caida 
www caida org tools measurement skitter vbns high performance backbone network service 
www vbns net www com 
