ieee acm transactions networking vol 
august promoting congestion control internet considers potentially negative impacts increasing deployment non congestion controlled best effort traffic internet negative impacts range extreme unfairness competing tcp traffic potential congestion collapse 
promote inclusion congestion control design protocols best effort traffic argue router mechanisms needed identify restrict bandwidth selected high bandwidth best effort flows times congestion 
discusses general approaches identifying flows suitable bandwidth regulation 
approaches identify high bandwidth flow times congestion unresponsive tcp friendly simply disproportionate bandwidth 
flow tcp friendly long term arrival rate exceeds conformant tcp circumstances 
unresponsive flow failing reduce offered load router response increased packet drop rate disproportionate bandwidth flow uses considerably bandwidth flows time congestion 
sally floyd senior member ieee kevin fall congestion control mechanisms tcp critical factor robustness internet 
internet longer small closely knit user community longer practical rely nodes congestion control traffic 
similarly longer possible rely developers incorporate congestion control internet applications 
network participate controlling resource utilization 
assuming internet continue congested due scarcity bandwidth proposition leads possible approaches controlling best effort traffic 
approach involves deployment packet scheduling disciplines routers isolate flow possible effects flows 
approach suggests deployment flow scheduling mechanisms separately regulate bandwidth best effort flow usually effort approximate max min fairness 
manuscript received february revised may approved ieee acm transactions networking editor pink 
supported director office energy research scientific computing staff department energy contract de ac sf defence advanced research dabt 
floyd center internet research icsi berkeley ca usa mail floyd aciri org 
fall computer science ion university california berkeley berkeley ca usa mail cs edu 
publisher item identifier 
revised version technical report router mechanisms support congestion control february 
expands sections sections broken separate documents 
ieee second approach outlined routers support continued congestion control primary mechanism best effort traffic share scarce bandwidth deploy incentives continued 
incentives form router mechanisms restrict bandwidth best effort flows disproportionate share bandwidth times congestion 
mechanisms give concrete incentive users application developers protocol designers congestion control best effort traffic 
third approach rely financial 
pricing mechanisms control sharing 
relying exclusively ii 
financial incentives result risky gamble network providers able provision additional bandwidth deploy effective pricing structures fast keep growth unresponsive best effort traffic internet 
approaches sharing flow schedul ing incentives congestion control pricing mechanisms necessarily mutually exclusive 
fundamental heterogeneity internet requirement routers service providers follow precisely approach 
approaches lead different con role congestion control best effort traffic different consequences terms increasing deployment traffic internet 
internet cross roads terms congestion control best effort traffic 
position actively welcome widespread deployment non congestion controlled best effort traffic actively discourage widespread deployment action allow widespread deployment simple fact life 
argue recognizing essential role congestion control best effort traffic strengthening incentives critical issues internet expands larger community 
show section ii increasing deployment traffic lacking congestion control lead congestion collapse internet 
form congestion collapse result congested links sending packets dropped network 
essential factor form congestion collapse absence feedback 
flow scheduling algorithms supply fairness cost increased state provide inherent incentive structure best effort flows strong congestion control 
argue routers need deploy mechanisms provide incentive structure flows congestion control 
potential problem congestion collapse discussed applies best effort traffic bandwidth guarantees differentiated services better best effort traffic class provide bandwidth guarantees 
expect net deploy premium services flows particular quality service requirements pre services require explicit admission control preferential scheduling network 
premium traffic packets enter network network known resources required deliver packets final destination 
premium services bandwidth guarantees apply small fraction internet traffic internet continue dominated classes best effort traffic congestion control 
section ii discusses problems extreme unfairness potential congestion collapse result increasing levels best effort traffic congestion control 
section iii discusses general approaches determining high bandwidth flows regulated having bandwidth restricted router 
conservative approach identify high bandwidth flows tcp friendly bandwidth conformant tcp implementation circumstances 
second approach identify high bandwidth flows unresponsive arrival rate router reduced response increased packet drops 
third approach identify disproportionate bandwidth flows high bandwidth flows may responsive tcp friendly excessive bandwidth time high congestion 
mentioned different approach flow scheduling mechanisms variants round robin fair queueing fq isolate best effort flows routers 
flow scheduling mechanisms prevent best effort flow disproportionate amount bandwidth times congestion require mechanisms identify restrict bandwidth particular best effort flows 
section iv compares approach identifying unresponsive flows alternate approaches flow scheduling relying pricing structures incentives congestion control 
addition section iv discusses advantages aggregating best effort traffic queues simple fcfs scheduling active queue management mech described 
section gives discusses open questions 
simulations ns simulator available 
scripts run simulations available separately 
ii 
problem unresponsive flows unresponsive flows flows congestion control particular reduce load network subjected packet drops 
unresponsive behavior result unfairness gf kj ms fig 

network 
ms congestion collapse internet 
unfairness bandwidth starvation unresponsive flows inflict behaved responsive traffic 
danger congestion collapse stems network busy transmitting packets simply discarded reaching final destinations 
discuss dangers separately 
problems unfairness problem caused absence tion control illustrated drastic unfairness results tcp flows competing unresponsive udp flows scarce bandwidth 
tcp flows reduce sending rates response congestion leaving uncooperative udp flows available bandwidth 
fig 
graphically illustrates happens udp tcp flows compete bandwidth routers fcfs scheduling 
simulations scenario fig 
bandwidth link set mb traffic consists tcp connections node sl node unlimited data send single constant rate udp flow node 
routers single output queue attached link fcfs scheduling 
sending rate udp flow ranges mb definition goodput 
define goodput flow bandwidth delivered receiver excluding duplicate packets 
simulation represented fig 
marks udp arrival rate router rl udp goodput third tcp goodput 
axis shows udp sending rate fraction bandwidth rl link 
dashed line shows udp arrival rate router entire simulation set dotted line shows udp goodput solid line shows tcp goodput expressed fraction available bandwidth rl link 
congestion link udp arrival rate router udp sending rate 
bold line top graph shows aggregate goodput 
fig 
shows sending rate udp flow small tcp flows high goodput bandwidth rl link 
sending rate udp flow larger udp flow receives correspondingly large fraction bandwidth rl link tcp flows back response packet drops 
unfairness results responsive unresponsive flows competing bandwidth fcfs scheduling 
udp flow effectively shuts responsive tcp traffic 
flows exact tcp congestion control mechanisms fcfs scheduling ieee acm transactions networking vol 
august axis udp arrival rate 
dashed line udp arrivals dotted line udp goodput solid line tcp goodput bold line aggregate goodput fig 

simulations showing extreme unfairness tcp flows udp flow fcfs scheduling 
axis udp arrival rate ri 
dashed line udp arrivals dotted line udp goodput solid line tcp goodput bold line aggregate goodput fig 

simulations tcp flows flow wrr scheduling 
unfairness 
bandwidth necessarily distributed equally tcp flows sufficient demand 
discusses relative distribution bandwidth competing tcp connections different round trip times 
analyzes difference goes discuss relative distribution bandwidth competing tcp connections paths different numbers congested gateways 
example shows result tcp congestion control algorithms connection throughput varies inverse connection round trip time 
paths multiple congested gateways shows connection throughput varies inverse square root number congested gateways 
fig 
shows flow scheduling mechanisms router explicitly control allocation bandwidth set competing flows 
simulations fig 
scenario fig 
fcfs scheduling replaced weighted round robin wrr sched flow assigned equal weight units bytes fig 
shows wrr scheduling udp flow restricted roughly link bandwidth 
results similar variants fq scheduling 
danger congestion collapse section discusses congestion collapse undelivered packets shows unresponsive flows contribute congestion collapse internet 
informally congestion collapse occurs increase network load results decrease useful done network 
congestion collapse reported mid largely due tcp connections unnecessarily retransmitting packets transit received receiver 
call congestion collapse results unnecessary re transmission packets classical congestion collapse 
classical congestion collapse stable condition result goodput small fraction normal 
problems classical congestion collapse generally corrected timer improvements congestion control mechanisms modem implementations tcp 
second form potential congestion collapse congestion collapse undelivered packets form interest 
congestion collapse undelivered packets arises bandwidth wasted delivering packets network dropped reaching ultimate destination 
believe largest unresolved danger respect congestion collapse internet today 
danger congestion collapse undelivered packets due primarily increasing deployment open loop applications congestion control 
destructive best effort applications increased sending rate response increased packet drop rate increased level forward error correction fec 
note congestion collapse undelivered pack ets forms congestion collapse discussed section differ classical congestion collapse degraded condition stable returns normal load reduced 
necessarily mean dangers severe 
different scenarios result floyd fall congestion control internet axis udp arrival rate 
dashed line udp arrivals dotted line udp goodput solid line tcp goodput bold line aggregate goodput fig 

simulations showing congestion collapse tcp flows udp flow fcfs scheduling 
axis udp arrival rate rl 
dashed line udp arrivals dotted line udp goodput solid line tcp goodput bold line aggregate goodput fig 

simulations tcp flows udp flow wrr scheduling 
congestion collapse 
axis udp arrival rate rl 
dashed line udp arrivals dotted line udp goodput solid line tcp goodput sold line aggregate goodput fig 

simulations tcp flow udp flows showing congestion collapse fcfs scheduling 
different degrees congestion collapse terms fraction congested links bandwidth productive 
fig 
illustrates congestion collapse undelivered pack ets scarce bandwidth wasted packets reach destination 
simulation fig 
uses scenario fig 
bandwidth link set kb bandwidth rl link 
final link path udp traffic smaller bandwidth compared udp packets dropped output port link udp source rate exceeds kb illustrated fig 
udp source rate increases linearly tcp goodput decreases roughly linearly udp goodput nearly constant 
udp flow increases offered load effect hurt tcp aggregate goodput 
rl link udp flow ultimately wastes bandwidth tcp flow reduces goodput network small fraction bandwidth link 
fig 
shows scenario fig 
router uses wrr scheduling fcfs scheduling 
udp flow restricted link bandwidth minimal reduction aggregate goodput 
case single flow responsible wasted bandwidth link scheduling mechanisms reasonably successful preventing congestion collapse unfairness 
flow scheduling mechanisms router relied eliminate form congestion collapse scenarios 
figs 
number unresponsive flows contributing congestion collapse flow scheduling completely solve problem 
scenarios ieee acm transactions networking vol 
august 


axis udp arrival rate rl 
dashed line udp arrivals dotted line udp goodput solid line tcp goodput bold line aggregate goodput fig 

simulations tcp flow udp flows showing congestion collapse wrr scheduling 
fig 

congestion collapse number udp flows increases different traffic mix illustrates congestion collapse occur network routers fcfs wrr scheduling 
scenarios tcp connection node sl node constant rate udp con node 
fig 
shows fcfs scheduling fig 
shows wrr scheduling 
fig 
high load aggregate goodput link maximum fig 
aggregate goodput rl link maximum 
fig 
shows limiting case large number small bandwidth flows congestion control threaten congestion collapse highly congested internet regardless scheduling discipline router 
simulations fig 
flows tcp flows node sl node constant rate udp flows node 
axis shows number udp flows simulation ranging 
axis shows aggregate goodput fraction bandwidth rl link simulation sets fcfs scheduling wrr scheduling 
simulations wrr scheduling flow assigned equal weight congestion collapse created increasing number udp flows going link 
scheduling partitions source destination pairs congestion collapse created increasing number udp flows traversing rl links separate source destination pairs 
essential factor form congestion col lapse scheduling algorithm router bandwidth single absence number udp flows fraction total flows 
dotted line fifo scheduling solid line wrr scheduling congestion control udp traffic 
congestion collapse essentially udp traffic somewhat reserved paid kb bandwidth rl link spite bandwidth limitations link 
datagram network congestion control needed prevent flows continuing send large fraction packets dropped network reaching destination 
note congestion collapse undelivered packets issue circuit switched network sender allowed send path appropriate bandwidth 
forms congestion collapse addition classical congestion collapse congestion collapse undelivered packets potential forms congestion collapse include fragmentation congestion collapse congestion collapse increased control traffic congestion collapse stale packets 
discuss forms congestion collapse briefly section 
fragmentation congestion collapse con sists network transmitting fragments cells packets discarded receiver reassembled valid packet 
fragmentation tion collapse result cells fragments network layer packet discarded link layer rest delivered receiver wasting bandwidth congested path 
danger fragmentation congestion collapse comes mismatch link level transmission units cells fragments floyd fall congestion control internet higher layer retransmission units datagrams packets prevented mechanisms aimed providing network layer knowledge link layer vice versa 
mechanism early packet discard arranges atm switch drops cells drop complete frame worth cells 
mechanism path mtu discovery helps minimize packet fragmentation 
variant fragmentation congestion collapse con network transmitting packets received correctly transport level node subsequently discarded node user 
occur web users abort partially completed tcp transfers delays network re request data 
form fragmentation congestion collapse result persistent high packet drop rate network ameliorated mechanisms allow nodes save re data partially completed transfers 
form possible congestion collapse congestion collapse increased control dis cussed research community 
case result increasing load increasing congestion increasingly large fraction bytes transmitted congested links belong control traffic packet headers small data packets routing updates multicast join prune messages session messages reliable multicast sessions dns messages increasingly small fraction bytes transmitted correspond data delivered network applications 
final form congestion collapse congestion collapse stale occur scenario infinite buffers packet drops 
congestion collapse stale packets occur congested links network busy carrying packets longer wanted user 
happen example data transfers took sufficiently long due high delays waiting large queues users longer interested data arrived 
congestion collapse unwanted packets occur time increasing load increasing fraction link bandwidth push web data requested user 
building right incentives essential factor congestion collapse undelivered packets absence tion control question build right incentives network 
needed network architec ture include incentives applications congestion control 
current architecture concrete incentives individual users congestion control cases rewards users receive larger fraction link bandwidth 
growing consensus internet community congestion control fundamental health internet social incentives protocol designers software vendors release products internet congestion control 
sufficient depend social incentives 
axelrod evolution cooperation discusses conditions required cooperation main tained system stable state 
way view congestion control internet tcp connections cooperating share scarce bandwidth times congestion 
benefits cooperation cooperating tcp connections share fifo queue simple scheduling accounting mechanisms reap benefits short bursts packets connection transmitted burst 
fifo queueing tolerance short bursts reduces worst case packet delay packets arrive router burst compared worst case delays flow scheduling algorithms 
cooperative behavior sharing scarce bandwidth foundation tcp congestion control global internet 
inescapable price cooperation remain stable mechanisms put place users incentive behave long term 
users internet information users competing scarce bandwidth incentive mechanisms come users come network infrastructure 
explores mechanisms deployed routers provide concrete incentive users participate cooperative methods congestion control 
alternative ap proaches flow scheduling mechanisms reliance pricing structures discussed 
section iii focuses mechanisms identifying high bandwidth flows sufficiently unresponsive bandwidth regulated routers 
main function mechanisms reduce incentive flows evade congestion control 
mechanisms single router sufficient obviate need congestion control prevent congestion collapse environment characterized evasion congestion control 
ways prevent congestion collapse undelivered packets succeed incentives routers maintaining en vironment characterized congestion control maintain virtual circuit style environment packets prevented entering network network sufficient resources deliver packets final destination 
iii 
identifying flows regulate section discuss range policies router identify high bandwidth flows regulate 
router active queue management bed arrival rates high bandwidth flows efficiently estimated packet drop history router 
bed packet drop history constitutes random sampling arriving packets flow significant frac tion dropped packets correspondingly significant fraction arriving packets 
higher ieee acm transactions networking vol 
august bandwidth flows flow fraction dropped packets estimate flow fraction arriving packets 
purposes discussion assume routers mechanism efficiently estimating arrival rate high bandwidth flows 
router needs consider regulating best effort flows significantly share bandwidth presence suppressed demand evidenced packet drops best effort flows 
router regulate flow bandwidth differentially scheduling packets flow preferentially dropping packets flow router 
congestion mild represented low packet drop rate router need take steps identify high bandwidth flows check flows need regulated 
approaches section assume flow defined granularity source destination ip addresses port numbers tcp connection single flow 
approach discussed section iii identifying flows disproportionate share bandwidth times congestion aggregates flows 
aggregation attractive routers interior network high degree statistical multiplexing flow uses small fraction available bandwidth 
high bandwidth backbone router flow identification packet classification fine grained basis necessarily viable approach 
approaches discussed section designed detect small number misbehaving flows environment characterized conformant congestion control 
effective substitute congestion control useful incentive limit benefits evading congestion control 
effective substitute congestion control virtual circuit style mechanism prevented packets sent link path sufficient resources guaranteed available packet hops path 
additional issues addressed practices encryption packet fragmentation difficult routers classify packets fine grained flows 
practice packet fragmentation decrease mtu discovery 
encryption ip security protocol ipsec prevent routers source ip addresses port numbers identifying flows traffic routers triple packet header defines security association identify individual flows aggregates flows 
policies outlined section regulating high bandwidth flows range degree caution 
policy regulate high bandwidth flows times congestion known violating expectations congestion control unresponsive congestion described section iii exceeding bandwidth conformant tcp flow circumstances described section iii 
case unresponsive flow restricted bandwidth responsive flow cautious approach bandwidth responsive flow cautious powerful approach 
second response provide concrete incentive congestion control include danger incorrectly throttling flows fact conformant congestion control 
policy regulate flows determined disproportionate share bandwidth time congestion described section iii 
flows unresponsive congestion simply con formant congestion control coupled significantly smaller round trip time larger packet size competing flows 
appropriate response flow identified disproportionate share bandwidth cautious approach simply restricting flow bandwidth seen responsive flows 
response essentially constitutes modified limited form flow scheduling invoked high bandwidth flows times congestion 
sections discuss issues detecting flows unresponsive tcp friendly simply disproportionate bandwidth time congestion 
identi ng flows tcp friendly definition tcp friendly 
say flow tcp friendly arrival rate exceed arrival conformant tcp connection circumstances 
test flow tcp friendly assumes tcp characterized congestion response reducing congestion window half indications congestion windows containing packet drops increasing congestion window constant rate packet round trip time 
response congestion leads maximum sending rate tcp connection packet loss rate packet size round trip time 
packet drop rate maximum sending rate tcp connection bytes tcp connection sending packets bytes fairly constant round trip time including queueing delays seconds 
equation discussed detail appendix apply test output link router know maximum packet size bytes packets link minimum round trip time flows link 
router measurement aggregate packet drop rate link output queue time interval estimate packet drop rate experienced particular flow 
packet drop rate minimum round trip time maximum packet size router improved form equation easily calculate maximum arrival rate conformant tcp connection similar circumstances 
actual tcp connections generally maximum bandwidth floyd fall congestion control internet limited demand longer round trip time window size limitation smaller packet size aggressive tcp implementation receiver sends delayed ack additional packet drops network 
reduce simple table router aggregate steady state packet drop rate arrival rate individual flow flow drop rate ratio flow dropped packets arriving packets lower aggregate drop rate queue router overestimate flow actual drop rate time underestimate flow arrival rate bytes effects tend cancel implying estimates lead problems incorrect identification unresponsive unfriendly flows 
confirmed simulations date 
test tcp friendliness attempt verify responds packet drop exactly conformant tcp flow 
assume flow bandwidth aggressive con formant tcp implementation circumstances 
tcp protocol subject change congestion control mechanisms derive point changed internet engineering task force ietf responsible standards body 
limitations tcp window increase decrease algorithms followed conformant tcp implementations installed base systems internet persist time point changes proposed tcp standards allow aggressive responses congestion 
long best effort traffic dominated installed base tcp reasonable routers restrict bandwidth best effort flow arrival rate higher conformant tcp implementation circumstances 
tcp friendly test attempt detect flows tcp friendly 
example router know lower bound flow round trip time router know flow actual round trip time 
routers attached links large propagation delays tcp friendly test eq 
gives useful tool identifying flows tcp friendly 
routers attached links smaller propagation delay tcp friendly test eq 
identify unfriendly flows 
routers exclude possibility conformant tcp flow receive disproportionate share link bandwidth simply significantly smaller round trip time competing tcp flows 
limitations test tcp friendly test applied flow level granularity single tcp connection 
difficult determine maximum packet size bytes minimum round trip time 
individual flow arrival rate significantly exceeds maximum tcp friendly arrival rate tcp friendly congestion control larger packets smaller round trip time assumed router 
close packets internet bytes smaller routers detect high bandwidth flows larger packets simply observing sizes packets history dropped packets 
simple test router determine round trip time active connection 
minimum round trip time set twice way propagation delay attached link limit appropriateness test routers propagation delay attached link signif fraction delay connection path 
care taken apply tcp friendly test measurements taken sufficiently large time interval 
time period correspond flow round trip times 
long round trip time flow incorrectly identified tcp friendly short measurement interval relative round trip time router notice flow delayed response congestion short time respond accordingly removing bandwidth restrictions may applied see 
consideration applying prevalence packet drops buffer overflow 
equation applies packet drop behavior flow receives packet drop window data packet drop corresponds separate indication congestion nodes 
particular congestion high significant buffer overflow multiple packets dropped window data fairly common 
response router proposal routers freely restrict bandwidth best effort flows de tcp friendly times congestion 
flows stealing bandwidth tcp friendly traffic seriously contributing danger congestion collapse 
flow bandwidth restriction removed longer significant link congestion shown reduce arrival rate appropriately response congestion 
example test tcp friendly test 
possibility tcp friendly test explored simulations identify high bandwidth best effort flow tcp friendly estimated arrival rate greater rj maximum packet size bytes twice propagation delay attached link aggregate packet drop rate queue 
flow restriction removed arrival rate returns new packet drop rate identifying unresponsive flows tcp friendly test specific congestion control responses tcp routers may want tcp centric measure 
tcp friendly test limited usefulness routers unable assume strong bounds tcp packet sizes round trip times 
general test simply verify high bandwidth flow responsive arrival rate decreases appropriately response increased packet drop rate 
equation shows tcp flow persistent demand long term packet drop rate connection ieee acm transactions networking vol 
august increases factor arrival rate source decrease factor roughly 
example long term packet drop rate increases factor arrival rate decrease factor 
suggests test identifying unresponsive flows drop rate changing 
steady state drop rate increases factor load high bandwidth flow decrease factor reasonably close fi flow deemed congestion control unresponsive 
similarly steady state drop rate increases factor load aggregated traffic decrease factor reasonably close fi mix aggregated traffic changed traffic aggregate congestion control categorized unresponsive 
applying test flow aggregate requires estimates flow arrival rate packet drop rate long time intervals 
flow arrival rate estimated history packet drops maintained ac tive queue management flow packet drop rate estimated aggregate packet drop rate queue 
test attempt detect flows responding congestion applied high bandwidth flows 
packet drop rate remains relatively constant flows identified unresponsive 
addition router limited information flow responses congestion 
primary congestion indications experienced flow coming network 
addition arrival rate seen router result sending rate drop rate experienced congested link earlier path 
additional refinement responsiveness test distinguish separate subcases flows relatively constant average arrival rate indicated drop metric face increasing packet drop rate router flow average arrival rate generally tracks longer term changes packet drop rate router flow average arrival rate change independently changes router packet drop rate 
limitations test discussed previous section care taken applying test 
particular test unresponsiveness straightforward flow variable demand 
addition possible congestion mechanisms senders adjusting coding rates receivers subscribing layered multicast groups original data source strong rate variations time 
high bandwidth flow restricted identified unresponsive determined responding congestion reducing arrival rate restriction removed 
tests deployed path tests responsiveness give flows incentive start overly high initial bandwidth 
flow reduce sending rate response congestion receive larger share bandwidth competing flows 
response router router freely restrict bandwidth best effort flows determined times congestion 
flows stealing bandwidth responsive tcp friendly traffic importantly increasing danger congestion collapse 
applying test passively observing flow arrival rate changes response changes packet drop rate possibility apply test actively 
done purposefully increasing packet drop rate high bandwidth flow times congestion observing arrival rate flow link decreases appropriately 
example test test unresponsiveness 
possibility unresponsiveness test identify high bandwidth best effort flow unresponsive packet drop rate creases factor flow arrival rate decreased previous value 
restrictions removed unresponsive flow increased packet drop rate arrival rate returns half arrival rate restricted 
identifying flows disproportionate bandwidth third test simply identify flows disproportionate share bandwidth times high congestion disproportionate share defined significantly larger share flows presence suppressed demand flows 
router restrict bandwidth flows flows known conformant tcp congestion control 
conformant tcp flow disproportionate share bandwidth circumstances tcp sustained persistent demand tcp large windows tcp significantly smaller round trip time larger packet sizes active tcp number flows packet drops reporting interval 
obvious test check flow disproportionate share bandwidth times congestion test fraction aggregate arrival rate greater small constant times aggregate packet drop rate greater threshold deemed unacceptable level congestion 
test modification approach threshold acceptable packet drop rate simply allows greater distribution best effort bandwidth packet drop rates lower 
goal prevent flows highly disproportionate share bandwidth sufficient demand best effort flows 
component disproportionate bandwidth test check flow disproportionate share bandwidth 
define flow disproportionate share best effort bandwidth fraction aggregate arrival rate log log natural logarithm 
chose fraction close equal grows slowly multiple second component test takes account level congestion reflected aggregate packet drop rate define flow having high arrival endto rate relative level congestion arrival rate greater jij bps constant definition motivated characterization section iii relationship arrival rate packet drop rate conformant tcp 
simulations set close bytes limitations test gauging level unsatisfied demand problematic 
large round trip time tcp flow persistent demand single packet drop represent significant suppressed demand 
short bursty web transfer single packet drop mean terms unsatisfied demand 
response router conservative approach limit restriction high bandwidth responsive flow long run flow receives bandwidth highest bandwidth unrestricted flow 
restricting bandwidth high bandwidth flow identified unresponsive tcp friendly care taken punish restricting bandwidth severely 
example test disproportionate bandwidth test 
aggregate packet drop rate unrestricted best effort traffic number flows packet drops interval 
possibility disproportionate bandwidth test identify best effort flow disproportionate bandwidth estimated arrival rate greater arrival rate greater fraction log best effort bandwidth 
restriction removed conditions longer true 
iv 
alternate approaches alternative router mechanisms pro posed ubiquitous deployment congested routers internet flow scheduling mechanisms round robin fair queueing scheduling 
general flow scheduling algorithms separately schedule packets flow dividing available bandwidth various flows providing isolation 
flow scheduling mechanisms routers take care fairness issues concerning competing best effort flows 
flow scheduling need mechanisms identify restrict bandwidth best effort flows appropriate congestion control 
section argue routers flow scheduling mechanisms need additional mechanisms incentive best effort flows congestion control fcfs scheduling advantages best effort traffic apart issues implementation efficiency incentives regarding congestion control 
seen section ii flow scheduling prevent congestion collapse undelivered packets 
extent flow scheduling mechanisms encourage congestion control best effort traffic 
recommendations ubiquitous deployment flow scheduling best effort traffic assumption heterogeneous world best effort flows relied responsive congestion isolated 
sense flow scheduling incentives wrong direc tion encouraging flows sure queue congested router goes empty lose turn scheduling 
advantage simple fcfs scheduling flow scheduling fcfs scheduling efficient im 
implementation efficiency concern link speeds number active flows link increase 
apart considerations implementation efficiency fcfs scheduling ways optimal scheduling algorithm class traffic long term aggregate arrival rate restricted admission controls case best effort traffic compatible congestion control procedures 
comparison fq round robin scheduling fcfs scheduling reduces tail delay distribution 
particular fcfs scheduling allows packets arriving small burst transmitted burst having packets spread delayed scheduler 
sense fcfs scheduling flow fq round robin scheduling ends spectrum 
middle ranges spectrum include fcfs schedul ing enhanced mechanisms differential treatment unresponsive flows include relaxed variants flow scheduling allow small bursts transmitted flow include additional incentives congestion control 
middle range include fcfs scheduling differential dropping flows disproportionate share bandwidth scheduling mechanisms class queueing cbq lo stochastic fair queueing operate levels granularity extremes single flow entire aggregate best effort traffic 
differential treatment unresponsive flows consist preferentially dropping packets unresponsive flows keeping packets queue packets unresponsive flows separate queue queues 
choice concerns granularity regulation applied 
approach outlined section iii identifying unfriendly flows best applied level granularity single flow sending rate aggregate flows quite different sending rate single flow 
contrast approaches outlined sections iii iii identifying unresponsive flows flows disproportionate bandwidth applied aggregates flows 
scheduling packet dropping mechanism applied aggregate fundamental question relative allocation scarce network resources various aggregates 
issue remains problematic level granularity single flows application open separate flows destination example frequently change port numbers active flows 
particular form evasion congestion control reduced development mechanisms shared congestion control flows source destination 
speculative issue min max fairness ideal fairness metric best effort traffic specific router 
min max fairness advantage simple define router basis approach defining flows disproportionate share link bandwidth 
considering network min max definition fairness restricts attention separately isolated component 
appropriate fairness metric recognizing flow equal access scarce resources internet take account global factors number congested links flow path 
alternative router mechanisms described deployment pricing structures sensitive behavior flow global internet elicit desired behavior 
pricing structures provide incentive applications congestion control envisioned state required pricing scheme nontrivial 
contrast router mechanisms detect restrict bandwidth uncooperative flows deployed requiring global knowledge global consistency network infrastructure provide con crete incentive flows appropriate congestion control mechanisms 
mechanisms deployed con router information packet drops congestion indications generated router 
network engineered typical case sufficient bandwidth demand distinctions various scheduling algorithms incentive mechanisms important 
similarly network possibility congestion collapse due congested links carrying packets dropped network remote 
hard predict scenario sufficient bandwidth demand achieved 
argued need congestion control need mechanisms network detect restrict unresponsive high bandwidth best effort flows times congestion 
mechanisms provide incentive support congestion control best effort traffic 
clearly substantially done developing investigating approaches outlined 
outlined specific proposal mechanisms identifying controlling unresponsive flows 
believe important issue precise functioning mechanisms restrict bandwidth un responsive best effort flows simply mechanisms deployed 
mechanisms go long way making concrete essential role played congestion control best effort traffic internet 
appendix tcp connection section discusses negative impact network breaking single tcp connection multiple connections ieee acm transactions networking vol 
august application level increase throughput 
particular show concurrent connections increases throughput applications break tcp connection multiple connections relative applications increases packet drop rate shared best effort traffic see 
breaking single tcp connection multiple connections example possible spiral increasingly aggressive tcp congestion control behaviors leads increasing packet drop rates internet 
tcp connection separated different tcp single packet drop results receiving th aggregate bandwidth having throughput cut half 
single packet drop causes aggregate arrival rate dropped fraction previous value 
tcp continues increase congestion window packet rtt tcp reached receiver advertised window aggregate tcp connections increase arrival rate packets rtt 
aggressive congestion control lead correspondingly larger steady state packet drop rate internet 
router detect tcp connection separated different tcp defining granularity flow source destination ip addresses 
appendix characterizing tcp friendly flows congestion control introduced tcp tcp flows internet packet drops indication congestion responded reducing offered load half window data experiencing packet drop 
responsive flow persistent demand increasing packet drop rate flow router short delay result decreased arrival rate flow router 
section give upper bound arrival rate single conformant tcp connection router steady state packet drop rate router upper bound tcp packet size lower bound tcp connection round trip time 
characterization routers characterize selected flows bandwidth tcp flow circumstances 
section explore relationship put packet drop rate conformant tcp connection 
conformant tcp connection mean tcp connection tcp sender follows essential components today tcp congestion control 
tcp data sender interprets packet drop window data indication congestion responds reducing congestion window half 
second congestion avoidance phase absence congestion tcp sender increases congestion window packet round trip time precisely packet window data 
components lead simple relationship steady floyd fall congestion control internet state packet drop rate received tcp connection steady state average throughput achieved connection 
reasons conformant tcp implemen tations respond congestion aggressively allowed limits congestion control described 
tcp connections potentially long delays due mit timeouts times tcp senders invoke slow start responding congestion tcp connections may limited maximum bounds window size imposed buffering lack window scaling sender receiver tcp connections receiver sends ack packet data packets tcp sender increases congestion window packet round trip time 
assume steady state model tcp introduced section 
purposes heuristic analysis assume single packet dropped tcp connection time congestion window increased packets congestion window packets 
steady state model assumes nonzero average packet drop rate individual tcp connection packet drop window data 
tcp sender responds packet drop cutting congestion window half 
packet dropped tcp sender increases congestion window packet round trip time congestion window reaches old value packets steady state tcp connection receives packet drop 
assumption model deterministic repeatable pattern admittedly unrealistic leads results verified simulations section independently derived rigorous analysis 
equation results steady state model proposed basis new congestion control mechanisms 
consider tcp connection sending packets precisely segments bytes fairly constant round trip time including queueing delays seconds 
time packet dropped tcp sender congestion window packets 
decreasing window half packet drop increasing window round trip time tcp sender transmits 
wz packets packet dropped 
fraction sender packets dropped bounded reciprocal value plw 
wi steady state model assuming link steady state packet drop rate gives maximum congestion window tcp connection packet dropped 
mbps msec fig 

simulation network 
mbps msec steady state model congestion window increased packet round trip time average congestion window single cycle steady state model maximum sending rate tcp connection single cycle steady state model bytes substituting get upper bound tcp average sending rate applies conformant tcp decreases congestion window half congestion window decreased half increases congestion window packet round trip time upper bound applies tcp restricted receiver advertised window tcp variants vegas tcp refrain increasing congestion window congestion avoidance phase 
assuming steady state packet drop rate steady state model tcp connection gets send packets packet drops clearly tcp connection maximizes average throughput increasing congestion window maximum allowed amount round trip time 
counter intuitive 
purpose steady state model section explore relationship steady state packet drop rate steady state arrival rate tcp connection 
certainly specific scenario equal tcp refrains increasing congestion window time time increase throughput decreasing aggregate packet drop rate 
change fact inequality describes relationship packet drop rate arrival rate connection 
tcp connections data receiver sends ack packets show stronger upper bound sending rate 
tcp connection delayed ack receiver sender receives ment packets increases window slowly tcp connection receives ack packet 
delayed ack receiver fraction connection arriving packets dropped gives upper bound arrival rate result derived rigorous model constant fl 
ieee acm transactions networking vol 
august fig 

tcp friendly bandwidth ms round trip time byte packets 
language refers packet drops proposals add explicit congestion notification tcp ip 
explicit congestion deployed dropping packet provide feedback congestion router sim ply mark packets setting explicit congestion notification bit packet headers 
limitations model equations take account tcp delays due waiting mit timers time 
drastically overestimates bandwidth steady state scenarios tion window packets packet drop rate percent arriving packets dropped byte packets second roundtrip time drop rate percent arriving packets dropped byte packets second roundtrip time dropped 
occurs packet drop rate higher 
congestion window higher tcp connection recover single packet drop fast retransmit receiving duplicate acknowledgments 
congestion window smaller tcp connection generally wait retransmit timeout 
extreme case packet drop rate loo steady state model assume tcp connection sends packet round trip time approximation gives tcp sending rate slightly packet round trip time 
incorporating notion retransmit timer floyd fall congestion control internet arriving packets dropped percent sack tcp delayed ack sink byte packets second roundtrip time fig 

tcp bandwidth versus steady state drop rate sack tcp delayed ack receiver ms round trip time byte packets backoff model gives realistic result 
simulations verifying tcp friendly characterization section simulations loosely verify tcp friendly characterization 
equation verified simulations experiments 
fig 
illustrates simulation topology evaluate tcp friendly characterization 
solid line top graph fig 
shows tcp friendly bandwidth function packet drop rate 
shown straight line bottom graph 
curved solid line bottom graph shows revised equation 
fig 
assumes tcp connection minimum round trip time maximum packet size bytes 
axis shows fraction arriving packets dropped axis shows upper bound tcp arrival rate kbytes bottom graph repeats top graph log log scale 
dashed line fig 
shows results single simulation set 
simulation consists competing connections tcp udp node sl node 
simulation set sending rate udp flow ranges zero available bandwidth congested link 
router uses fcfs scheduling queue management 
red packet drop mechanisms generally able prevent fifo buffer overflowing red average queue size exceeding maximum threshold 
tcp connection sees round trip time including queueing delay roughly ms simulation represented number fig 

simulations simulation set differ sending rate udp flow 
numbers show simulations tcp connection uses byte packets 
numbers show simulations byte packets 
simulation sets tahoe tcp sack tcp 
simulation sets data receivers delayed ack sending ack acknowledge data packets single acks sending ack data packet 
simulations tcp clock granularity ms axis fig 
shows fraction tcp connection arriving packets dropped axis shows tcp connection sending rate 
sack tahoe simulations byte pack ets single ack receivers simulation sets simulation results reasonable match computed tcp friendly bandwidth 
drop rates lower sack tahoe tcp receive computed tcp friendly bandwidth 
examining output traces shows simulations uncommon packets dropped single window data congestion epoch 
happens packet drops constitute single indication congestion nodes 
packet drop rates greater fig 
shows tcp friendly bandwidth greatly overestimates arrival rate tcp connection 
mentioned earlier version steady state model take account delays due retransmit timers 
simulations byte packets closely match byte packets 
seen fig 
aggressive tcp congestion control tcp byte packets aggressive tcp byte packets higher steady state packet drop rate needed sustain connection bandwidth 
spiral increasingly aggressive congestion control lead matching spiral increasingly high steady state packet drop rate context fixed available bandwidth 
fig 
shows results sack tcp delayed ack receiver simulated topology fig 

fixed throughput tcp connection delayed ack receiver receive half packet drop rate tcp connection receives ack packet 
top solid line shows analytical results immediate ack receiver bottom solid line shows analytical results delayed ack receiver 
packet drop rate tcp connection delayed ack receiver receive throughput tcp connection immediate ack receiver 
acknowledgment results part long collaboration jacobson 
results long history discussions disagreements ietf transport area directorate internet research group 
ieee acm transactions networking vol 


august particularly indebted balakrishnan ieee acm trans 
networking vol 
pp 
june 
online 
zhang anonymous reviewers sigcomm ieee acm transactions networking feedback worked related issue red packet drops detect highbandwidth flows bolot braden mahdavi mathis shenker discussions matters 
available www wustl edu ton jun lakshman mckenney stochastic fairness queueing proc 
con computer communications ieee infocom pp 

mogul deering path mtu discovery rfc internet engineering task force nov 
mahdavi floyd 
tcp friendly unicast rate control online 
available www psc edu networking papers tcp friendly html wi mathis semke mahdavi ott macroscopic behavior tcp congestion avoidance algorithm acm comput 
commun 
rev vol 
pp 
july 
axelrod evolution cooperation 
new york harper collins 
pi balakrishnan padmanabhan seshan stemm katz tcp behavior busy intemet server analysis improvements proc 
conj computer communications ieee infocom mar 
online 
available www cs berkeley papers infocom ps gz clark shenker zhang supporting real time applications integrated services packet network architecture mechanism proc 
sigcomm symp 
communications architectures protocols pp 

demers keshav shenker analysis simulation fair queueing algorithm internetworking research experience vol 
pp 

fall floyd simulation comparisons tahoe sack tcp acm cornput 
commun 
rev pp 
july 
online 
available www nrg ee lbi gov nrg papers html cl floyd fall 

router mechanisms support congestion control online 
available ee lbl gov floyd papers html floyd fall promoting congestion control intemet submitted publication 
online 
available www nrg ee lbl gov floyd html floyd jacobson traffic phase effects packet switched gateways internetworking research experience vol 
pp 
sept 
nagle congestion control lp tcp rfc internet engineering task force jan 
wi 
ns network simulator online 
available cs berkeley edu ns ml ott mathis 

stationary distribution ideal tcp congestion avoidance online 
available networks rpi edu papers tcp ps wi padhye firoiu towsley kurose modeling tcp throughput simple model empirical validation proc 
sigcomm symp 
communications protocols aug pp 

online 
available www acm org sigcomm sigcomm tp abs html wi romanow floyd dynamics tcp traffic atm networks ieee select 
areas commun vol 
pp 

online 
available www nrg ee lbl gov nrg papers html 
wi ramakrishnan floyd proposal add explicit congestion notification ecn ip rfc jan 
shenker making greed networks game theoretic analysis switch service disciplines proc 
sigcomm symp 
communications architectures protocols aug pp 

ll thompson miller wilder wide area intemet traffic patterns characteristics ieee network vol 
pp 

nov 
varghese avoiding congestion collapse washington univ workshop integration ip atm nov 
floyd jacobson random early detection gateways congestion avoidance ieee acm trans 
networking vol 
pp 
aug 
online 
available www nrg ee lbl gov html link sharing resource management models packet networks trans 
networking vol 
pp 

online 
available www nrg ee lbl gov nrg papers html ill floyd connections multiple congested gateways networks part way traffic acm comput 
commun 
rev vol 
pp 
oct online 
available www nrg ee lbl gov nrg tcp explicit congestion notification acm comput 
commun 
rev vol 
pp 
oct 

multiplexing tcp udp inter discussion online 
available www aciri org floyd tcp mux html jacobson congestion avoidance control proc 
sigcomm symp 
communications architectures protocols pp 

online 
available mp ftp ftp ee ibl gov papers ps sally floyd sm received degree sociology minor mathematics university california uc berkeley 
received ph degrees computer science uc berkeley respectively 
worked computer systems bay area rapid transit ca 
member network research group lawrence berkeley national laboratory 
berkeley ca 
february member center internet research icsi aciri international computer science institute berkeley ca 
research interests include congestion control computer networks analysis network dynamics 
kent atkinson security architecture intemet protocol rfc internet engineering task force nov 
kent mogul fragmentation considered harmful proc 
kevin fall received computer science university sigcomm symp 
communications architectures protocols aug california berkeley 
received ph degrees pp 

computer science university california uc san diego kent mogul partridge ip mtu discovery respectively 
options rfc internet engineering task force july 
cl lin morris dynamics random early detection proc 
member network research group lawrence berkeley national laboratory berkeley ca 
sigcomm symp 
communications architectures protocols computer science division uc berkeley research pp 


lakshman madhow performance tcp ip networks high bandwidth delay products random loss computer scientist adjunct assistant professor 
founder mountain view ca 
research interests include simulation network protocol architecture performance analysis 
