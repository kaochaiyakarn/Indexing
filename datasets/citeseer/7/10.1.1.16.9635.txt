topology aware overlay networks group communication kwon department computer sciences purdue university west lafayette cs purdue edu sonia fahmy department computer sciences purdue university west lafayette fahmy cs purdue edu propose application level multicast approach topology aware grouping tag exploits underlying network topology information build efficient overlay networks multicast group members 
tag uses information path overlap members construct tree reduces overlay relative delay penalty reduces number duplicate copies packet link 
study properties tag model experiment economies scale factor quantify benefits compared unicast ip multicast 
compare tag approach esm approach variety simulation configurations including number real internet topologies generated topologies 
results indicate effectiveness heuristic algorithm reducing delays duplicate packets reasonable time space complexities 
categories subject descriptors network protocols applications local widearea networks internet communications management network communication performance simulation general terms algorithms design performance keywords overlay networks application level multicast network topology routing 
variety issues technical commercial hampered widespread deployment ip multicast global internet 
application level multicast approaches overlay networks proposed viable alternative ip multicast :10.1.1.12.7544:10.1.1.35.1680:10.1.1.19.7440
particular system multicast esm gained considerable attention due permission digital hard copies part personal classroom granted fee provided copies distributed profit commercial advantage copies bear notice full citation page 
copy republish post servers redistribute lists requires prior specific permission fee 
nossdav may miami florida usa 
copyright acm 
success conferencing applications 
main idea esm narada protocol hosts exclusively handle group management routing information exchange overlay forwarding tree construction 
efficiency constructed large overlay multicast trees terms performance scalability primary subject 
propose simple heuristic algorithm call topology aware grouping tag exploit underlying network topology data constructing efficient overlays application level multicast 
new member multicast session determines path root session uses path overlap information partially traverse overlay data delivery tree determine parent children 
path computed current internet routing protocols serves basis building overlay network small delay penalty duplicate packets sent link due overlaying 
tag nodes maintain small amount information ip addresses paths parent children nodes 
esm tag tailored applications large number members join session different times regard delay primary performance metric bandwidth secondary metric 
example limited bandwidth streaming application multi player line game latency important performance measure 
tag constructs overlay tree delay current internet routing protocols uses bandwidth loose constraint break ties paths similar delays 
investigate properties tag model economies scale factor compared unicast ip multicast 
verify economies scale factor simulation 
demonstrate simulations effectiveness tag terms delay duplicate packets available bandwidth number large scale configurations 
remainder organized follows 
section describes basic algorithm extensions 
section analyzes properties tag economies scale factor 
section simulates proposed algorithm compares esm real generated internet topologies 
section discusses related 
section summarizes discusses 

topology aware overlays overlays emerged practical alternative ip multicast overlay performance terms delay penalty number duplicate packets referred link stress large groups important concerns 
exchange overlay endto routing group management information limits scalability overlay multicast approach 
current overlay example topology aware overlay networks network proposals employ basic mechanisms protocol collecting measurements members protocol building overlay graph tree measurements 
propose exploit underlying network topology information building efficient overlay networks 
underlying network topology mean shortest path information ip routers maintain 
definition shortest depends particular routing protocol employed usually denotes shortest terms delay number hops 
topology information illustrated 
source destinations hosts belong multicast group represent routers 
thick solid lines denote current data delivery tree 
dashed line represents shortest path new node wishes join delivery tree member appropriate parent node 
relay consistent shortest path duplicate packet copies added packets direction counted separately packets reverse direction 
difficult determine shortest path number duplicate packets introduced absence knowledge underlying network topology 
network topology information obtained multicast participant discussed section nodes need exchange complete measurements topology information exploited construct better overlay trees 
tag destination selects parent destination shortest path source maximal overlap path reduce increase number hops reduce delay unicast path satisfying loose bandwidth constraints 
overlay approaches tag require class addressing multicast router support 
tag session identified root ip addr root port root denotes primary sender session serves root multicast delivery tree 
case multiple senders discussed section 
define terms definition 
path node node denoted sequence routers comprising shortest path node node underlying routing protocol 
referred spath root tree 
length path len number routers path 
definition 
prefix root tree 
example path spath len 

tag node maintains family table ft defining parent child relationships node 
ft entry designated parent node remaining entries children 
seen ft entry consists tuple address spath 
address ip address node spath shortest path root node 
complete path matching algorithm path matching algorithm traverses overlay data delivery tree determine best parent possibly children new node 
algorithm considers mutually exclusive conditions depicted 
new member wishing join current session node examined 
possible select node child len len len continue traversing sub tree rooted 
children child children 
case child satisfying second conditions exists child 
note child satisfying condition exist 
complete path matching algorithm 
algorithm denotes new member represents node currently examined target node probe necessary 
proc ch child lag condition ch null ch target ch lag condition fi ch add ch children parent ch lag condition fi flag condition ch child ch null fi od flag condition target add children fi node currently examined new node joining group ch child target node examine complete path matching algorithm reasons selecting node second conditions spath longest prefix spath 
children parent ft family table ft new member new member subscribes ft new member subscribes candidate best children ft ft new member new member new member children conditions complete path matching root new member member member path matching find find join request reply request reply request reply member join process tag new member 
path source new member consistent shortest path determined routing algorithms 
reduces additional delay introduced overlays 
second sharing longest prefix number duplicate packets overlay network additional hops parent child reduced 
tree management section discuss multicast tree management protocol including member join member leave fault resilience adaptivity evaluate time complexity 
member join new member joining session sends join message main sender session root tree 
receipt join computes spath new member executes path matching algorithm 
new member child ft updated accordingly 
propagates find message child shares longest spath prefix new member spath 
find message carries ip address spath new member processed executing path matching updating ft propagating find 
propagation find messages continues new member finds parent 
process depicted 
example illustrated 
source root multicast tree routers destinations 
thick arrows denote multicast forwarding tree computed tag 
ft member shown 
destinations join session order 
receipt join message creates entry ft 
computes shortest path destination receiving join message destination 
joins session executes path matching algorithm spath 
determines better parent sends find message takes child 
similarly determines parent 
joins session determines parent takes children 
fts ft ft ft ft ft ft ft ft ft ft ft ft ft ft member join tag updated accordingly 
joins session child 
gives final state multicast forwarding tree ft node 
member leave member leave session sending leave message parent 
example wishes leave session sends leave message parent 
leave message includes ft leaving member 
receiving leave removes ft adds ft entries children case 
constructed multicast forwarding tree illustrated 
time complexity assume simplicity tree node average children assume total multicast participants 
source discovers path new member member join process entails operations node tree traversal 
operation order log number children examined log time longest path matching 
operation worst case requires log operations root leaf node 
total time complexity member join order log member leave requires processing ft entries log worst case path length 
total complexity ft ft ft ft ft ft ft member leave tag member leave order log 
fault resilience failures hosts multicast session uncommon occurrence affect members subtree rooted failing node 
detect failures parent children periodically exchange reachability messages absence data 
child failure detected parent simply discards child ft parent failure detected child rejoin session 
adaptivity changes network conditions change overlay tree inefficient delays large mobile host moves paths fail tag adapt overlay tree new network conditions 
accurate adaptation entail root probe destination periodically determine paths changed 
path changes detected root initiates rejoin process destinations affected 
mechanism introduces scalability problems root burdened potential probe packets generated 
propose mechanisms mitigate scalability problems 
intermediate nodes non leaf nodes participate periodic probing alleviating burden root 
intermediate nodes probe paths children 
second path aggregation destinations substantially reduce number hops destinations probed 
destinations aggregated spath 
destination destination group examined round 
round member group inspected 
changes detected certain group members group updated 
third changes part spath detected destination destination probed destinations group destinations groups overlapping updated 
incorporate mechanisms simulations developing ongoing 
bandwidth considerations tag targets delay sensitive applications delay underlying ip routing protocol primary factor path matching 
complete path matching algorithm reduces delay source destination reduces total number duplicate packets 
high link stress limited bandwidth child may experienced near high degree limited bandwidth nodes constructed tree 
alleviate problem loosen path matching rule node searching parent 
new rule allows node attach node child common spath prefix length len remaining elements spath match spath call method minus partial path matching 
symbol partial denote minus partial path matching 
minus partial path matching allows children node take new nodes children mitigating high stress limited bandwidth near constrained node 
available bandwidth node falls threshold minus path matching activated 
threshold denote strict guarantee gives indication alternate paths explored 
parameter controls deviation allowed path matching 
large value may increase delay reduces maximum stress node may experience improves bandwidth 
minus matching new member examine delay paths traversing tree select path maximizes bandwidth 
node probed new member children eligible potential ancestors new member minus path matching algorithm constitute set nodes examine 
node achieves maximum bandwidth nodes selected 
new path matching algorithm takes bandwidth secondary metric 
member leave operation considers partial path matching 
table shows tradeoff delay mean rdp defined section total duplicate packets tree maximum link stress tree variety values kbps 
simulation setup discussed section 
configuration tag ts members 
fixed simulations currently investigating dynamic adaptation seen table increases minus path matching activated 
consequently larger value reduces total number duplicate packets maximum stress increases rdp value 
tag minus path matching tag trees suffer large number duplicate packets high maximum stress yielding little bandwidth child 
table tradeoffs different values kbps kbps rdp duplicate packets max 
stress topology bandwidth data new member joins multicast session tag root obtain path new member 
propose possible approaches perform 
approach network path finding tool traceroute 
traceroute tool network topology discovery 
routers send icmp messages ttl reaches zero reasons important security 
investigate conducted simple experiments traceroute sites different proc ch child lag condition bandwidth minus path matching condition activated fi ch null ch partial bandwidth ch target ch bandwidth ch lag condition fi ch add ch children parent ch lag condition fi ch child od flag condition target add children fi node currently examined new node joining group ch child target node examine maximum bandwidth potential parents partial path matching algorithm bandwidth secondary metric 
bandwidth function gives available bandwidth node new member continents different times 
approximately routers responded respond 
average time taken obtain print entire path information seconds maximum seconds minimum seconds 
second option exploit topology information provided topology servers 
example ospf topology server track intra domain topology listening ospf link state advertisements pushing pulling information routers snmp 
internet topology discovery projects supply inter domain topology information tag new member joins changes occur 
topology servers may include partial coarse grained level information 
partial information exploited tag partial path matching longest common subsequences 
instability dynamic network conditions bandwidth estimation tools may useful tag conjunction band measurements 
tools similar pathchar useful estimating available bandwidth delay average queue loss rate hop source destination internet 
nettimer useful low overhead measurement link available bandwidth 
multiple sender groups current version tag sender root tree relay data root 
root multicasts data members multicast group 
approach suitable single sender applications main sender selected root group members may occasionally transmit 
applications members transmit approximately equal probabilities root tree carefully selected core selection core tree approaches multicast routing 
multiple backup roots important fault tolerance 

analysis tag section investigate various properties tag study economic aspect 
simplicity tag complete path matching analysis incorporating bandwidth constraints optimizations 
results easily extended minus path matching 
properties tag study conditions path matching algorithm properties trees constructed tag 
lemma 
node ancestor node tag tree iff roof show node parent node denoted parent path matching algorithm parent second third path matching conditions 
cases guarantee generalize case node ancestor necessarily parents node case nodes parent parent mn parent mn parent mn 
parent holds previous case 
similarly transitively parent mn 
follows conditions path matching algorithm 
considering example node ancestor node prefix 
contrast fact prefix implies node ancestor 
investigate conditions path matching algorithm 
lemma 
conditions tag path matching algorithm mutually exclusive conditions occur simultaneously complete case exists 
roof prove mutual exclusion 
show mutual exclusiveness equivalent proving conditions hold simultaneously 
third conditions second third conditions exist definition 
need show second conditions exist 
suppose second conditions occur simultaneously node examined 
new member selects child probing condition 
second condition exist node child siblings 
case path matching algorithm ensured child child lemma contradiction 
third condition includes complement set second conditions conditions complete 
study number trees tag construct 
lemma 
tag constructs unique tree members distinct regardless order joins 
members order joins alters constructed tree 
roof lemma unique relationship nodes parent ancestor child descendent established nodes different independent order joins 
members spath ancestor 

distinct trees constructed tag group members order joins 
study parent properties 
lemma 
spath parent nodes longest prefix spath longest denotes longest comparison members session 
roof consider nodes parent lemma prefix 
suppose exists node prefix len len 
prefixes path len len means prefix 
definition descendent lemma 
path matching algorithm ought child contradiction 
longest prefix parent give bound number hops path root member 
lemma 
destination tag tree spd spd spd number hops shortest path root actual number hops tag tree 
roof consider path root spd len spd number hops path 
fact spd number hops shortest path ensures spd 
maximum occurs ancestors len 
situation depicted 
denotes router destination nodes ancestors hops added path 
len hops added spd 
maximum spd 
modeling economies scale factor important questions answer overlay multicast tree bandwidth saves compared unicast additional bandwidth consumes compared ip multicast 
ip multicast savings naive unicast studied 
section quantify network resources consumed tag 
derive bound function ltag denotes total number packet hops consumed members multicast group 
len hops bound number hops tag 
level tag trees simplicity assume ary data propagation tree tree nodes denote routers 
height tree nodes leaves degree host connected router node tree 
edge link router host connected router added host connected router host connected router 
reason host joins subnet host increase tree cost assuming broadcast networks ethernet 
simplicity assume unary nodes nodes branching occurs exist 
results approximate 
suppose hosts join multicast session 
probability host connected node pn 
number possible locations host equal number nodes tree 
evaluate number packet hops number duplicate packets consumed transmission level tree 
indicates number packet hops link node level parent level 
compute considering different cases host connected node host connected number hops case denotes second case 
tag case single packet hop link node parent node sends packets parent children 
second case host relays packets total number packet hops outgoing links leaves number packet hops link parent 
pn 
pn 
assume hosts uniformly distributed nodes 
assumption implies 

pn ke 
number members tag tree cost versus group size defined follows pn pn ke bh pn packet hop consumed router host connected router subnets 
pn additional hop counts added edge links 
total number packet hops ltag ltag pn solving recurrence obtain pn pn pn pn pn pn pn plots normalized overlay tree cost tag variety values log log scale 
normalized overlay tree cost ltag defined ltag total number hops consumed members divided average number hops unicast curves stabilize group sizes exceeding members 
slope group size grows hosts share links yielding bandwidth savings 
important advantage tag unicast 
shows approximately ltag curves stabilize 
factor smaller unicast larger factor ip multicast replication routers multicast routing algorithms yield additional savings 
verify results simulations section 
performance evaluation discuss simulation setup metrics analyze results 
simulation setup metrics implemented session level packet level simulators tag esm evaluate compare performance 
sets simulations performed different topologies 
set uses transit stub topologies generated gt itm 
transit stub model represents router level internet topologies 
simulate level topologies specifically actual internet topologies nlanr topologies generated inet 
transit stub model produces level hierarchy interconnected higher level transit domains lower level stub domains 
different topologies different numbers nodes 
label ts ts ts respectively label tag ts denotes results tag transit stub topology nodes 
multicast group members assigned stub nodes randomly 
multicast group size ranges nodes 
gt itm generates symmetric link delays ranging ms ms delays stub 
randomly assign bandwidths ranging mb mb backbone links range kb mb links edge routers hosts 
topologies nlanr inet represent level connectivity router level connectivity 
level maps shown exhibit power law topology nodes high degree connectivities nodes exhibit low degree connectivities 
nlanr data set named inet data set named inet number ases nlanr data set 
generate members multicast session assign members ases randomly 
link delays bandwidths ranges transit stub configuration configuration 
link delays asymmetric 
assume ip layer routing algorithm uses delay metric 
routing algorithm mesh esm uses available bandwidth primary metric delay tie breaker 
minus path matching algorithm tag fixed kbps 
parameters esm simulations 
performance metrics evaluating tag esm trees 
relative delay penalty rdp relative increase delay nodes tag unicast delay nodes 
link stress total number duplicate copies packet physical link 
compute total stress tree links maximum value link stress links 
mean available bandwidth mean available toend bandwidth nodes 
performance results transit stub topologies mean rdp values produced tag esm different transit stub topologies ts ts ts plotted 
tag exhibits lower mean rdp values esm different group sizes topologies 
mean rdp values tag ts ts ts range 
ts larger scale topology ts ts larger ts mean rdp values tag similar different topologies 
mean rdp values tag increase increase group size 
esm mean rdp values range 
observe contrary tag mean rdp values esm increase increase group size 
illustrates total stress tag esm different topologies ts ts ts 
group sizes group size tag ts tag ts tag ts narada ts narada ts narada ts mean rdp tag versus esm group size tag ts tag ts tag ts narada ts narada ts narada ts total stress tag versus esm topologies tag stress 
contrast esm exhibits higher stress 
total stress configurations increases proportion group size 
tag ts exhibits lowest total stress 
depicts cumulative distribution total stress 
shows clearly tag configurations larger number small stress links esm configurations 
tag configurations similar distributions approximately region 
esm configurations exhibit similar distributions 
reason delivery trees constructed tag esm protocols different manners different metrics optimization goals 
illustrates tag reduces maximum stress value 
complete path matching algorithm strategically located host attached high degree router parent numerous nodes severely constrains bandwidth available nodes increases stress host 
minus partial path matching algorithm remedies weakness shown 
mean bandwidth plots depicted indicate average available bandwidth members 
available bandwidth member computed fair share bandwidth bottleneck link path member 
significant difference observed tag esm configurations 
important point note esm algorithm lower upper degree bounds group member crucial importance 
parameters control number neighbors member communicates 
upper bound protocol scalable 
simulations observe increasing upper degree bound esm significantly reduces delay stress log scale tag ts tag ts tag ts narada ts narada ts narada ts cumulative distribution stress group size tag ts tag ts tag ts narada ts narada ts narada ts maximum stress tag versus esm penalty link stress 
clearly having neighbors enables member find better path resulting lower delay penalty lower link stress 
higher upper bound increases routing information exchanged detrimental scalability 
example simulated topology narada esm ts group size lower degree bound ldb upper degree bound udb udb value esm simulations 
mean rdp value mean rdp fell lower tag 
total link stress fell higher tag shown 
maximum stress reduced higher tag 
parameter choices tag significantly tuned application bandwidth requirements significantly affect results 
example setting zero complete path matching dramatically improves rdp values tag expense maximum stress bandwidth results discussed section 
inet topologies table shows mean rdp values tag esm trees inet 
terms mean rdp esm performs better tag inet configuration tag better esm 
significant difference observed tag esm respect total link stress maximum stress 
mean bandwidth higher esm 
results due fact fanout nodes topologies higher router level topologies 
minus path matching algorithm tag increases rdp table performance tag esm inet configuration mean rdp total link stress max 
stress mean bandwidth tag narada esm tag inet narada esm inet group size tag ts tag ts tag ts narada ts narada ts narada ts mean bw tag versus esm nodes longer take high degree node parent 
available bandwidth high degree node reduced possibly large number children 
tag considers bandwidth secondary metric maximize bandwidth tree construction choices 
previously discussed running simulations tag zero dramatically reduces rdp inet total stress inet expense increase maximum stress significant decrease bandwidth 
economies scale factor simulate overlay tree bandwidth consumption verify results section 
order compare results assume hop point point transfer represents unit bandwidth count total number hops consumed members 
run sets simulations unicast tag ip multicast configuration 
complete minus path matching tag fair comparison simulation results analysis results modeled complete path matching 
simulations show unicast tag ip multicast consume hops respectively 
plot normalized overlay tree cost tag variety group sizes methodology loglog scale 
normalized overlay tree cost ltag defined section 
shows ltag overlay tree cost stabilizes tree saturation ip multicast 
consistent modeling results 

related system multicast narada clever architecture targeting small sparse groups audio video conferencing groups 
hosts esm exchange group membership information routing information build mesh run dvmrp protocol construct multicast forwarding tree 
authors show important consider bandwidth number members overlay tree cost overlay tree cost versus group size primarily latency constructing conferencing overlays 
focus reduction modeling delay penalty link stress large groups 
application level multicast architectures include scattercast yoid almi overcast 
architectures optimize delay optimize bandwidth 
content addressable network multicast proposed partition member nodes bins proximity information obtained dns delay measurements 
node degree constraints diameter bounds constructed overlay multicast network investigated 
investigate delaunay triangulations routing overlay networks 
prefix application level routing protocol bayeux 
hierarchical approaches improve scalability currently investigated researchers 
protocol theoretically proven build low diameter low degree peer peer networks described 
addition overlay multicast proposals studies related tag approach 
unicast protocol multicast limited router support includes ideas inspired tag reunite protocol 
overlay networks detect performance degradation current routing paths re route hosts include detour ron 
jagannathan almeroth propose algorithm uses multicast tree topology information similar manner exploit path information tag loss reports receivers multicast congestion control 

designed studied topology aware application level multicast protocol tag 
network topology information construct overlay network low delay penalty limited number duplicate packets 
bandwidth considered tree construction secondary metric 
studied properties tag analyzed economies scale factor compared unicast ip multicast 
simulation results transit stub model gt itm inet nlanr data indicate effectiveness algorithm building efficient trees large number group members 
currently generalizing economies scale analysis general trees overlay tree construction algorithms 
studying adaptivity tag algorithm network group changes 
investigating partial topology bandwidth data partial path subsequence matching algorithm dynamically varying values addition incorporate tag different applications multi player online game video streaming application conduct experiments evaluating practical aspects tag implementation tuning performance internet 

acknowledgments authors anonymous reviewers valuable comments 
research sponsored part purdue research foundation schlumberger foundation technical merit award 

georgiadis jacquet szpankowski 
multicast tree structure power law 
proc 
soda 
andersen balakrishnan kaashoek morris 
resilient overlay networks 
proc 
acm sosp october 
ballardie francis crowcroft 
core trees cbt architecture scalable multicast routing 
proceedings acm sigcomm august 
chawathe mccanne brewer 
architecture internet content distribution infrastructure service 
ph thesis fall 
chu rao seshan zhang 
enabling conferencing applications internet overlay multicast architecture 
proc 
acm sigcomm august 
chu rao zhang 
case system multicast 
proc 
acm sigmetrics june 
chuang 
pricing multicast communications cost approach 
proc 
internet society inet july 
deering cheriton 
multicast routing datagram inter networks extended lans 
acm trans 
computer systems may 
diot levine lyles 
deployment issues ip multicast service architecture 
ieee network magazine january february 
faloutsos faloutsos faloutsos 
power law relationships internet topology 
proc 
acm sigcomm pages august 
francis 
yoid internet distribution april 
www aciri org yoid 
francis jamin jin jin raz shavitt zhang 
idmaps global internet host distance estimation service 
ieee acm transactions networking october 
jacobson 
pathchar 
www caida org tools utilities pathchar 
jagannathan almeroth 
tree topology multicast congestion control 
proc 
international conference parallel processing september 
jannotti gifford johnson kaashoek jr overcast reliable multicasting overlay network 
proc 
osdi october 
jin chen jamin 
inet internet topology generator 
technical report cse tr univ michigan 
lai baker 
nettimer tool measuring bottleneck link bandwidth 
proc 
usenix symposium internet technologies systems march 

application layer multicast delaunay triangulations 
proc 
ieee globecom november 
nlanr 
national laboratory applied network research 
nlanr net routing 
raghavan upfal 
building low diameter networks 
proc 
nd annual ieee symposium foundations computer science 
paxson 
routing behavior internet 
proc 
acm sigcomm pages august 
shi verma waldvogel 
almi application level multicast infrastructure 
proc 
usenix symposium internet technologies march 
phillips shenker tangmunarunkit 
scaling multicast trees comments chuang scaling law 
proc 
acm sigcomm 
ratnasamy handley karp shenker 
topologically aware overlay construction server selection 
proc 
ieee infocom june 

network address translator nat friendly application design guidelines 
rfc january 
shaikh goyal greenberg rajan ramakrishnan 
ospf topology server design evaluation 
www cis ohio state edu research html 
shi turner 
routing overlay multicast networks 
proc 
ieee infocom june 
stoica ng zhang 
reunite recursive unicast approach multicast 
proc 
ieee infocom 
zegura calvert bhattacharjee 
model internetwork 
proceedings ieee infocom 
zhuang zhao joseph katz kubiatowicz 
bayeux architecture scalable fault tolerant wide area data dissemination 
proc 
acm nossdav june 
