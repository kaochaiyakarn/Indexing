dynamic voltage scaling power management portable systems luca benini computer systems laboratory stanford university portable systems require long battery lifetime delivering high performance 
dynamic voltage scaling dvs algorithms reduce energy consumption changing processor speed voltage run time depending needs applications running 
dynamic power management dpm policies trade performance power consumption selectively placing components low power states 
extend dpm model dvs algorithm enabling larger power savings 
test approach mpeg video mp audio algorithms running portable device 
results show savings factor energy consumption combined dvs dpm approaches 

battery operated portable systems impose tight constraints energy consumption 
portable systems consist microprocessors set devices multiple low power states 
microprocessors support dynamic clock frequency adjustment newer devices support dynamic supply voltage setting 
system level possible reduce energy changing frequency voltage level microprocessor dynamic voltage scaling transitioning components low power states dynamic power management 
extend dpm model dvs algorithm enabling larger power savings 
algorithm implemented portable device 
consists strongarm processor memory rf link display 
components main power states active idle standby 
addition processor operate range frequencies 
frequency minimum allowed voltage operation 
processor run minimum frequency voltage required sustain performance level required application possible save power system active addition savings obtained dpm idle periods 
principle exploited announced transmeta crusoe processor 
dvs algorithm sets microprocessor voltage frequency run time depending behavior applications currently running 
early dvs algorithms set processor speed processor utilization fixed intervals 
individual require permission digital hard copies part personal classroom granted fee provided copies distributed profit commercial advantage copies bear notice full citation page 
copy republish post servers redistribute lists requires prior specific permission fee 
dac june las vegas nevada usa 
copyright acm 
andrea peter glynn giovanni de micheli management science engineering department stanford university deis university bologna ments tasks running considered resulting poor behavior complex workloads 
number voltage scaling techniques proposed real time systems 
approaches assume tasks run worst case execution time wcet 
workload variation slack times exploited task task basis fully utilized 
introduces voltage scheduler determines operating voltage analyzing application requirements 
scheduling done task level setting processor frequency minimum value needed complete tasks 
applications high frame frame variance mpeg video schedule smoothing done scheduling tasks complete twice amount twice deadline 
dvs approaches past scheduling done task level assuming multiple threads 
prediction task execution times done worst case execution times heuristics 
approaches neglect dvs done task single application devices 
instance mpeg decoding variance execution time frame basis large factor number cycles range frame mpeg video 
contribution develop verify stochastic model prediction execution times streaming multimedia applications frame frame basis 
model change point detection theory atm traffic detection applications 
compare model prediction exponential moving average 
prediction algorithm developed part power control strategy merges dvs dpm 
opposed dvs power management algorithms aim reducing energy consumption system level selectively placing components low power states idle periods 
dpm algorithms past classified deterministic stochastic 
deterministic algorithms include basic timeout predictive schemes 
stochastic models give optimal dpm policies long basic assumptions formulation model true 
simple stochastic model dpm assumes idle times system resources follow exponential distributions 
unfortunately shown approaches purely exponential distributions model real system behavior 
stochastic approaches allow usage general distributions just exponential 
result large power savings observed 
approach renewal theory 
model assumes decision transition low power state state 
method developed time indexed semi markov decision process model 
model complex wider applicability assumes decision transition lower power state number states 
approaches assume single system active state assume energy consumption state constant 
second contribution merge dpm dvs approaches expanding active state definition include multiple settings frequency voltage resulting range performance power consumptions available tradeoff run time 
way power manager control performance power consumption levels dvs system active transitioning components low power states system idle 
rest organized follows 
section describes stochastic models system components 
models experimental observations 
section theoretical basis detection rate change dynamic selection cpu frequency voltage 
show simulation measurement results mpeg video cif size mp audio running section 
summarize findings section 
system model systems modeled components workload device queue buffer associated device shown 
power manager observes event occurrences interest takes decisions state system transition order minimize energy consumption performance constraint 
device active power manager selects appropriate execution frequency voltage processor 
motivated real design examples hardware mpeg video mp audio 
power manager user queue device system model system component described probabilistically 
workload modeled request interarrival distribution 
streaming multimedia applications requests represent frame arrivals network 
similarly service time distribution describes behavior device active state 
multimedia case represents time needed processing frame decompressing sending output interface 
transition time distribution models time taken device transition power states 
combination interarrival time distribution incoming frame arrivals service time distribution frame decoding times characterizes behavior queue frame buffer 
details system component described sections 
portable device portable devices typically multiple power states 
device active state services requests inactive low power states 
active state characterized set sub states differentiated performance cpu frequency power consumption cpu voltage 
addition power manager trade power performance placing device low power states 
low power state characterized power consumption performance penalty incurred transition state 
usually higher performance penalty corresponds lower power states 
device shown embedded system consisting sharp display lucent wlan rf link strongarm processor ram flash sensors modem audio analog front pcb board powered batteries dc dc converter 
note types data memory slower sram mb ns toshiba faster dram mb ns micron audio video decode 
components power states transition times component standby state active state shown table 
microphone speakers memory flash sdram ucb strongarm sa wlan rf analog digital sensors display dc dc converter battery initial goal designing allow computer human user provide location environmental information location server heterogeneous network 
corporate id card attached built devices pdas mobile telephones incorporated computing systems 
focus smart badge pda capable mpeg video mp audio playback 
table components component active idle mw mw mw ms ms display wlan rf sa flash sram dram total strongarm processor configured run time simple write hardware register execute different frequencies 
note number frequencies predefined design strongarm processor 
measured transition time different frequency settings microseconds 
typical decoding time mpeg video mp audio longer transition time possible change cpu frequency perceivable overhead 
frequency minimum voltage sa needs order run correctly lower energy consumption 
shows frequency voltage tradeoff 
addition active state supports lower power states idle standby 
idle state entered immediately component system soon particular component accessed 
standby state transitions controlled power manager 
transition standby state active state best described uniform probability distribution 
active state model service times decoding times video audio frames active state modeled exponential dis voltage frequency mhz frequency vs voltage sa tribution 
average service time defined average service rate measured frames second mpeg video cif size mp audio 
equation defines cumulative probability device servicing request time interval ratio dt fd frequency mhz performance energy performance energy mp audio shows tradeoff performance energy running mp audio decode hardware allowable frequency voltage setting sa processor shows results mpeg video 
shape performance curve versus processor frequency setting depends application underlying hardware 
mp audio decoded slower sram 
memory access time depend processor clock frequency performance improvements high processor frequencies speedup linear 
mpeg video decode ran faster sdram performance curve linear limited processor speed 
figures values normalized data points obtained fastest frequency 
basic rationale dvs frames take shorter time decode processor frequency voltage lowered longer frames increased 
addition decoding speed needs adjusted frame arrival frequency frame buffer contain frames 
detection changes decoding speed arrival frequency critical optimal setting cpu frequency voltage 
optimal way detection section 
user workload model requests multimedia application decoding form audio video frame arrivals wlan 
workload stochastic model active state defined frame interarrival time distribution 
measured ratio performance energy frequency mhz performance energy mpeg video mpeg video cif size mp audio frame arrival times monitoring accesses wlan card 
frame arrival times vary different reasons user system request various video audio clips different frame rate frames arrive wireless network cause large variation frame delays 
frame cumulative probability average fitting error interarrival time experimental exponential mpeg video arrival time distribution interarrival times active state applications approximated exponential distributions 
shows exponential cumulative distribution fitted measured results mpeg video 
similar results observed mp audio 
frame arrival rate active state defined mean frame interarrival time probability receiving frame time interval follows cumulative probability distribution shown 
fu note exponential distribution model arrivals idle state 
idle state audio video frames decoded new requests arrived 
power manager decision low power state place device discussed 
remember full optimization model decide transition device low power states standby perform dynamic voltage scaling active state 
queue portable devices normally buffer storing requests serviced 
multimedia requests mpeg video audio convenient describe queue terms number frames waiting frame buffer 
frames arriving priority queue model contains number frames waiting service decoding 
active state exponential distributions describe frame arrivals service times behavior system modeled queue model 
details model application dynamic voltage scaling section 

theoretical background power manager job decide transition device low power states 
power management policies obtained models renewal theory model time indexed semi markov process model 
observed idle state need accurately model tail interarrival time distribution follow perfect exponential distribution 
result time elapsed entry idle state accounted model order obtain optimal power management policy 
renewal theory naturally accounts time elapsed idle state formulation system renewal time 
model simple state model shown left necessary expand idle sleep states time index representing elapsed time entry idle state shown right 
note renewal models active state elements queue 
active state queue sleep state queue arrival arrival sleep arrival departure sleep arrival idle state queue sleep state queue original system model active state queue sleep state queue departure arrival arrival sleep arrival idle state queue arrival idle state queue arrival idle state queue sleep arrival time indexed system model time indexed smdp states sleep arrival sleep state queue arrival sleep state queue arrival sleep state queue extended function power manager pm include decisions cpu frequency voltage setting active state 
having active state shown set active states characterized different performance cpu frequency power consumption cpu voltage shown 
renewal models assumed active state described exponential distribution transformation active multiple active states completely compatible rest model 
result power management policies develop decisions dynamic voltage setting transition low power states 
run time pm observes request arrivals service completion times case frame arrivals decoding times number jobs queue number frames buffer time elapsed entry idle state 
active state pm checks rate incoming decoding frames changed adjusts cpu frequency voltage accordingly 
decoding completed system enters idle state 
point power manager observes time spent idle state depending policy obtained renewal theory model decides transition sleep states 
request arrives audio video decoding power manager transitions system back active state starts decoding process 
active state 
active state active state sleep state queue departure arrival arrival sleep arrival idle state queue arrival idle state queue arrival idle state queue sleep arrival sleep arrival expansion active state sleep state queue arrival sleep state queue arrival sleep state queue optimal approach detecting change frame arrival decoding times 
change detected decision set cpu frequency voltage 
results queue theory enable power manager decision 
dynamic voltage scaling algorithm dvs algorithm consists main portions detection change request arrival servicing rate policy adjusts cpu frequency voltage 
detection done maximum likelihood ratio guarantees optimal detection exponential distributions 
policy implemented queue results ensure constant average delay experienced buffered frames 
detecting change rate critical part optimally matching cpu frequency voltage requirements user 
example rate mp audio frames coming rf link change drastically due changes environment 
servicing rate change due variance computation needed mpeg frames just changing audio source currently decoded mp audio 
request frame interarrival times servicing decoding times follow exponential distribution discussed previous section 
distributions characterized arrival rate servicing rate change point detection performed maximum likelihood ratio pmax shown equation 
maximum likelihood ratio computes ratio probability change rate occur numerator equation probability rate change denominator 
probability rate changed computed fitting exponential distribution old rate interarrival decoding times exponential distribution new rate rest points observed window size contains interarrival times requests 
probability rate change computed fitting interarrival decoding times exponential distribution characterized current old rate pmax oe ox ne nx oe ox efficient way compute maximum likelihood ratio pmax calculate natural log pmax shown ln pmax ln note equation sum interarrival decoding times needs updated arrival service completion 
set possible rates predefined size window variable locate point time rate changed 
change point detection algorithm consists major tasks line characterization line detection 
line characterization done stochastic simulation set possible rates obtain value ln pmax sufficient detect change rate 
results accumulated histogram value maximum likelihood ratio gives high probability rate changed chosen pair rates consideration 
selected likelihood 
line detection collects interarrival time sums run time calculates maximum likelihood ratio 
maximum likelihood ratio computed greater obtained histogram likelihood rate change occurred cpu frequency voltage need adjusted 
window large 
larger windows cause longer execution times shorter windows contain statistically large sample give unstable results 
addition change point checked points 
larger values interval mean changed rate detected small values detection quicker causes extra computation 
change point detection algorithm type distribution exponential distributions 
adjustment frequency voltage done queue model 
model try keep average total delay processing frames queue constant equation 
note general distributions queue model applicable method frequency voltage adjustment needed 
interarrival rate servicing rate change frame delay evaluated new frequency voltage selected keep frame delay constant 
example arrival rate mp audio changes equation obtain required decoding rate order keep frame delay performance constant 
decoding rate related back processor frequency setting equivalent table 
hand different frame decoding rate detected processor set frequency piece wise linear approximation application frequency performance tradeoff curve figures obtain new processor frequency setting 
case cpu frequency set new value cpu voltage adjusted 
results implemented change point detection algorithm part power manager mpeg video cif size mp audio examples 
system active state state audio video decoding occur power manager pm observes changes frame arrival decoding rates change point detection algorithm described previous section 
change detected pm evaluates required value processor frequency enable frame delay expressed equation remain constant 
cpu voltage set results shown 
shows relationship cpu frequency mpeg video frame arrival decoding rates average buffered frame delay seconds corresponds average extra frames video buffered 
example clip football video decoded 
similar results obtained clips different decoding rates rates depend content hard ware architecture 
rate frames sec cpu frequency mhz cpu rate wlan rate mpeg frame rates vs cpu frequency compare rate change detection algorithm ideal detection exponential moving average algorithm 
ideal detection assumes knowledge system detects change rate exactly change occurs 
exponential moving average defined follows rate new ave rate old ave grate cur ave new average rate ave old average current measured rate gain 
shows comparison results detecting change fr sec fr sec 
algorithm detects correct rate frames ideal detection stable exponential moving average algorithm 
frames sec exp average gain exp average change point ideal frame number rate change detection table mp audio streams mp audio bit rate sample rate dec rate clip label kb khz frames set results compare ideal detection algorithm ii exponential average approximation previous iii maximum processor performance iv change point algorithm 
purpose audio clips totaling seconds audio running different set bit sample rates shown table 
little variation frame frame basis decoding rate audio clip variation table mp audio dvs mp audio change exp sequence result ideal point ave max energy fr delay energy fr delay energy fr delay decoding rate clips large shown table decoding rates mhz processor frequency 
decoding dvs algorithm detects changes arrival decoding rates mp audio sequences 
resulting energy kj average total frame delay displayed table 
sequence consists combination audio clips 
sequences frame arrival rate varied frames sec 
change point algorithm performs results close ideal performance loss compared ideal detection algorithm allows average total frame delay corresponding extra frames audio buffer 
table mpeg video dvs mpeg video change exp clip result ideal point ave max football energy fr del terminator energy fr del set results decoding different video clips 
contrast mp audio mpeg video large variation decoding rates frame frame basis shown 
report results ideal detection exponential average maximum processor performance change point algorithm 
ideal detection algorithm allows average total frame delay equivalent extra frames video buffer 
arrival rate varies frames second 
energy kj average total frame delay shown table 
results similar mp audio 
exponential average shows poor performance higher energy consumption due instability see 
change point algorithm performs significant savings energy small performance penalty frame delay allowed 
table dpm dvs algorithm energy kj factor dvs dpm combine dynamic voltage scaling detection power management algorithms 
sequence audio video clips separated idle time 
longer idle times power manager opportunity place standby state 
optimal power management policy obtained approaches decision point entrance idle state 
table shows energy savings system implemented dynamic voltage scaling transition standby state longer idle times power management implemented processor runs maximum frequency voltage active state combination approaches 
obtain savings factor expanding power manager include dynamic voltage scaling change point detection algorithm 

new approach dynamic voltage scaling part power managed system systems 
dynamic voltage scaling algorithm different tasks change point detection algorithm detects change arrival decoding rates ii frequency setting policy sets processor frequency voltage current arrival decoding rates order keep constant performance 
tested approach mpeg video mp audio algorithms running portable device 
change point detection algorithm stable compared exponential moving average algorithm previously 
result gives large energy savings small performance penalty mpeg video mp audio applications 
implemented dvs algorithm power management algorithms show factor savings energy due combined approach 

acknowledgments supported part nsf number ccr 
addition hewlett packard laboratories support 

maguire smith peter wearable computer communication system th international workshop hardware software codesign 
benini de micheli energy efficient design portable wireless devices international symposium low power electronics design pp 

benini de micheli dynamic power management portable systems th international conference mobile computing networking pp 

perry transmeta magic show ieee spectrum vol 
pp may 
weiser welch demers shenker scheduling reduced cpu energy proceedings symposium operating systems design implementation pp nov 
chan wasserman comparing algorithms dynamic speed setting low power cpu proceedings mobile computing networking nov 
yao demers shenker scheduling model reduced cpu energy ieee annual foundations computer pp 
hong qu potkonjak srivastava power optimization variable voltage core systems proceedings design automation conference pp 
hong potkonjak srivastava line scheduling hard real time tasks variable voltage processor proceedings international conference computer aided design nov 
voltage scheduling problem dynamically variable voltage processors proceedings ieee international symposium low power electronics design pp 
shin choi power conscious fixed priority scheduling hard real time systems proceedings design automation conference pp 
lee sakurai run time voltage hopping low power real time systems proceedings ieee international symposium low power electronics design pp 
pering brodersen simulation evaluation dynamic voltage scaling algorithms proceedings ieee international symposium low power electronics design 
pering brodersen voltage scheduling microprocessor system proceedings ieee international symposium low power electronics design pp 
peterson predicting mpeg execution times proceedings sigmetrics pp 
chandrakasan data driven signal processing approach energy efficient computing proceedings ieee international symposium low power electronics design pp 
cumulative sum techniques atm traffic management proceedings ieee globecom pp 
