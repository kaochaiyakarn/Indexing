network working group schulzrinne request comments columbia category standards track rao netscape april status memo real time streaming protocol rtsp document specifies internet standards track protocol internet community requests discussion suggestions improvements 
please refer current edition internet official protocol standards std standardization state status protocol 
distribution memo unlimited 
copyright notice copyright internet society 
rights reserved 
real time streaming protocol rtsp application level protocol control delivery data real time properties 
rtsp provides extensible framework enable controlled demand delivery real time data audio video 
sources data include live data feeds stored clips 
protocol intended control multiple data delivery sessions provide means choosing delivery channels udp multicast udp tcp provide means choosing delivery mechanisms rtp rfc 
table contents 
purpose 
requirements 
terminology 
protocol properties 
extending rtsp 
operation 
rtsp states 
relationship protocols 
notational conventions 
protocol parameters 
rtsp version 
schulzrinne standards track page rfc real time streaming protocol april rtsp url 
conference identifiers 
session identifiers 
smpte relative timestamps 
normal play time 
absolute time 
option tags 
registering new option tags iana 
rtsp message 
message types 
message headers 
message body 
message length 
general header fields 
request 
request line 
request header fields 
response 
status line 
status code reason phrase 
response header fields 
entity 
entity header fields 
entity body 
connections 
pipelining 
reliability 
method definitions 
options 
describe 
announce 
setup 
play 
pause 
teardown 
get parameter 
set parameter 
redirect 
record 
embedded interleaved binary data 
status code definitions 
success xx 
low storage space 
redirection xx 
client error xx 
method allowed 
parameter understood 
conference 
schulzrinne standards track page rfc real time streaming protocol april bandwidth 
session 
method valid state 
header field valid resource 
invalid range 
parameter read 
aggregate operation allowed 
aggregate operation allowed 
unsupported transport 
destination unreachable 
option supported 
header field definitions 
accept 
accept encoding 
accept language 
allow 
authorization 
bandwidth 
blocksize 
cache control 
conference 
connection 
content base 
content encoding 
content language 
content length 
content location 
content type 
cseq 
date 
expires 

host 
match 
modified 
modified 
location 
proxy authenticate 
proxy require 
public 
range 
referer 
retry 
require 
rtp info 
scale 
speed 
server 
schulzrinne standards track page rfc real time streaming protocol april session 
timestamp 
transport 
unsupported 
user agent 
vary 

www authenticate 
caching 
examples 
media demand unicast 
streaming container file 
single stream container files 
live media presentation multicast 
playing media existing session 
recording 
syntax 
base syntax 
security considerations 
rtsp protocol state machines 
client state machine 
server state machine 
interaction rtp 
sdp rtsp session descriptions 
definitions 
control url 
media streams 
payload type 
format specific parameters 
range presentation 
time availability 
connection information 
entity tag 
aggregate control available 
aggregate control available 
minimal rtsp implementation 
client 
basic playback 
authentication enabled 
server 
basic playback 
authentication enabled 
authors addresses 


full copyright statement 
schulzrinne standards track page rfc real time streaming protocol april purpose real time streaming protocol rtsp establishes controls single time synchronized streams continuous media audio video 
typically deliver continuous streams interleaving continuous media stream control stream possible see section 
words rtsp acts network remote control multimedia servers 
set streams controlled defined presentation description 
memorandum define format presentation description 
notion rtsp connection server maintains session labeled identifier 
rtsp session way tied transport level connection tcp connection 
rtsp session rtsp client may open close reliable transport connections server issue rtsp requests 
alternatively may connectionless transport protocol udp 
streams controlled rtsp may rtp operation rtsp depend transport mechanism carry continuous media 
protocol intentionally similar syntax operation extension mechanisms cases added rtsp :10.1.1.35.2623
rtsp differs number important aspects rtsp introduces number new methods different protocol identifier 
rtsp server needs maintain state default cases opposed stateless nature 
rtsp server client issue requests 
data carried band different protocol 
exception 
rtsp defined iso utf iso consistent current html efforts 
request uri contains absolute uri 
backward compatibility historical blunder carries absolute path request puts host name separate header field :10.1.1.35.2623:10.1.1.35.2623
virtual hosting easier single host ip address hosts document trees 
schulzrinne standards track page rfc real time streaming protocol april protocol supports operations retrieval media media server client request presentation description method 
presentation multicast presentation description contains multicast addresses ports continuous media 
presentation sent client unicast client provides destination security reasons 
invitation media server conference media server invited join existing conference play back media presentation record subset media presentation 
mode useful distributed teaching applications 
parties conference may take turns pushing remote control buttons 
addition media existing presentation particularly live presentations useful server tell client additional media available 
rtsp requests may handled proxies tunnels caches :10.1.1.35.2623
requirements key words required shall shall recommended may optional document interpreted described rfc 
terminology terminology adopted :10.1.1.35.2623
terms listed defined 
aggregate control control multiple streams single timeline server 
audio video feeds means client may issue single play pause message control audio video feeds 
conference multiparty multimedia presentation multi implies greater equal 
schulzrinne standards track page rfc real time streaming protocol april client client requests continuous media data media server 
connection transport layer virtual circuit established programs purpose communication 
container file file may contain multiple media streams comprise presentation played 
rtsp servers may offer aggregate control files concept container file embedded protocol 
continuous media data timing relationship source sink sink reproduce timing relationship existed source 
common examples continuous media audio motion video 
continuous media real time interactive tight timing relationship source sink streaming playback relationship strict 
entity information transferred payload request response 
entity consists metainformation form entity header fields content form described section 
media initialization datatype codec specific initialization 
includes things color tables information required client playback media stream occurs media initialization phase stream setup 
media parameter parameter specific media type may changed stream playback 
media server server providing playback recording services media streams 
different media streams presentation may originate different media servers 
media server may reside different host web server presentation invoked 
schulzrinne standards track page rfc real time streaming protocol april media server indirection redirection media client different media server 
media stream single media instance audio stream video stream single whiteboard shared application group 
rtp stream consists rtp rtcp packets created source rtp session 
equivalent definition dsm cc stream 
message basic unit rtsp communication consisting structured sequence octets matching syntax defined section transmitted connection connectionless protocol 
participant member conference 
participant may machine media record playback server 
presentation set streams client complete media feed presentation description defined 
cases rtsp context implies aggregate control streams 
presentation description presentation description contains information media streams presentation set encodings network addresses information content 
ietf protocols sdp rfc term session live presentation 
presentation description may take different formats including limited session description format sdp 
response rtsp response 
response meant indicated explicitly 
request rtsp request 
request meant indicated explicitly 
rtsp session complete rtsp transaction viewing movie 
session typically consists client setting transport mechanism continuous media stream setup starting stream play record closing schulzrinne standards track page rfc real time streaming protocol april stream teardown 
transport initialization negotiation transport information port numbers transport protocols client server 
protocol properties rtsp properties extendable new methods parameters easily added rtsp 
easy parse rtsp parsed standard mime parsers 
secure rtsp re uses web security mechanisms 
authentication mechanisms basic rfc section digest authentication rfc directly applicable 
may reuse transport network layer security mechanisms 
transport independent rtsp may unreliable datagram protocol udp rfc reliable datagram protocol rdp rfc widely reliable stream protocol tcp rfc implements application level reliability 
multi server capable media stream presentation reside different server 
client automatically establishes concurrent control sessions different media servers 
media synchronization performed transport level 
control recording devices protocol control recording playback devices devices alternate modes vcr 
separation stream control conference initiation stream control divorced inviting media server conference 
requirement conference initiation protocol provides create unique conference identifier 
particular sip may invite server conference 
schulzrinne standards track page rfc real time streaming protocol april suitable professional applications rtsp supports frame level accuracy smpte time stamps allow remote digital editing 
presentation description neutral protocol impose particular presentation description format convey type format 
presentation description contain rtsp uri 
proxy firewall friendly protocol readily handled application transport layer socks firewalls 
firewall may need understand setup method open hole udp media stream 
friendly sensible rtsp reuses concepts existing infrastructure reused 
infrastructure includes pics platform internet content selection associating labels content 
rtsp just add methods controlling continuous media requires server state cases 
appropriate server control client start stream able stream 
servers start streaming clients way clients stream 
transport negotiation client negotiate transport method prior needing process continuous media stream 
capability negotiation basic features disabled clean mechanism client determine methods going implemented 
allows clients appropriate user interface 
example seeking allowed user interface able disallow moving sliding position indicator 
earlier requirement rtsp multi client capability 
determined better approach sure protocol easily extensible multi client scenario 
stream identifiers control streams passing remote possible 
protocol address clients negotiate access left social protocol floor schulzrinne standards track page rfc real time streaming protocol april control mechanism 
extending rtsp media servers functionality media servers necessity support different sets requests 
example server may capable playback need support record request 
server may capable seeking absolute positioning support live events 
servers may support setting stream parameters support get parameter set parameter 
server implement header fields described section 
creators presentation descriptions ask impossible server 
situation similar methods described supported servers :10.1.1.35.2623
rtsp extended ways listed order magnitude changes supported existing methods extended new parameters long parameters safely ignored recipient 
equivalent adding new parameters html tag 
client needs negative method extension supported tag corresponding extension may added require field see section 
new methods added 
recipient message understand request responds error code implemented sender attempt method 
client may options method inquire methods supported server 
server list methods supports public response header 
new version protocol defined allowing aspects position protocol version number change 
operation presentation media stream may identified rtsp url 
presentation properties media presentation defined presentation description file format outside scope specification 
presentation description file may obtained client schulzrinne standards track page rfc real time streaming protocol april means email may necessarily stored media server 
purposes specification presentation description assumed describe presentations maintains common time axis 
simplicity exposition loss generality assumed presentation description contains exactly presentation 
presentation may contain media streams 
presentation description file contains description media streams making presentation including encodings language parameters enable client choose appropriate combination media 
presentation description media stream individually controllable rtsp identified rtsp url points media server handling particular media stream names stream stored server 
media streams located different servers example audio video streams split servers load sharing 
description enumerates transport methods server capable 
media parameters network destination address port need determined 
modes operation distinguished unicast media transmitted source rtsp request port number chosen client 
alternatively media transmitted reliable stream rtsp 
multicast server chooses address media server picks multicast address port 
typical case live near media demand transmission 
multicast client chooses address server participate existing multicast conference multicast address port encryption key conference description established means outside scope specification 
rtsp states rtsp controls stream may sent separate protocol independent control channel 
example rtsp control may occur tcp connection data flows udp 
data delivery continues rtsp requests received media schulzrinne standards track page rfc real time streaming protocol april server 
lifetime single media stream may controlled rtsp requests issued sequentially different tcp connections 
server needs maintain session state able correlate rtsp requests stream 
state transitions described section methods rtsp contribute state 
play central role defining allocation usage stream resources server setup play record pause teardown 
setup causes server allocate resources stream start rtsp session 
play record starts data transmission stream allocated setup 
pause temporarily halts stream freeing server resources 
teardown frees resources associated stream 
rtsp session ceases exist server 
rtsp methods contribute state session header field section identify rtsp session state manipulated 
server generates session identifiers response setup requests section 
relationship protocols rtsp overlap functionality 
may interact initial contact streaming content web page 
current protocol specification aims allow different hand points web server media server implementing rtsp 
example presentation description retrieved rtsp reduces web browser scenarios allows standalone rtsp servers clients rely 
rtsp differs fundamentally data delivery takes place band different protocol 
asymmetric protocol client issues requests server responds 
rtsp media client media server issue requests 
rtsp requests stateless may set parameters continue control media stream long schulzrinne standards track page rfc real time streaming protocol april request acknowledged 
re functionality advantages areas security proxies 
requirements similar having ability adopt caches proxies authentication valuable 
real time media rtp transport protocol rtsp tied rtp 
rtsp assumes existence presentation description format express static temporal properties presentation containing media streams 
notational conventions definitions syntax identical specification points section defined copying 
brevity hx taken refer section current specification rfc :10.1.1.35.2623
mechanisms specified document described prose augmented backus naur form bnf similar 
described detail rfc difference rtsp specification maintains notation comma separated lists 
memo indented smaller type paragraphs provide background motivation 
intended give readers involved formulation specification understanding things way rtsp 
protocol parameters rtsp version applies replaced rtsp 
rtsp url rtsp schemes refer network resources rtsp protocol 
section defines scheme specific syntax semantics rtsp urls 
rtsp url rtsp host port abs path host legal internet host domain name ip address dotted decimal form defined section schulzrinne standards track page rfc real time streaming protocol april rfc cite rfc port digit abs path defined 
note fragment query identifiers defined meaning time interpretation left rtsp server 
scheme rtsp requires commands issued reliable protocol internet tcp scheme identifies unreliable protocol internet udp 
port empty port assumed 
semantics identified resource controlled rtsp server listening tcp scheme rtsp connections udp scheme packets port host request uri resource rtsp url 
ip addresses urls avoided possible see rfc 
presentation stream identified textual media identifier character set escape conventions urls rfc :10.1.1.165.7150
urls may refer stream aggregate streams presentation 
accordingly requests described section apply presentation individual stream presentation 
note request methods applied streams presentations vice versa 
example rtsp url rtsp media example com twister identifies audio stream presentation twister controlled rtsp requests issued tcp connection port host media example com 
rtsp url rtsp media example com twister identifies presentation twister may composed audio video streams 
imply standard way streams urls 
presentation description defines hierarchical relationships presentation urls individual streams 
presentation description may name stream mov presentation mov 
schulzrinne standards track page rfc real time streaming protocol april path components rtsp url opaque client imply particular file system structure server 
decoupling allows presentation descriptions non rtsp media control protocols simply replacing scheme url 
conference identifiers conference identifiers opaque rtsp encoded standard uri encoding methods lws escaped 
contain octet value 
conference identifier globally unique 
value 
conference id conference identifiers allow rtsp sessions obtain parameters multimedia conferences media server participating 
conferences created protocols outside scope specification sip 
rtsp client explicitly providing transport information example asks media server values conference description 
session identifiers session identifiers opaque strings arbitrary length 
linear white space url escaped 
session identifier chosen randomly octets long guessing difficult 
see section 
session id alpha digit safe smpte relative timestamps smpte relative timestamp expresses time relative start clip 
relative timestamps expressed smpte time codes frame level access accuracy 
time code format hours minutes seconds frames origin start clip 
default smpte format smpte drop format frame rate frames second 
smpte codes may supported smpte alternative smpte time 
frames field time value assume values 
difference frames second handled dropping frame indices values minute tenth minute 
frame value zero may omitted 
measured frame 
schulzrinne standards track page rfc real time streaming protocol april smpte range smpte type smpte time smpte time smpte type smpte smpte drop smpte may added smpte time digit digit digit digit digit examples smpte smpte smpte smpte normal play time normal play time npt indicates stream absolute position relative presentation 
timestamp consists decimal fraction 
part left decimal may expressed seconds hours minutes seconds 
part right decimal point measures fractions second 
presentation corresponds seconds 
negative values defined 
special constant defined current instant live event 
may live events 
npt defined dsm cc intuitively npt clock viewer associates program 
digitally displayed vcr 
npt advances normally normal play mode scale advances faster rate fast scan forward high positive scale ratio decrements scan reverse high negative scale ratio fixed pause mode 
npt logically equivalent smpte time codes 
npt range npt time npt time npt time npt time npt sec npt npt sec digit digit npt npt hh npt mm npt ss digit npt hh digit positive number npt mm digit npt ss digit examples npt npt npt syntax conforms iso 
npt sec notation optimized automatic generation ntp notation consumption human readers 
constant allows clients request schulzrinne standards track page rfc real time streaming protocol april receive live feed stored time delayed version 
needed absolute time zero time appropriate case 
absolute time absolute time expressed iso timestamps utc gmt 
fractions second may indicated 
utc range clock utc time utc time utc time utc date utc time utc date digit utc time digit fraction fraction example november quarter seconds utc option tags option tags unique identifiers designate new options rtsp 
tags require section proxy require section header fields 
syntax option tag creator new rtsp option prefix option reverse domain name com foo apt name feature inventor reached foo com register new option internet assigned numbers authority iana 
registering new option tags iana registering new rtsp option information provided name description option 
name may length characters long 
name contain spaces control characters periods 
indication change control option example ietf iso itu international standardization bodies consortium particular group companies schulzrinne standards track page rfc real time streaming protocol april description available example order preference rfc published patent filing technical report documented source code computer manual proprietary options contact information postal email address rtsp message rtsp text protocol uses iso character set utf encoding rfc 
lines terminated crlf receivers prepared interpret cr lf line terminators 
text protocols easier add optional parameters self describing manner 
number parameters frequency commands low processing efficiency concern 
text protocols done carefully allow easy implementation research prototypes scripting languages tcl visual basic perl 
character set avoids tricky character set switching invisible application long ascii 
encoding rtcp 
iso translates directly unicode high order octet zero 
iso characters significant bit set represented xxxxxx 
see rfc rtsp messages carried lower layer transport protocol bit clean 
requests contain methods object method operating parameters describe method 
methods idempotent noted 
methods designed require little state maintenance media server 
message types see message headers see message body see schulzrinne standards track page rfc real time streaming protocol april message length message body included message length body determined order precedence 
response message include message body xx responses terminated empty line header fields regardless entity header fields message 
note empty line consists crlf 

content length header field section value bytes represents length message body 
header field value zero assumed 

server closing connection 
closing connection indicate request body leave possibility server send back response 
note rtsp support chunked transfer coding see requires presence content length header field 
moderate length presentation descriptions returned server able determine length generated dynamically making chunked transfer encoding unnecessary 
content length entity body rules ensure reasonable behavior length explicitly 
general header fields see pragma transfer encoding upgrade headers defined request general header cache control section connection section date section section request message client server vice versa includes line message method applied resource identifier resource protocol version 
schulzrinne standards track page rfc real time streaming protocol april request request line section general header section request header section entity header section crlf message body section request line request line method sp request uri sp rtsp version crlf method describe section announce section get parameter section options section pause section play section record section redirect section setup section set parameter section teardown section extension method extension method token request uri absolute uri rtsp version rtsp digit digit request header fields request header accept section accept encoding section accept language section authorization section section modified section range section referer section user agent section note contrast rtsp requests contain absolute url including scheme host port just absolute path :10.1.1.35.2623
schulzrinne standards track page rfc real time streaming protocol april requires servers understand absolute url clients supposed host request header 
purely needed backward compatibility servers consideration apply rtsp 
asterisk request uri means request apply particular resource server allowed method necessarily apply resource 
example options rtsp response applies version replaced rtsp version 
rtsp defines additional status codes define codes 
valid response codes methods defined table 
receiving interpreting request message recipient responds rtsp response message 
response status line section general header section response header section entity header section crlf message body section status line line response message status line consisting protocol version followed numeric status code textual phrase associated status code element separated sp characters 
cr lf allowed final crlf sequence 
status line rtsp version sp status code sp reason phrase crlf status code reason phrase status code element digit integer result code attempt understand satisfy request 
codes fully defined section 
reason phrase intended give short textual description status code 
status code intended automata reason phrase intended human user 
client required examine display reason phrase 
schulzrinne standards track page rfc real time streaming protocol april digit status code defines class response 
digits categorization role 
values digit xx informational request received continuing process xx success action successfully received understood accepted xx redirection action taken order complete request xx client error request contains bad syntax fulfilled xx server error server failed fulfill apparently valid request individual values numeric status codes defined rtsp example set corresponding reason phrase 
reason phrases listed recommended may replaced local equivalents affecting protocol 
note rtsp adopts status codes adds rtsp specific status codes starting avoid conflicts newly defined status codes :10.1.1.35.2623
schulzrinne standards track page rfc real time streaming protocol april status code continue ok created low storage space multiple choices moved permanently moved temporarily see modified proxy bad request unauthorized payment required forbidden method allowed acceptable proxy authentication required request time gone length required precondition failed request entity large request uri large unsupported media type parameter understood conference bandwidth session method valid state header field valid resource invalid range parameter read aggregate operation allowed aggregate operation allowed unsupported transport destination unreachable internal server error implemented bad gateway service unavailable gateway time rtsp version supported option supported extension code schulzrinne standards track page rfc real time streaming protocol april extension code digit reason phrase text excluding cr lf rtsp status codes extensible 
rtsp applications required understand meaning registered status codes understanding obviously desirable 
applications understand class status code indicated digit treat unrecognized response equivalent status code class exception unrecognized response cached 
example unrecognized status code received client safely assume wrong request treat response received status code 
cases user agents user entity returned response entity include information explain unusual status 
code reason continue ok created record low storage space record multiple choices moved permanently moved temporarily see proxy schulzrinne standards track page rfc real time streaming protocol april bad request unauthorized payment required forbidden method allowed acceptable proxy authentication required request timeout gone length required precondition failed describe setup request entity large request uri long unsupported media type invalid parameter setup illegal conference identifier setup bandwidth setup session method valid state header field valid invalid range play parameter read set parameter aggregate operation allowed aggregate operation allowed unsupported transport destination unreachable internal server error implemented bad gateway service unavailable gateway timeout rtsp version supported option support table status codes usage rtsp methods response header fields response header fields allow request recipient pass additional information response placed status line 
header fields give information server access resource identified request uri 
schulzrinne standards track page rfc real time streaming protocol april response header location section proxy authenticate section public section retry section server section vary section www authenticate section response header field names extended reliably combination change protocol version 
new experimental header fields may semantics fields parties communication recognize response header fields 
unrecognized header fields treated entity header fields 
entity request response messages may transfer entity restricted request method response status code 
entity consists entity header fields entity body responses include entity headers 
section sender recipient refer client server depending sends receives entity 
entity header fields entity header fields define optional metainformation entity body body resource identified request 
entity header allow section content base section content encoding section content language section content length section content location section content type section expires section modified section extension header extension header message header extension header mechanism allows additional entity header fields defined changing protocol fields assumed recognizable recipient 
unrecognized header fields ignored recipient forwarded proxies 
schulzrinne standards track page rfc real time streaming protocol april entity body see connections rtsp requests transmitted different ways persistent transport connections request response transactions connection request response transaction connectionless mode 
type transport connection defined rtsp uri section 
scheme rtsp persistent connection assumed scheme calls rtsp requests sent setting connection 
rtsp allows media server send requests media client 
supported persistent connections media server reliable way reaching client 
way requests media server client traverse firewalls 
pipelining client supports persistent connections connectionless mode may pipeline requests send multiple requests waiting response 
server send responses requests order requests received 
reliability requests acknowledged receiver sent multicast group 
sender may resend message timeout round trip time rtt 
round trip time estimated tcp rfc initial round trip value ms implementation may cache rtt measurement initial value connections 
reliable transport protocol carry rtsp requests retransmitted rtsp application rely underlying transport provide reliability 
underlying reliable transport tcp rtsp application retransmit requests possible packet loss results retransmissions 
receiver typically take advantage application layer retransmission schulzrinne standards track page rfc real time streaming protocol april transport stack deliver application layer retransmission attempt reached receiver 
packet loss caused congestion multiple retransmissions different layers exacerbate congestion 
rtsp small rtt lan standard procedures optimizing initial tcp round trip estimates tcp rfc beneficial 
timestamp header section avoid retransmission ambiguity problem obviates need karn algorithm 
request carries sequence number cseq header section incremented distinct request transmitted 
request repeated lack request carry original sequence number sequence number incremented 
systems implementing rtsp support carrying rtsp tcp may support udp 
default port rtsp server udp tcp 
number rtsp packets destined control point may packed single lower layer pdu encapsulated tcp stream 
rtsp data may interleaved rtp rtcp packets 
rtsp message contain content length header message contains payload 
rtsp packet terminated empty line immediately message header 
method definitions method token indicates method performed resource identified request uri 
method case sensitive 
new methods may defined 
method names may start character decimal token 
methods summarized table 
schulzrinne standards track page rfc real time streaming protocol april method direction object requirement describe recommended announce optional get parameter optional options required optional pause recommended play required record optional redirect optional setup required set parameter optional teardown required table overview rtsp methods direction objects presentation stream operate notes table pause recommended required fully functional server built support method example live feeds 
server support particular method return implemented client try method server 
options behavior equivalent described 
options request may issued time client try nonstandard request 
influence server state 
example options rtsp cseq require implicit play proxy require messages rtsp ok cseq public describe setup teardown play pause note necessarily fictional features hope purposefully overlook truly useful feature just strong example section 
schulzrinne standards track page rfc real time streaming protocol april describe describe method retrieves description presentation media object identified request url server 
may accept header specify description formats client understands 
server responds description requested resource 
describe reply response pair constitutes media initialization phase rtsp 
example describe rtsp server example com foo rtsp cseq accept application sdp application application rtsp ok cseq date jan gmt content type application sdp content length ip sdp seminar seminar session description protocol www cs ucl ac uk staff handley sdp ps isi edu mark handley ip audio rtp avp video rtp avp whiteboard udp wb orient portrait describe response contain media initialization information resource describes 
media client obtains presentation description source describe description contains complete set media initialization parameters client parameters request description media rtsp 
additionally servers describe response means media indirection 
clear ground rules need established clients unambiguous means knowing request media initialization information describe 
forcing describe schulzrinne standards track page rfc real time streaming protocol april response contain media initialization set streams describes discouraging describe media indirection avoid looping problems result approaches 
media initialization requirement rtsp system rtsp specification dictate done describe method 
ways rtsp client may receive initialization information rtsp describe method protocol email attachment command line standard input working browser helper application launched sdp file media initialization format 
interest practical interoperability highly recommended minimal servers support describe method highly recommended minimal clients support ability act helper application accepts media initialization file standard input command line means appropriate operating environment client 
announce announce method serves purposes sent client server announce posts description presentation media object identified request url server 
sent server client announce updates session description real time 
new media stream added presentation live presentation presentation description sent just additional components components deleted 
example announce rtsp server example com foo rtsp cseq date jan gmt session content type application sdp content length ip schulzrinne standards track page rfc real time streaming protocol april sdp seminar seminar session description protocol www cs ucl ac uk staff handley sdp ps isi edu mark handley ip audio rtp avp video rtp avp rtsp ok cseq setup setup request uri specifies transport mechanism streamed media 
client issue setup request stream playing change transport parameters server may allow 
allow respond error method valid state 
benefit intervening firewalls client indicate transport parameters influence parameters example server advertises fixed multicast address 
setup includes transport initialization information firewalls intermediate network devices need information spared arduous task parsing describe response reserved media initialization 
transport header specifies transport parameters acceptable client data transmission response contain transport parameters selected server 
setup rtsp example com foo bar baz rm rtsp cseq transport rtp avp unicast client port rtsp ok cseq date jan gmt session transport rtp avp unicast client port server port server generates session identifiers response setup requests 
setup request server includes session identifier server bundle setup request schulzrinne standards track page rfc real time streaming protocol april existing session return error aggregate operation allowed see section 
play play method tells server start sending data mechanism specified setup 
client issue play request outstanding setup requests acknowledged successful 
play request positions normal play time range specified delivers stream data range reached 
play requests may pipelined queued server queue play requests executed order 
play request arriving previous play request active delayed completed 
allows precise editing 
example regardless closely spaced play requests example arrive server play seconds immediately seconds seconds 
play rtsp audio example com audio rtsp cseq session range npt play rtsp audio example com audio rtsp cseq session range npt play rtsp audio example com audio rtsp cseq session range npt see description pause request examples 
play request range header legal 
starts playing stream stream paused 
stream paused pause stream delivery resumes pause point 
stream playing play request causes action client test server liveness 
schulzrinne standards track page rfc real time streaming protocol april range header may contain time parameter 
parameter specifies time utc playback start 
message received specified time playback started immediately 
time parameter may aid synchronization streams obtained different sources 
demand stream server replies actual range played back 
may differ requested range alignment requested range valid frame boundaries required media source 
range specified request current position returned reply 
unit range reply request 
playing desired range presentation automatically paused pause request issued 
example plays presentation starting smpte time code clip 
playback start jan 
play rtsp audio example com twister en rtsp cseq session range smpte time rtsp ok cseq date jan gmt range smpte time playing back recording live presentation may desirable clock units play rtsp audio example com meeting en rtsp cseq session range clock rtsp ok cseq date jan gmt media server supporting playback support npt format may support clock smpte formats 
schulzrinne standards track page rfc real time streaming protocol april pause pause request causes stream delivery interrupted halted temporarily 
request url names stream playback recording stream halted 
example audio equivalent 
request url names presentation group streams delivery currently active streams presentation group halted 
resuming playback recording synchronization tracks maintained 
server resources kept servers may close session free resources paused duration specified timeout parameter session header setup message 
example pause rtsp example com foo rtsp cseq session rtsp ok cseq date jan gmt pause request may contain range header specifying stream presentation halted 
refer point pause point 
header contain exactly value time range 
normal play time stream set pause point 
pause request effective time server encountering time point specified currently pending play requests 
range header specifies time outside currently pending play requests error invalid range returned 
media unit audio video frame starts presentation exactly pause point played recorded 
range header missing stream delivery interrupted immediately receipt message pause point set current normal play time 
pause request discards queued play requests 
pause point media stream maintained 
subsequent play request range header resumes pause point 
example server play requests ranges pending receives pause request npt start playing second range npt 
pause request npt server playing npt serving play request server stops immediately 
pause request npt server stops completing schulzrinne standards track page rfc real time streaming protocol april play request discards second play request 
example server received requests play ranges overlapping ranges pause request npt take effect server plays range second play request effectively ignored assuming pause request arrives server started playing second overlapping range 
regardless pause request arrives sets npt 
server sent data time specified range header play resume point time assumed client discarded data point 
ensures continuous pause play cycling gaps 
teardown teardown request stops stream delivery uri freeing resources associated 
uri presentation uri presentation rtsp session identifier associated session longer valid 
transport parameters defined session description setup request issued session played 
example teardown rtsp example com foo rtsp cseq session rtsp ok cseq get parameter get parameter request retrieves value parameter presentation stream specified uri 
content reply response left implementation 
get parameter entity body may test client server liveness ping 
example get parameter rtsp example com foo rtsp cseq content type text parameters session content length packets received jitter schulzrinne standards track page rfc real time streaming protocol april rtsp ok cseq content length content type text parameters packets received jitter text parameters section example type parameter 
method intentionally loosely defined intention reply content response content defined experimentation 
set parameter method requests set value parameter presentation stream specified uri 
request contain single parameter allow client determine particular request failed 
request contains parameters server act request parameters set successfully 
server allow parameter set repeatedly value may disallow changing parameter values 
note transport parameters media stream set setup command 
restricting setting transport parameters setup benefit firewalls 
parameters split fine grained fashion meaningful error indications 
may sense allow setting parameters atomic setting desirable 
imagine device control client want camera pan tilt right angle time 
example set parameter rtsp example com foo rtsp cseq content length content type text parameters rtsp invalid parameter schulzrinne standards track page rfc real time streaming protocol april cseq content length content type text parameters text parameters section example type parameter 
method intentionally loosely defined intention reply content response content defined experimentation 
redirect redirect request informs client connect server location 
contains mandatory header location indicates client issue requests url 
may contain parameter range indicates redirection takes effect 
client wants continue send receive media uri client issue teardown request current session setup new session designated host 
example request redirects traffic uri new server play time redirect rtsp example com foo rtsp cseq location rtsp com range clock record method initiates recording range media data presentation description 
timestamp reflects start time utc 
time range start time provided presentation description 
session started commence recording immediately 
server decides store recorded data request uri uri 
server request uri response created contain entity describes status request refers new resource location header 
media server supporting recording live presentations support clock range format smpte format sense 
schulzrinne standards track page rfc real time streaming protocol april example media server previously invited conference indicated 
record rtsp example com meeting audio en rtsp cseq session conference embedded interleaved binary data certain firewall designs circumstances may force server interleave rtsp methods stream data 
interleaving generally avoided necessary complicates client server operation imposes additional overhead 
interleaved binary data rtsp carried tcp 
stream data rtp packets encapsulated ascii dollar sign hexadecimal followed byte channel identifier followed length encapsulated binary data binary byte integer network byte order 
stream data follows immediately crlf including upper layer protocol headers 
block contains exactly upper layer protocol data unit rtp packet 
channel identifier defined transport header interleaved parameter section 
transport choice rtp rtcp messages interleaved server tcp connection 
default rtcp packets sent available channel higher rtp channel 
client may explicitly request rtcp packets channel 
done specifying channels interleaved parameter transport header section 
rtcp needed synchronization streams interleaved fashion 
provides convenient way tunnel rtp rtcp packets tcp control connection required network configuration transfer udp possible 
setup rtsp foo com bar file rtsp cseq transport rtp avp tcp interleaved rtsp ok cseq date jun gmt transport rtp avp tcp interleaved schulzrinne standards track page rfc real time streaming protocol april session play rtsp foo com bar file rtsp cseq session rtsp ok cseq session date jun gmt rtp info url rtsp foo com bar file seq byte length length bytes data rtp header byte length length bytes data rtp header byte length length bytes rtcp packet status code definitions applicable status codes reused 
status codes meaning repeated 
see table listing status codes may returned requests 
success xx low storage space server returns warning receiving record request may able fulfill completely due insufficient storage space 
possible server range header indicate time period may able record 
processes server may consuming storage space simultaneously client take estimate 
redirection xx see 
rtsp redirection may load balancing redirecting stream requests server topologically closer client 
mechanisms determine topological proximity scope specification 
schulzrinne standards track page rfc real time streaming protocol april client error xx method allowed method specified request allowed resource identified request uri 
response include allow header containing list valid methods requested resource 
status code request attempts method indicated setup record request issued mode parameter transport header specified play 
parameter understood recipient request support parameters contained request 
conference conference indicated conference header field unknown media server 
bandwidth request refused insufficient bandwidth 
may example result resource reservation failure 
session rtsp session identifier session header missing invalid timed 
method valid state client server process request current state 
response contain allow header error recovery easier 
header field valid resource server act required request header 
example play contains range header field stream allow seeking 
schulzrinne standards track page rfc real time streaming protocol april invalid range range value bounds presentation 
parameter read parameter set set parameter read modified 
aggregate operation allowed requested method may applied url question aggregate presentation url 
method may applied stream url 
aggregate operation allowed requested method may applied url question aggregate presentation url 
method may applied presentation url 
unsupported transport transport field contain supported transport specification 
destination unreachable data transmission channel established client address reached 
error result client attempt place invalid destination parameter transport field 
option supported option require proxy require fields supported 
unsupported header returned stating option support 
schulzrinne standards track page rfc real time streaming protocol april header field definitions non standard header fields listed currently defined meaning ignored recipient :10.1.1.35.2623
table summarizes header fields rtsp 
type designates general request headers requests responses type designates request headers type designates response headers type designates entity header fields 
fields marked req column labeled support implemented recipient particular method fields marked opt optional 
note fields marked req sent request type 
req means client response headers server request headers implement fields 
column lists method header field meaningful designation entity refers methods return message body 
specification describe get parameter fall class 
schulzrinne standards track page rfc real time streaming protocol april header type support methods accept opt 
entity accept encoding opt 
entity accept language opt 
allow opt 
authorization opt 
bandwidth opt 
blocksize opt 
options teardown cache control opt 
setup conference opt 
setup connection req 
content base opt 
entity content encoding req 
set parameter content encoding req 
describe announce content language req 
describe announce content length req 
set parameter announce content length req 
entity content location opt 
entity content type req 
set parameter announce content type req 
entity cseq req 
date opt 
expires opt 
describe announce opt 
modified opt 
describe setup modified opt 
entity proxy authenticate proxy require req 
public opt 
range opt 
play pause record range opt 
play pause record referer opt 
require req 
retry opt 
rtp info req 
play scale rr opt 
play record session rr req 
setup options server opt 
speed rr opt 
play transport rr req 
setup unsupported req 
user agent opt 
opt 
www authenticate opt 
schulzrinne standards track page rfc real time streaming protocol april overview rtsp header fields accept accept request header field specify certain presentation description content types acceptable response 
level parameter presentation descriptions properly defined part mime type registration 
see syntax 
example accept application application sdp level accept encoding see accept language see 
note language specified applies presentation description reason phrases media content 
allow allow response header field lists methods supported resource identified request uri 
purpose field strictly inform recipient valid methods associated resource 
allow header field method allowed response 
example allow setup play record set parameter authorization see bandwidth bandwidth request header field describes estimated bandwidth available client expressed positive integer measured bits second 
bandwidth available client may change rtsp session due modem retraining 
schulzrinne standards track page rfc real time streaming protocol april bandwidth bandwidth digit example bandwidth blocksize request header field sent client media server asking server particular media packet size 
packet size include lower layer headers ip udp rtp 
server free blocksize lower requested 
server may truncate packet size closest multiple minimum media specific block size override media specific size necessary 
block size positive decimal number measured octets 
server returns error value syntactically invalid 
cache control cache control general header field specify directives obeyed caching mechanisms request response chain 
cache directives passed proxy gateway application regardless significance application directives may applicable recipients request response chain 
possible specify specific cache 
cache control specified setup request response 
note cache control govern caching responses stream identified setup request 
responses rtsp requests cacheable responses describe 
cache control cache control cache directive cache directive cache request directive cache response directive cache request directive cache max stale min fresh cached cache extension cache response directive public private cache transform revalidate schulzrinne standards track page rfc real time streaming protocol april proxy revalidate max age delta seconds cache extension cache extension token token quoted string cache indicates media stream cached 
allows origin server prevent caching caches configured return stale responses client requests 
public indicates media stream cacheable cache 
private indicates media stream intended single user cached shared cache 
private nonshared cache may cache media stream 
transform intermediate cache proxy may find useful convert media type certain stream 
proxy example convert video formats save cache space reduce amount traffic slow link 
serious operational problems may occur transformations applied streams intended certain kinds applications 
example applications medical imaging scientific data analysis authentication depend receiving stream bit bit identical original entity body 
response includes transform directive intermediate cache proxy change encoding stream 
rtsp provide partial transformation point allowing translation different language 
cached cases times extremely poor network connectivity client may want cache return media streams currently stored receive origin server 
client may include cached directive request 
receives directive cache respond cached media stream consistent constraints request respond gateway timeout status 
group caches operated unified system internal connectivity request may forwarded group caches 
schulzrinne standards track page rfc real time streaming protocol april max stale indicates client willing accept media stream exceeded expiration time 
max stale assigned value client willing accept response exceeded expiration time specified number seconds 
value assigned max stale client willing accept stale response age 
min fresh indicates client willing accept media stream freshness lifetime current age plus specified time seconds 
client wants response fresh specified number seconds 
revalidate revalidate directive setup response received cache cache entry stale respond subsequent request origin server 
cache revalidation time solely origin server expires cached response stale 
conference request header field establishes logical connection pre established conference rtsp stream 
conference id changed rtsp session 
conference conference conference id example conference saa arl wustl edu starr response code conference returned conference id valid 
connection see content base see content encoding see schulzrinne standards track page rfc real time streaming protocol april content language see content length field contains length content method double crlf header 
included messages carry content header portion message 
missing default value zero assumed 
interpreted 
content location see content type see 
note content types suitable rtsp restricted practice presentation descriptions parameter value types 
cseq cseq field specifies sequence number rtsp pair 
field requests responses 
rtsp request containing sequence number corresponding response having number 
retransmitted request contain sequence number original sequence number incremented retransmissions request 
date see 
expires expires entity header field gives date time description media stream considered stale 
interpretation depends method describe response expires header indicates date time description considered stale 
schulzrinne standards track page rfc real time streaming protocol april stale cache entry may normally returned cache proxy cache user agent cache validated origin server intermediate cache fresh copy entity 
see section discussion expiration model 
presence expires field imply original resource change cease exist time 
format absolute date time defined date rfc date format expires expires date example expires thu dec gmt rtsp clients caches treat invalid date formats especially including value having occurred past expired 
mark response expired origin server expires date equal date header value 
mark response expires origin server expires date approximately year time response sent 
rtsp servers send expires dates year 
presence expires header field date value time media stream default non cacheable indicates media stream cacheable indicated cache control header field section 
see 
host request header field needed rtsp 
silently ignored sent 
match see 
schulzrinne standards track page rfc real time streaming protocol april field especially useful ensuring integrity presentation description case fetched means external rtsp case server implementation guaranteeing integrity description time describe message setup message 
identifier opaque identifier specific particular session description language 
modified modified request header field describe setup methods conditional 
requested variant modified time specified field description returned server describe stream set setup 
modified response returned message body 
modified modified date example field modified sat oct gmt modified modified entity header field indicates date time origin server believes presentation description media stream modified 
see 
methods describe announce header field indicates modification date time description setup media stream 
location see 
proxy authenticate see 
proxy require proxy require header indicate proxy sensitive features supported proxy 
proxy require header features supported proxy negatively acknowledged proxy client supported 
servers schulzrinne standards track page rfc real time streaming protocol april treat field identically require field 
see section details mechanics message usage example 
public see 
range request response header field specifies range time 
range specified number units 
specification defines smpte section npt section clock section range units 
rtsp byte ranges meaningful 
header may contain time parameter utc specifying time operation effective 
servers supporting range header understand npt range format understand smpte range format 
range response header indicates range time played recorded 
range header time format understood recipient return implemented 
ranges half open intervals including lower point excluding upper point 
words range starts exactly time stops just start time media unit video audio frame relevant 
example assume video frames generated ms range include video frame starting time include video frame starting lasted interval 
range hand exclude frame 
range range ranges specifier time utc time ranges specifier npt range utc range smpte range example range clock time notation similar header :10.1.1.35.2623
allows clients select excerpt media object play point current location point 
start playback scheduled time server may refuse keep server resources extended idle periods 
schulzrinne standards track page rfc real time streaming protocol april referer see 
url refers presentation description typically retrieved 
retry see 
require require header clients query server options may may support 
server respond header unsupported header negatively acknowledge options supported 
sure client server interaction proceed delay options understood sides slow options understood case 
matched client server pair interaction proceeds quickly saving round trip required negotiation mechanisms 
addition removes state ambiguity client requires features server understand 
require require option tag example setup rtsp server com foo bar baz rm rtsp cseq require feature parameter rtsp option supported cseq unsupported feature setup rtsp server com foo bar baz rm rtsp cseq rtsp ok cseq example feature feature tag indicates client fictional parameter field required 
relationship feature parameter communicated rtsp exchange relationship immutable property feature transmitted exchange 
schulzrinne standards track page rfc real time streaming protocol april proxies intermediary devices ignore features understood field 
particular extension requires intermediate devices support extension tagged proxy require field see section 
rtp info field set rtp specific parameters play response 
url seq indicates stream url rtp parameters correspond 
indicates sequence number packet stream 
allows clients gracefully deal packets seeking 
client uses value differentiate packets originated seek packets originated seek 
indicates rtp timestamp corresponding time value range response header 
note aggregate control particular stream may generate packet range time value returned implied 
guarantee packet sequence number indicated seq timestamp indicated 
client uses value calculate mapping rtp time npt 
mapping rtp timestamps ntp timestamps wall clock available rtcp 
information sufficient generate mapping rtp timestamps npt 
furthermore order ensure information available necessary time immediately startup seek delivered reliably mapping placed rtsp control channel 
order compensate drift long uninterrupted presentations rtsp clients additionally map npt ntp initial rtcp sender reports mapping reports check drift mapping 
schulzrinne standards track page rfc real time streaming protocol april syntax rtp info rtp info stream url parameter stream url url url parameter seq digit digit example rtp info url rtsp foo com bar avi seq url rtsp foo com bar avi seq scale scale value indicates normal play record normal forward viewing rate 
value corresponds rate respect normal viewing rate 
example ratio indicates twice normal viewing rate fast forward ratio indicates half normal viewing rate 
words ratio normal play time increase twice wallclock rate 
second elapsed wallclock time seconds content delivered 
negative value indicates reverse direction 
requested speed parameter data rate changed 
implementation scale changes depends server media type 
video server may example deliver key frames selected key frames 
audio may time scale audio preserving pitch deliver fragments audio 
server try approximate viewing rate may restrict range scale values supports 
response contain actual scale value chosen server 
request contains range parameter new scale value take effect time 
scale scale digit digit example playing reverse times normal rate scale schulzrinne standards track page rfc real time streaming protocol april speed request header fields parameter requests server deliver data client particular speed contingent server ability desire serve media stream speed 
implementation server optional 
default bit rate stream 
parameter value expressed decimal ratio value indicates data delivered twice fast normal 
speed zero invalid 
request contains range parameter new speed value take effect time 
speed speed digit digit example speed field changes bandwidth data delivery 
meant specific circumstances preview presentation higher lower rate necessary 
implementors keep mind bandwidth session may negotiated means rtsp re negotiation may necessary 
data delivered udp highly recommended means rtcp track packet loss rates 
server see session request response header field identifies rtsp session started media server setup response concluded teardown presentation url 
session identifier chosen media server see section 
client receives session identifier return request related session 
server set session identifier means identifying session dynamically generated urls 
session session session id timeout delta seconds timeout parameter allowed response header 
server uses indicate client long server prepared wait rtsp commands closing session due lack activity see section 
timeout measured schulzrinne standards track page rfc real time streaming protocol april seconds default seconds minute 
note session identifier identifies rtsp session transport sessions connections 
control messages rtsp url may sent single rtsp session 
possible clients session controlling streams constituting presentation long streams come server 
see example section 
multiple user sessions url client different session identifiers 
session identifier needed distinguish delivery requests url coming client 
response session returned session identifier invalid 
timestamp timestamp general header describes client sent request server 
value timestamp significance client may timescale 
server echo exact value may accurate information add floating point number indicating number seconds elapsed received request 
timestamp client compute round trip time server adjust timeout value retransmissions 
timestamp timestamp digit digit delay delay digit digit transport request header indicates transport protocol configures parameters destination address compression multicast time live destination port single stream 
sets values determined presentation description 
transports comma separated listed order preference 
parameters may added transport separated semicolon 
transport header may change certain transport parameters 
server may refuse change parameters existing stream 
server may return transport response header response indicate values chosen 
schulzrinne standards track page rfc real time streaming protocol april transport request header field may contain list transport options acceptable client 
case server return single option chosen 
syntax transport specifier transport profile lower transport 
default value lower transport parameters specific profile 
rtp avp default udp 
configuration parameters associated transport general parameters unicast multicast mutually exclusive indication unicast multicast delivery attempted 
default value multicast 
clients capable handling unicast multicast transmission indicate capability including full transport specs separate parameters 
destination address stream sent 
client may specify multicast address destination parameter 
avoid perpetrator denial service attack server authenticate client log attempts allowing client direct media stream address chosen server 
particularly important rtsp commands issued udp implementations rely tcp reliable means client identification 
server allow client direct media streams address differs address commands coming 
source source address stream different derived rtsp endpoint address server playback client recording source may specified 
information may available sdp 
feature transport media initialization authoritative source information setup response 
schulzrinne standards track page rfc real time streaming protocol april layers number multicast layers media stream 
layers sent consecutive addresses starting destination address 
mode mode parameter indicates methods supported session 
valid values play record 
provided default play 
append mode parameter includes record append parameter indicates media data append existing resource overwrite 
appending requested server support refuse request overwrite resource identified uri 
append parameter ignored mode parameter contain record 
interleaved interleaved parameter implies mixing media stream control stream protocol control stream mechanism defined section 
argument provides channel number statement 
parameter may specified range interleaved cases transport choice media stream requires 
allows rtp rtcp handled similarly way done udp channel rtp rtcp 
multicast specific ttl rtp specific port multicast time live parameter provides rtp rtcp port pair multicast session 
specified range port 
client port parameter provides unicast rtp rtcp port pair client chosen receive media data control information 
specified range client port 
schulzrinne standards track page rfc real time streaming protocol april server port parameter provides unicast rtp rtcp port pair server chosen receive media data control information 
specified range server port 
ssrc ssrc parameter indicates rtp ssrc sec 
value request response media server 
parameter valid unicast transmission 
identifies synchronization source associated media stream 
transport transport transport spec transport spec transport protocol profile lower transport parameter transport protocol rtp profile avp lower transport tcp udp parameter unicast multicast destination address interleaved channel channel append ttl ttl layers digit port port port client port port port server port port port ssrc ssrc mode mode ttl digit port digit ssrc hex channel digit address host mode method method example transport rtp avp multicast ttl mode play rtp avp unicast client port mode play transport header restricted describing single rtp stream 
rtsp control multiple streams single entity 
making part rtsp relying multitude session description formats greatly simplifies designs firewalls 
schulzrinne standards track page rfc real time streaming protocol april unsupported unsupported response header lists features supported server 
case feature specified proxy require field section proxy path client server proxy insert message reply error message option supported 
see section usage example 
user agent see vary see see 
www see 
caching response request pairs cached 
rtsp differs significantly respect 
responses cacheable exception presentation description returned describe included announce 
responses describe get parameter return data caching really issue requests 
desirable continuous media data typically delivered band respect rtsp cached session description 
receiving setup play request proxy date copy continuous media content description 
determine copy date issuing setup describe request respectively comparing modified header cached copy 
copy date modifies setup transport parameters appropriate forwards request origin server 
subsequent control commands play pause pass proxy unmodified 
proxy delivers continuous media data client possibly making local copy reuse 
exact behavior allowed cache cache response directives schulzrinne standards track page rfc real time streaming protocol april described section 
cache answer describe requests currently serving stream requestor possible low level details stream description may changed origin server 
note rtsp cache cache variety 
retrieving resource origin server cache simply copies streaming data passes way client 
introduce additional latency 
client rtsp proxy cache appears regular media server media origin server client 
just cache store content type content language objects caches media cache store presentation description 
typically cache eliminates transport multicast information presentation description independent data delivery cache client 
information encodings remains 
cache able translate cached media data create new presentation description encoding possibilities offer 
examples examples refer stream description formats standards 
examples formats 
media demand unicast client requests movie media servers audio example com video example com 
media description stored web server media description contains descriptions presentation streams including codecs available dynamic rtp payload types protocol stack content information language copyright restrictions 
may give indication timeline movie 
example client interested part movie 
get twister sdp host www example com accept application sdp ok content type application sdp schulzrinne standards track page rfc real time streaming protocol april ip rtsp session audio rtp avp control rtsp audio example com twister audio en video rtp avp control rtsp video example com twister video setup rtsp audio example com twister audio en rtsp cseq transport rtp avp udp unicast client port rtsp ok cseq session transport rtp avp udp unicast client port server port setup rtsp video example com twister video rtsp cseq transport rtp avp udp unicast client port rtsp ok cseq session transport rtp avp udp unicast client port server port play rtsp video example com twister video rtsp cseq session range smpte rtsp ok cseq session range smpte rtp info url rtsp video example com twister video seq play rtsp audio example com twister audio en rtsp cseq session range smpte rtsp ok cseq session schulzrinne standards track page rfc real time streaming protocol april range smpte rtp info url rtsp audio example com twister audio en seq teardown rtsp audio example com twister audio en rtsp cseq session rtsp ok cseq teardown rtsp video example com twister video rtsp cseq session rtsp ok cseq audio video track different servers may start slightly different times may drift respect client synchronize standard rtp methods particular time scale contained rtcp sender reports 
streaming container file purposes example container file storage entity multiple continuous media types pertaining user presentation 
effect container file represents rtsp presentation components rtsp streams 
container files widely means store presentations 
components transported independent streams desirable maintain common context streams server 
enables server keep single storage handle open easily 
allows treating streams equally case prioritization streams server 
possible presentation author may wish prevent selective retrieval streams client order preserve artistic effect combined media presentation 
similarly tightly bound presentation desirable able control streams single control message aggregate url 
example single rtsp session control multiple streams 
illustrates aggregate urls 
schulzrinne standards track page rfc real time streaming protocol april client requests presentation media server movie stored container file 
client obtained rtsp url container file 
describe rtsp foo twister rtsp cseq rtsp ok cseq content type application sdp content length ip rtsp session example rtsp session usage control rtsp foo twister audio rtp avp control rtsp foo twister audio video rtp avp control rtsp foo twister video setup rtsp foo twister audio rtsp cseq transport rtp avp unicast client port rtsp ok cseq transport rtp avp unicast client port server port session setup rtsp foo twister video rtsp cseq transport rtp avp unicast client port session rtsp ok cseq transport rtp avp unicast client port server port session play rtsp foo twister rtsp cseq range npt session schulzrinne standards track page rfc real time streaming protocol april rtsp ok cseq session rtp info url rtsp foo twister video seq pause rtsp foo twister video rtsp cseq session rtsp aggregate operation allowed cseq pause rtsp foo twister rtsp cseq session rtsp ok cseq session setup rtsp foo twister rtsp cseq transport rtp avp unicast client port rtsp aggregate operation allowed cseq instance failure client tries pause stream case video presentation 
disallowed presentation server 
second instance aggregate url may setup control message required stream set transport parameters 
keeps syntax transport header simple allows easy parsing transport information firewalls 
single stream container files rtsp servers may treat files container files servers may support concept 
clients rules set forth session description request urls assuming consistent url may 
example server expect single stream file served accept application rtsp mh application sdp schulzrinne standards track page rfc real time streaming protocol april cseq rtsp ok cseq content base rtsp foo com test wav content type application sdp content length ip mu law wave file audio test audio rtp avp control setup rtsp foo com test wav rtsp transport rtp avp udp unicast client port mode play cseq rtsp ok transport rtp avp udp unicast client port server port mode play cseq session play rtsp foo com test wav rtsp cseq session rtsp ok cseq session rtp info url rtsp foo com test wav seq note different url setup command switch back aggregate url play command 
complete sense multiple streams aggregate control intuitive special case number streams 
special case recommended servers forgiving implementations send play rtsp foo com test wav rtsp cseq schulzrinne standards track page rfc real time streaming protocol april worst case servers send back rtsp aggregate operation allowed cseq hope server implementations forgiving setup rtsp foo com test wav rtsp transport rtp avp udp client port mode play cseq single stream file ambiguous means 
live media presentation multicast media server chooses multicast address port 
assume web server contains pointer full description media server maintains full description 
get concert sdp host www example com ok content type application session track src rtsp live example com concert audio session describe rtsp live example com concert audio rtsp cseq rtsp ok cseq content type application sdp content length ip rtsp session audio rtp avp control rtsp live example com concert audio ip setup rtsp live example com concert audio rtsp cseq schulzrinne standards track page rfc real time streaming protocol april transport rtp avp multicast rtsp ok cseq transport rtp avp multicast destination port ttl session play rtsp live example com concert audio rtsp cseq session rtsp ok cseq session playing media existing session conference participant wants media server play back demo tape existing conference 
indicates media server network addresses encryption keys conference chosen server 
example omits simple ack responses 
describe rtsp server example com demo sound rtsp cseq accept application sdp rtsp ok content type application sdp content length ip rtsp session see audio rtp avp setup rtsp server example com demo sound rtsp cseq transport rtp avp multicast destination port ttl conference saa arl wustl edu starr rtsp ok cseq transport rtp avp multicast destination schulzrinne standards track page rfc real time streaming protocol april port ttl session conference saa arl wustl edu starr play rtsp server example com demo sound rtsp cseq session rtsp ok cseq recording conference participant client asks media server record audio video portions meeting 
client uses announce method provide meta information recorded session server 
announce rtsp server example com meeting rtsp cseq content type application sdp content length camera ip ietf meeting munich ninth ietf meeting held munich germany www ietf org meetings munich html ietf channel ietf mbone uni de ietf channel ip tool sdr type test audio rtp avp ip ptime video rtp avp ip rtsp ok cseq setup rtsp server example com meeting rtsp cseq transport rtp avp multicast destination port mode record ttl schulzrinne standards track page rfc real time streaming protocol april syntax rtsp ok cseq session transport rtp avp multicast destination port mode record ttl setup rtsp server example com meeting rtsp cseq session transport rtp avp multicast destination port mode record ttl rtsp ok cseq transport rtp avp multicast destination port mode record ttl record rtsp server example com meeting rtsp cseq session range clock rtsp ok cseq rtsp syntax described augmented backus naur form bnf rfc :10.1.1.35.2623
base syntax octet bit sequence data char ascii character octets ascii uppercase letter ascii lowercase letter alpha digit ascii digit ctl ascii control character octets del cr ascii cr carriage return lf ascii lf sp ascii sp space ht ascii ht horizontal tab ascii double quote mark crlf cr lf schulzrinne standards track page rfc real time streaming protocol april lws crlf sp ht text octet sp ht token char quoted string text quoted pair char message header field name field value crlf field name token field value field content lws field content octets making field value consisting text combinations token quoted string safe extra hex digit escape hex hex reserved alpha digit safe extra reserved escape security considerations similarity syntax usage rtsp servers servers security considerations outlined apply 
specifically please note authentication mechanisms rtsp share common authentication schemes follow prescriptions regards authentication 
see client authentication issues issues regarding support multiple authentication mechanisms 
abuse server log information rtsp servers presumably similar logging mechanisms equally guarded protecting contents logs protecting privacy schulzrinne standards track page rfc real time streaming protocol april users servers 
see server recommendations regarding server logs 
transfer sensitive information reason believe information transferred rtsp may sensitive normally transmitted 
precautions regarding protection data privacy user privacy apply implementors rtsp clients servers proxies 
see details 
attacks file path names rtsp urls opaque handles necessarily file system semantics anticipated implementations translate portions request urls directly file system calls 
cases file systems follow precautions outlined checking path components 
personal information rtsp clients information clients user name location equally 
see recommendations 
privacy issues connected accept headers may accept headers exist rtsp caveats outlined regards followed 
dns spoofing presumably longer connection times typically associated rtsp sessions relative sessions rtsp client dns optimizations prevalent 
recommendations provided relevant implementation attempts rely dns ip mapping hold single mapping 
location headers spoofing single server supports multiple organizations trust check values location content location headers responses generated control said organizations sure attempt invalidate resources authority 
addition recommendations current specification rfc writing specifications may provide additional guidance security issues :10.1.1.35.2623
schulzrinne standards track page rfc real time streaming protocol april added considerations rtsp implementations 
concentrated denial service attack protocol offers opportunity remote controlled denial service attack 
attacker may initiate traffic flows ip addresses specifying destination setup requests 
attacker ip address may known case useful prevention attacks ascertaining attackers identity 
rtsp server allow destinations rtsp initiated traffic flows server verified client identity database known users rtsp authentication mechanisms preferably digest authentication stronger secure means 
session hijacking relation transport layer connection rtsp session possible malicious client issue requests random session identifiers affect unsuspecting clients 
server large random non sequential session identifier minimize possibility kind attack 
authentication servers implement basic digest authentication 
environments requiring tighter security control messages rtsp control stream may encrypted 
stream issues rtsp provides stream control 
stream delivery issues covered section rest memo 
rtsp implementations rely protocols rtp ip multicast rsvp igmp address security considerations brought applicable specifications 
persistently suspicious behavior rtsp servers return error code forbidden receiving single instance behavior deemed security risk 
rtsp servers aware attempts probe server weaknesses entry points may arbitrarily disconnect ignore requests clients deemed violation local security policy 
schulzrinne standards track page rfc real time streaming protocol april appendix rtsp protocol state machines rtsp client server state machines describe behavior protocol rtsp session initialization rtsp session termination 
state defined object basis 
object uniquely identified stream url rtsp session identifier 
request reply aggregate urls denoting rtsp presentations composed multiple streams effect individual states streams 
example presentation movie contains streams movie audio movie video command play rtsp foo com movie rtsp cseq session effect states movie audio movie video 
example imply standard way represent streams urls relation filesystem 
see section 
requests options announce describe get parameter set parameter effect client server state listed state tables 
client state machine client assume states init ready setup sent waiting reply 
setup reply received pause reply received playing state 
playing play reply received recording record reply received general client changes state receipt replies requests 
note requests effective time position pause state changes accordingly 
explicit setup required object example schulzrinne standards track page rfc real time streaming protocol april available multicast group state begins ready 
case states ready playing 
client changes state playing recording ready requested range reached 
state column indicates state assumed receiving success response xx 
request yields status code xx state init status code xx yields change state 
messages listed state issued client state exception messages affecting state listed 
receiving redirect server equivalent receiving xx redirect status server 
state message sent state response init setup ready teardown init ready play playing record recording teardown init setup ready playing pause ready teardown init play playing setup playing changed transport recording pause ready teardown init record recording setup recording changed transport server state machine server assume states init ready initial state valid setup received 
setup received successful reply sent playing pause received successful reply sent 
playing play received successful reply sent 
data sent 
recording server recording media data 
schulzrinne standards track page rfc real time streaming protocol april general server changes state receiving requests 
server state playing recording unicast mode may revert init tear rtsp session received information rtcp reports rtsp commands client defined interval default minute 
server declare timeout value session response header section 
server state ready may revert init receive rtsp request interval minute 
note requests pause may effective time position server state changes appropriate time 
server reverts state playing recording state ready range requested client 
redirect message sent effective immediately range header specifying redirect effective 
case server state change appropriate time 
explicit setup required object state starts ready states ready playing 
state column indicates state assumed sending success response xx 
request results status code xx state init 
status code xx results change 
state message received state init setup ready teardown init ready play playing setup ready teardown init record recording playing play playing pause ready teardown init setup playing recording record recording pause ready teardown init setup recording schulzrinne standards track page rfc real time streaming protocol april appendix interaction rtp rtsp allows media clients control selected non contiguous sections media presentations rendering streams rtp media layer :10.1.1.165.7150
media layer rendering rtp stream affected jumps npt 
rtp sequence numbers rtp timestamps continuous monotonic jumps npt 
example assume clock frequency hz packetization interval ms initial sequence number timestamp zero 
play npt skip ahead play npt 
segment rtp packets sequence numbers timestamp 
second segment consists rtp packets sequence number timestamps 
assume rtsp client communicate rtp media agent may independent processes 
rtp timestamp shows gap npt media agent assume pause presentation 
jump npt large rtp timestamp may roll media agent may believe packets duplicates packets just played 
certain datatypes tight integration rtsp layer rtp layer necessary 
means precludes restriction 
combined rtsp rtp media clients rtp info field determine incoming rtp packets sent seek 
continuous audio server set rtp marker bit serving new play request 
allows client perform playout delay adaptation 
scaling see section rtp timestamps correspond playback timing 
example playing video recorded frames second scale speed section server drop second frame maintain deliver video packets normal timestamp spacing frame npt increase second video frame 
client maintain correct display npt noting rtp timestamp value packet arriving repositioning 
sequence parameter rtp info section header provides sequence number segment 
schulzrinne standards track page rfc real time streaming protocol april appendix sdp rtsp session descriptions session description protocol sdp rfc may describe streams presentations rtsp 
usage limited specifying means access encoding aggregate control presentation composed streams servers available aggregate control 
description typically retrieved non rtsp means 
may received announce methods 
non aggregate control presentation composed multiple streams single server available aggregate control 
description typically returned reply describe request url received announce method 
appendix describes sdp file retrieved example determines operation rtsp session 
describes client interpret sdp content returned reply describe request 
sdp provides mechanism client distinguish human guidance media streams rendered simultaneously set alternatives audio streams spoken different languages 
definitions terms session level media level key attribute names values appendix defined sdp rfc control url control attribute convey control url 
attribute session media descriptions 
individual media indicates url controlling particular media stream 
session level attribute indicates url aggregate control 
example control rtsp example com foo attribute may contain relative absolute urls rules conventions set rfc 
implementations look base url order schulzrinne standards track page rfc real time streaming protocol april 
rtsp content base field 
rtsp content location field 
rtsp request url attribute contains asterisk url treated empty embedded url inherits entire base url 
media streams field enumerate streams 
expected specified streams rendered appropriate synchronization 
session unicast port number serves recommendation server client client include setup request may ignore recommendation 
server preference set port number value zero 
example audio rtp avp payload type payload type specified field 
case payload type static payload type rfc information required 
case dynamic payload type media attribute specify media encoding name attribute may specified rfc sections experimental encoding prefix specified sdp rfc 
parameters specified field attribute described 
implementors seeking register new encodings follow procedure rfc 
media type suited rtp av profile recommended new profile created appropriate profile name lieu rtp avp field 
format specific parameters format specific parameters conveyed media attribute 
syntax attribute specific encoding attribute refers 
note packetization interval conveyed ptime attribute 
schulzrinne standards track page rfc real time streaming protocol april range presentation range attribute defines total time range stored session 
length live sessions deduced parameters 
presentation contains media streams different durations range attribute session level attribute 
unit specified followed value range 
units values defined section 
examples range npt range clock time availability field contain suitable values start times aggregate non aggregate stream control 
aggregate control server indicate time value guarantees description valid start time equal time describe request received 
may indicate start times meaning session available 
non aggregate control values reflect actual period session available keeping sdp semantics depend means life web page containing description purpose 
connection information sdp field contains destination address media stream 
demand unicast streams multicast streams destination address specified client setup request 
media content fixed destination address field set suitable null value 
addresses type ip value 
entity tag optional etag attribute identifies version session description 
opaque client 
setup requests may include identifier match field see section allow session establishment attribute value corresponds current description 
attribute value opaque may contain character allowed sdp attribute values 
example etag bb fd ce schulzrinne standards track page rfc real time streaming protocol april argue field provides identical functionality 
manner put constraints servers need support multiple session description types sdp piece media content 
aggregate control available presentation support aggregate control multiple media sections specified section control url specified control attribute 
example ip came web page ip video rtp avp control rtsp audio com movie aud audio rtp avp control rtsp video com movie vid note position control url description implies client establishes separate rtsp control sessions servers audio com video com 
recommended sdp file contains complete media initialization information delivered media client non rtsp means 
necessary mechanism indicate client request detailed media stream information describe 
aggregate control available scenario server multiple streams controlled 
case media level control attributes specify stream urls session level control attribute request url aggregate control 
media level url relative resolved absolute urls section 
presentation comprises single stream media level control attribute may omitted altogether 
presentation contains stream media stream section contain control attribute 
schulzrinne standards track page rfc real time streaming protocol april example ip contain info ip control rtsp example com movie video rtp avp control audio rtp avp control example client required establish single rtsp session server uses urls rtsp example com movie rtsp example com movie set video audio streams respectively 
url rtsp example com movie controls movie 
schulzrinne standards track page rfc real time streaming protocol april appendix minimal rtsp implementation client client implementation able generate requests setup teardown play minimal playback client record minimal recording client 
record implemented announce implemented 
include headers requests cseq connection session transport 
announce implemented capability include headers content language content encoding content length content type 
parse understand headers responses cseq connection session transport content language content encoding content length content type 
record implemented location header understood 
rtp compliant implementations implement rtp info 
understand class error code received notify user error codes classes xx xx 
notification requirement may relaxed user explicitly want status codes 
expect respond asynchronous requests server announce 
necessarily mean implement announce method merely respond positively negatively request received server 
required highly recommended time publication practical interoperability initial implementations citizen 
implement rtp avp udp valid transport 
inclusion user agent header 
understand sdp session descriptions defined appendix accept media initialization formats sdp standard input command line means appropriate operating environment act helper application applications web browsers 
may rtsp applications different initially envisioned contributors rtsp specification requirements sense 
recommendations serve guidelines strict requirements 
schulzrinne standards track page rfc real time streaming protocol april basic playback support demand playback media streams client additionally able generate pause request implement redirect method location header 
authentication enabled order access media presentations rtsp servers require authentication client additionally able recognize status code parse include www authenticate header implement basic authentication digest authentication 
server minimal server implementation able implement methods setup teardown options play minimal playback server record minimal recording server 
record implemented announce implemented 
include headers responses connection content length content type content language content encoding transport public 
capability include location header implemented record method rtp compliant implementations implement rtp info field 
parse respond appropriately headers requests connection session transport require 
required highly recommended time publication practical interoperability initial implementations citizen 
implement rtp avp udp valid transport 
inclusion server header 
implement describe method 
generate sdp session descriptions defined appendix may rtsp applications different initially envisioned contributors rtsp specification requirements sense 
recommendations serve guidelines strict requirements 
schulzrinne standards track page rfc real time streaming protocol april basic playback support demand playback media streams server additionally able recognize range header return error seeking supported 
implement pause method 
addition order support commonly accepted user interface features highly recommended demand media servers include parse range header npt units 
implementation smpte units recommended 
include length media presentation media initialization information 
include mappings data specific timestamps npt 
rtp portion rtp info field may map rtp timestamps npt 
client implementations may presence length information determine clip visibly disable seeking features clips length information unavailable 
common presentation length implement slider bar serves progress indicator timeline positioning tool 
mappings rtp timestamps npt necessary ensure correct positioning slider bar 
authentication enabled order correctly handle client authentication server additionally able generate status code authentication required resource 
parse include www authenticate header implement basic authentication digest authentication schulzrinne standards track page rfc real time streaming protocol april appendix authors addresses henning schulzrinne dept computer science columbia university amsterdam avenue new york ny usa email schulzrinne cs columbia edu rao netscape communications road mountain view ca usa email netscape com robert third avenue suite seattle wa usa email real com schulzrinne standards track page rfc real time streaming protocol april appendix memo functionality original rtsp document submitted october 
borrows format descriptions 
document benefited greatly comments participating wg 
addition mentioned individuals contributed specification rahul agarwal torsten braun brent browning bruce steve casner francisco cortes kelly martin eric fleischman jay andy peter mark handley brad john ho philipp anne jones anders ruth lang stephanie jonathan eduardo rob mccool david maria patel ema igor shah david singer jeff smith alexander dale john francis 
schulzrinne standards track page rfc real time streaming protocol april schulzrinne rtp profile audio video conferences minimal control rfc january 
fielding gettys mogul nielsen berners lee hypertext transfer protocol rfc january 
nicol adams hypertext markup language rfc january 
key words rfcs indicate requirement levels bcp rfc march 
iso iec information technology generic coding moving pictures associated audio information part extension digital storage media control draft international standard iso international organization standardization iso iec jtc sc wg geneva switzerland nov 
handley jacobson sdp session description protocol rfc april 
franks hallam baker extension digest access authentication rfc january 
postel user datagram protocol std rfc august 
partridge version reliable data protocol rdp rfc april 
postel transmission control protocol std rfc september 
schulzrinne comprehensive multimedia control architecture internet proc 
international workshop network operating system support digital audio video nossdav st louis missouri may 
international telecommunication union visual telephone systems equipment local area networks provide non guaranteed quality service recommendation telecommunication standardization sector itu geneva switzerland may 
schulzrinne standards track page rfc real time streaming protocol april mcmahon gss api authentication method socks version rfc june 
miller resnick singer rating services rating systems machine readable descriptions recommendation rec pics services world wide web consortium boston massachusetts oct 
miller resnick pics label distribution label syntax communication protocols recommendation rec pics labels world wide web consortium boston massachusetts oct 
crocker augmented bnf syntax specifications rfc november 
braden requirements internet hosts application support std rfc october 
compact representation ipv addresses rfc april 
berners lee masinter uniform resource locators url rfc december 
utf transformation format iso rfc january 
braden tcp tcp extensions transactions functional specification rfc july 
stevens tcp ip illustrated implementation vol 

reading massachusetts addison wesley 
schulzrinne casner frederick jacobson rtp transport protocol real time applications rfc january 
fielding relative uniform resource locators rfc june 
schulzrinne standards track page rfc real time streaming protocol april full copyright statement copyright internet society 
rights reserved 
document translations may copied furnished derivative works comment explain assist implementation may prepared copied published distributed part restriction kind provided copyright notice paragraph included copies derivative works 
document may modified way removing copyright notice internet society internet organizations needed purpose developing internet standards case procedures copyrights defined internet standards process followed required translate languages english 
limited permissions granted perpetual revoked internet society successors assigns 
document information contained provided basis internet society internet engineering task force warranties express implied including limited warranty information rights implied warranties fitness particular purpose 
schulzrinne standards track page 
