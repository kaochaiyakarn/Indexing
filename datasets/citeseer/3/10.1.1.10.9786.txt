shape texture homogeneity revisited zisserman department engineering science university oxford parks road oxford ox pj uk az robots ox ac uk objective estimate orientation scene plane uncalibrated perspective image assumption scene coated homogeneous unknown texture 
novel contributions show problem equivalent estimating vanishing line plane second show estimating degrees freedom line decomposed searches parameter third give algorithm estimation applicable regular irregular textures 
algorithms require texels identified explicitly 
plane vanishing line obtained texels locations determined geometry scene plane computed affine transformation 
give examples computations real images 
order recover scene orientation texture deformation image necessary assumptions camera calibrated orthographic nature texture known regular homogeneous isotropic 
analyze basic assumptions homogeneity case textured planar surface single uncalibrated perspective image 
objective remove perspective deformation estimate orientation scene plane 
homogeneity assumption allows projective affine properties imaged surface determined 
particular planar surface vanishing line determined 
homogeneity preserved affine transformations compression 
example regular square grid transformed affine mapping grid parallelograms shape area constant density homogeneous grid 
terms imaging conditions perspective effects necessary homogeneity assumption contributes information vanishing line 
plane viewed affine camera scaled orthography weak perspective imaged texture homogeneous affine transformation world image planes relevant texture deformation may estimate vanishing line 
vanishing line plane computed texture affine rectified 
affine rectification useful practical situations 
example single view metrology measuring distances points planes obtaining texture maps images graphical models enabling probabilistic analysis slanted textures texture synthesis algorithms applied projective textures 
contrast texture assumption isotropy allows plane metric rectified fronto parallel view may generated 
assumption valid fewer real world textures investigate 
homogeneity assumption revisited light developments decade ago projective geometry uncalibrated images world plane image plane image plane projective distortion camera centre images world plane parallel axis 
plane vanishing line parallel image axis 
scene lines intersection planes parallel image plane imaged 
sets lines image axis camera axis vanishing line parallel 
projective deformation image line constant see text 
ii full texture deformation just area deformation 
result new method estimating plane orientation require texels identified step problem plagued previous approaches 
texture constraints vanishing line section describe basic geometry texture deformation induced image mapping 
shape recovery algorithm described detail section results 
constraints direction vanishing line key idea lies observation result perspective image plane points line parallel vanishing line perspective distortion 
give simple geometric proof 
suppose scene plane parallel camera axis fig 
assumption aid visualization 
vanishing line plane parallel image axis 
consider set fronto parallel scene planes planes parallel image plane camera fig 

planes intersects plane line parallel image plane 
consequently perspective distortion image intersection line points world line depth 
image lines parallel image axis vanishing line 
fig 
evident retinal array direction image gradient perspective distortion perpendicular vanishing line 
general calibration matrix non unit aspect ratio applies affine transformation image 
transformation preserves parallelism orthogonality 
general image gradients perspective distortion parallel direction necessarily orthogonal vanishing line 
important specialization result result case image correct aspect ratio skewed gradient perspective effects corresponding gradient depth perpendicular vanishing line 
geometric results section capture gibson observation texture gradient ground orthogonal horizon retinal image see fig 
sketch formal proof case imaged areas 
particular show contour lines imaged area deformation parallel vanishing line 
vanishing line image points gradient distribution image areas gradient vanishing line image plane distribution image areas direction gradient imaged area orthogonal plane vanishing line synthetic perspective image regular square grid vanishing line gradient vector distribution areas imaged quadrilaterals orthogonal vanishing line 
surface shows area imaged quadrilaterals function image position 
gradient surface zero direction parallel vanishing line 
proof 
consider perspective image scene plane 
points scene image plane related homography matrix world point maps point image 
similarly lines mapped 
interested projective properties image matrix may chosen loss generality vanishing line 
transformation maps line infinity 
world region undergoes rigid translation scene plane image undergoes complicated transformation image plane shape changes image position 
particular area imaged region function image position world image homography point jacobian 
shown third coordinates 
differentiating jacobian gives area gradient parallel level set consists lines parallel vanishing line length gradient vector direction function image point position 
particular norm gradient greater points farther vanishing line 
geometry vanishing line result result identified image scene plane may affine rectified transformation 
significance result degree rectification required order assess homogeneity back projected scene plane 
point considered homography scene image plane 
turn homography image 
pattern texel repeats scene plane translation imaged pattern related transformation conjugate world translation 
transformation homography known 

plane plane projective transformation parametrized fixed point corresponding translation direction line fixed points scalar related magnitude translation 
point constrained lie line 
dof line direction ratio 
full transformation computed correspondence pairs points 
case line fixed points vanishing line plane sothat suppose moment known remaining degrees freedom may computed single point correspondence 
case regular texture correspondence texels determines transformation texels related repetition direction 
computing vanishing line section describes approach estimating vanishing line imaged textured plane 
method divided main steps estimating direction vanishing line ii estimating position 
steps stem result 
step search direction set parallel lines image perspective distortion line differs lines 
determines degrees freedom vanishing line 
second step determines remaining degree freedom 
employing result decompose dimensional search dimensional searches 
consider case texture approximately regularly repeating 
step estimating direction vanishing line require self similarity measure image 
determine direction minimum perspective distortion finding direction self similarity measure maximum 
problem reduced measuring auto correlation employ normalized auto correlation similarity measure nac 
note nac invariant affine transformation intensities 
means measure largely invariant slowly varying illumination plane slow comparison region size nac 
shows example distorted homogeneous texture nac surface obtained correlating selected image patch entire image 
synthetic image generated projectively distorting fronto parallel image real textured fabric 
region nac surface surrounding selected test patch higher sharper peaks deeper valleys areas 
region orientation horizontal case vanishing line horizontal 
quantitatively measure effect variance nac values 
direction vanishing line simply estimated detecting direction band maximum variance nac values occurs 
dimensional search problem 
robustness algorithm increased repeating search nac nac cross section cross section peaks valleys nac surface perspective image plane fabric 
vanishing line horizontal 
imaged texels approximately equal area parallel vanishing line 
note distracted actual texture grid created fibres cloth concentrate direction texels maintain size 
square patches marked white different sizes selected image 
nac surface related selected patches 
notice horizontal region peaks valleys nac surface sharper sharper light dark blobs 
cross sections nac surface plotted cross section taken line parallel direction minimum distortion horizontal case selected patch cross section taken line parallel direction maximum distortion vertical case curve corresponding cross section quite great variance nac values line 
cross section flatter tails 
peak middle corresponding strip centred selected patch ignored 
times different patches positions areas making robust estimate set computed directions median directions cf 
fig 

algorithm described table 
dimensional search point algorithm table may implemented different ways 
wish find global maximum variance nac values function orientation strip attention paid avoid local maxima fig 

step estimating position vanishing line section describe second step algorithm compute complete vanishing line 
search algorithm 

repeat select random image patch random centre random area square correlation window compute related nac surface search direction corresponding maximum value variance nac values inside strip fixed width centred direction compute initial value maximizing nac variance inside strip set angles uniformly sampled range cf 
fig 
refine non linear maximization nac variance levenberg marquardt 

required direction corresponds median set computed angles 
table algorithm estimating direction vanishing line variance nac values patch patch patch patch patch patch orientation strip degrees distance vanishing line pixels variance nac values rotating strips centred different test points 
curves shows behaviour variance nac values computed inside strip fixed size centred test point directions varying nac surfaces computed different patches selected image fig 
horizontal vanishing line 
surfaces correspond patches marked fig 

global maximum curves close ground truth 
variance values entire image translating vanishing line 
curves shows behaviour variance values surface vanishing line fixed orientation distance varying surfaces computed different patches 
vertical line diagram shows distance corresponding ground truth vanishing line 
represent situation maximum homogeneity affine warped image 
global maximum curves close ground truth position 
curves show local maxima minima 
variance values vanishing line computing size shape correlation windows image point correlation window plane vanishing line correlation window point computed axis relating vertex point 
having computed direction line parameter remains estimated position say distance centre image 
build result vanishing line identified back projected texture computed homogeneity assessed 
idea plane correctly rectified texture homogeneous directions just parallel vanishing line 
computations carried image avoid sampling problems having infinity scene plane 
describe new improved measure similarity image patches accounts perspective distortion show compute position vanishing line 
new similarity function projective correlation 
suppose wish measure similarity points scene plane specified image points image correlation window vanishing line known points completely constrained size shape corresponding correlation window may computed fig 

window computed point inside warped inverse new image patch compared original applying usual normalized cross correlation possible patches shape size 
simple map provides required invariance perspective distortion 
effectively defined powerful measure similarity patches invariant perspective distortion 
new similarity function termed projective orientation grd truth computed computing vanishing line surface rectifying image extracting texels ex 
vanishing line image plane fabric fig 
computed algorithm sect 
tobe ground truth ellipses show slight difference computed true orientations plane 
known image computed fig 
respect selected test region 
peaks surface distributed sharp distinct entire image longer inside limited region compare nac image fig 

computed texel positions 
texels detected correctly image thresholding surface grouping points obtained 
affine rectification image fig 
obtained directly knowledge result 
notice affine warping angles preserved parallelism lines goodness estimate vanishing line assessed degree parallelism fibres rectified image 
nac 
note map provides solution scale selection problem identified computation correct size neighbourhoods image points data inside neighbourhood representative texture characteristics feature detection problem identified order detect reliable image features necessary compute set filters different sizes image region 
case vanishing line infinity coincides nac 
assessing vanishing line 
scoring function deformation effect current vanishing line imaged texels 
score employed case variance values surface related selected test vanishing line cf 
fig 

effective method measuring homogeneity corrected image explicitly correcting 
table describes algorithm computing remaining parameter vanishing line 
algorithm analogous table dimensional search performed distance parameter angle 
guided matching texels extraction estimate vanishing line obtained robust guided matching algorithm performed texels detected entire image 
selected image region estimated vanishing line compute correlation surface selected patch point image earlier computed nac surface see fig 

similarity measure image regions longer affected perspective distortions depends world regions simple thresholding grouping algorithm surface sufficient detect location image texels fig 

mle estimation vanishing line 
texel positions detected projective image applying homogeneity assumption 
repeat select random patch image 
search second vanishing line signed distance centre image orientation fixed computed table compute initial value maximizing variance entire surface set distances logarithmically sampled range cf 
fig 
refine non linear maximization variance surface levenberg marquardt 

required vanishing line corresponding median set computed distances 
table algorithm estimating second vanishing line homogeneity constant number texels unit area possible compute ml estimate plane vanishing line texels positions 
statistical theory developed reinterpreted terms projective geometry computing slant tilt plane compute mle vanishing line 
straightforward prove projective framework log likelihood function number texels image area corresponding world area locations texel area 
setting derivatives log likelihood function zero yields consistent result mle plane vanishing line obtained centroid back projected area coincides centre mass back projected points 
examples section give results computed vanishing line ii plane orientation iii affine rectified image iv detected texels locations set example images 
plane orientation computed internal calibration matrix plane normal requires estimate 
results require calibration 
image fig 
obtained applying known purely projective warping fronto parallel image set textures vistex database procedure fig 

procedure provides ground truth value vanishing line computed vanishing line compared 
orientation ellipses computed vanishing line assuming simple camera calibration principal point centre image null skew 
obtained applying rectification algorithm fig 

notice rectified image pattern elements area ratios areas affine invariant 
accuracy algorithm demonstrated closeness computed ground truth orientation ellipses 
shows results algorithm applied regular planar texture 
image fig 
obtained warping frontoparallel image fig 
original image taken set brodatz textures 
algorithm accurately recovers orientation plane performs rectification despite weak regularities original pattern 
exactly automatic algorithm works geometric texture patterns floor fig 

image ground truth vanishing line computed www white media mit edu vismod imagery vistex html www ux brodatz html orientation grd truth computed detecting texels rectifying projective images ex 
ii perspective image textured planar surface 
true vanishing line computed vanishing line 
computed ground truth orientations 
detected texels positions marked black computed vanishing line 
image affine rectified 
rectified image angles preserved areas fact basic elements cloth pattern area 
orientation grd truth computed detecting texels rectifying projective images ex 
iii details fig 

true vanishing line computed vanishing line manually defining intersecting sets images parallel world lines 
defined joining sets corresponding points tiles image 
algorithm capable automatically computing estimate true vanishing line demonstrated comparison ground truth computed orientation ellipses fig 
parallelism tile pattern rectified image fig 

assumption homogeneity valid algorithm may fail step orientation vanishing line 
typical situation algorithm show problems dealing image brick wall interrupted windows doors 
assumption texture homogeneity violated large interruptions brick pattern robust analysis required 
particular strength methods developed previous algorithms necessary explicitly identify texels step 
algorithm demonstrated cases texels defined textures stochastic 
computation vanishing line need explicit detection texels vanishing line computed robust guided matching algorithm planar projective transformations may performed extract texels locations 
set framework different cost functions slotted investigated cost variance surface 
remains develop costs better tuned stochastic textures 
possibility sample orientation grd truth computed automatic rectification slanted textured floors ex 
iv original real image slanted horizontal tiled floor 
ground truth vanishing line notice strong illumination gradient image 
crucial similarity measures algorithm invariant gradient 
computed vanishing line computed orientation floor compared ground truth 
detected texels locations white tiles detected dark region top 
affine rectification computed vanishing line 
parallelism tile pattern recovered 
notice strong blurring effect top tiles due perspective reduction imaged size 
synthesize manner non parametric method require learning texture pdf 
cost function may prediction error synthesized measured texture 
extension attributes mle 
position texels cost function attributes included correlation strength 

authors prof andrew blake frederik schaffalitzky josephine sullivan discussions 
supported eu esprit project 
blake 
shape texture ideal observers human psychophysics 
vision res 
blake 
shape texture estimation isotropy moments 
artificial intelligence 
brodatz 
textures photographic album artists designers 
dover new york 
reid zisserman 
single view metrology 
proc 
iccv pages sep 
efros leung 
texture non parametric sampling 
proc 
iccv pages sep 
gibson 
perception visual world 
houghton mifflin boston 
kanatani chou 
shape texture general principle 
aij 
liebowitz zisserman 
creating architectural models images 
proc 
euro graphics volume pages sep 
lindeberg arding 
shape texture multi scale perspective 
proc 
iccv pages may 
malik 
computing local surface orientation shape texture 
ijcv 
blake 
shape texture homogeneity hypothesis 
proc 
cvpr 
ohta sakai 
obtaining surface orientation texels perspective projection 
proc 
th ijcai pages vancouver canada 
ribeiro hancock 
adapting spectral scale shape texture 
proc 
eccv lncs pages 
springer verlag 
schaffalitzky zisserman 
geometric grouping repeated elements images 
proc 
bmvc pages 

algebraic projective geometry 
oxford university press 
stone 
shape texture textural invariance problem scale perspective images textured surfaces 
proc 
bmvc 
bmva press 
witkin 
recovering surface shape orientation texture 
artificial intelligence 
