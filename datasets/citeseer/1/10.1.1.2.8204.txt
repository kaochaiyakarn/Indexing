distance metrics internet bradley marina daniel plummer david moore claffy consider compare internet distance metrics analyze predictive power metrics selecting source lowest latency destination candidate set 
metrics ip path length autonomous system path length great circle geographic distance previously measured round trip time rtt 
describe general properties metrics unprecedented volume real internet macroscopic topology rtt data compare correlation actual rtt destination 
new methodology propose testing different metrics suitable evaluating new distance estimation techniques available 
background packet propagation time hosts internet simple metric reflects connection performance perceived user 
packet traverses links way source destination parameters link propagation latency available bandwidth queuing delay packet loss contribute delay 
parameters generally unknown fluctuate unpredictably time 
performing consistently useful quantitative measurements host host performance particularly predictive power respect performance extremely challenging 
study focus latency natural measure distance internet space 
definition distance amount separation points 
seek distance metrics accurately consistently predict latency 
framework distance metric quantity measured calculated internet connection pair hosts unambiguous correlation latency lower value metric smaller rtt vice versa 
consider compare possible distance metrics study correlation latency 
emphasize approach attempt predict absolute value rtt hosts available prior information predict source relatively lower rtt set candidate destinations 
distance metrics relate logical topology internet derive underlying geographic characteristics 
results suggest metric achieves perfect positive correlation latency metrics derived physical geographic characteristics correlate better observed rtts metrics derived logical topology information 
related practical distance estimates play essential role nearest server selection problem 
widely internet ser authors caida uc san diego san diego supercomputer center mc gilman drive la jolla ca usa 
phone mail brad marina kc caida org 
support provided darpa nsf ncr caida members 
vices replicated mirrored different physical locations 
goal replication provide users faster access content allowing select nearby copies avoid congested paths servers 
framework call server nearest client lowest rtt client 
heidemann addressed issue automatic selection nearby web servers 
considered different selection algorithms domain names geographic approximation icmp including source routed latency probe measurements 
heidemann analyzed overhead time algorithm compared cost retrieval time short web documents 
crovella carter studied effectiveness hop count latency metrics explored approaches bandwidth measurement 
concluded replica selection bandwidth rtt measurements perform comparably perform substantially better random selection 
experimented heuristic distance metric derived bgp path length specifically logarithm number ases forward ip path plus metric provide general purpose mechanism selecting nearest server 
francis explored technical issues related creation public infrastructure provide host host distance information 
proposed deploy number servers maintain virtual topology map internet distribute ip multicast idmaps 
authors note limitations service suggest building testing prototypes way evaluate scalability accuracy 
ng zhang coordinate mechanisms global network positioning gnp peer peer architecture predict internet network distance rtt 
proposed model internet geometric space characterize position host point space 
conducted test study gnp approach accurate robust idmaps 
distance metrics study consider metrics distance internet hosts ip path length autonomous system path length actual geographic distance previously measured round trip times rtt 

ip path length total number hops traversed packet forward path source destination host 
primary source network delay time takes routers process forward packets including hop queuing delays vary widely number routers packet traverses strongly influence observed rtt value 

autonomous system path length 
autonomous system represents single network group networks comprising single administrative entity internet service provider isp shares common network policy 
bgp routing tables articulate inter domain exchange traffic administrative entities determine number unique ases visited packet traversing internet path 
main advantage metric derive extra cost network propagating updating inter domain routing bgp information intrinsic network functioning 
isp peering points responsible large fraction delay suggested path length metric offer predictive power 

geographical distance 
define geographical distance hosts length great circle arc connecting locations surface earth 
topological structure internet physical layout links fully consistent straight great circle arc connection routed path approximately follow shortest physical path hosts 
sum hop distances significantly diverge actual distance hosts 
studies shown sum hop distances may greatly exceed great circle distance hosts 
geographic distance remains significant factor determining rtt hosts 

rtt 
derive rtt metrics previously measured rtts hosts consideration consider different definitions metric rtt observed median derived set previous rtt values 
main advantage rtt metrics directly correlate definition nearness expected produce better results 
measuring rtts requires active probing continuous monitoring feasible 
importantly rtts influenced multiple random variable short lived factors hard predict link congestion queueing routing changes 
contribution fold 
describe properties metrics unprecedented volume real internet macroscopic topology rtt data compare efficacy solving nearest server selection problem described 
second propose new methodology testing different metrics readily applied new distance estimation techniques available 
ii 
methodology data collection kinds data study large volume forward internet ip path information obtained caida macroscopic topology probing project inter domain bgp routing tables project 
caida topology probing tool skitter similar ping traceroute uses increased timestamp accuracy 
tool iteratively sends byte icmp echo request packets incrementally increasing time live values packet reaches target host 
trace record ip addresses responding intermediate routers forward path source target destination explanation bgp calculates uses paths scope see details 
rtt destination 
measurements times daily characterize connectivity topology monitor destination hosts probe list 
years caida collected analyzed large volumes internet topology data set monitor sources hundreds thousands destinations comprehensively internet address space earth 
project collects bgp routing perspectives major isps worldwide 
combined table typically nearly globally routable prefixes combined table map ip addresses origin ases 
classic nearest server selection problem servers distributed network clients wish select optimal server location 
practice difficult instrument clients collect necessary information compare different metrics 
data caida topology monitors continuously probe target destinations provide information thousands pairwise connections 
treat destinations servers monitor source client comparing utility different distance metrics nearest server selection problem 
data topology monitors poll different destinations lists ipv space list destinations dns clients list destinations caida compiled lists goal covering routable ipv address space possible sampling 
working definition routable ipv space union ipv address prefixes combined bgp table time compiled destination list 
ipv space list attempted find ip address populated prefix 
destinations list encompassed prefixes bgp prefixes july corresponded routable prefixes 
caida topology monitors eugene london uk hamilton nz probing ipv space list july 
monitor probes entire destination set day dates march approximately third set day dates prior 
dns clients list goal single destination bgp prefix list ip addresses querying dns root name servers 
collected addresses taken dns root servers 
list achieved nearly coverage bgp prefixes september deployed topology monitors 
hosts located palo alto ca san jose ca herndon va london uk amsterdam nl tokyo jp 
probe destination times daily 
determining distance metrics topology probes caida topology traces consist forward ip path endto rtt host monitor set target destinations 
derive metrics ip path length rtt directly data 
define geographic distance destination monitor great circle distance computed coordi way capture reverse path control destination host 
path length percentage bgp table probed ip forward paths difference path lengths san diego ca fig 

histogram path lengths may 
difference curve difference path seen topology probe bgp table 
locations 
know locations topology monitors service map ip addresses destinations latitude longitude 
determine terrestrial location ip address exclude destination geographic distance metric calculations 
topology probes provide accurate forward ip path information record paths traversed 
way measure forward path source destination host pair bgp table router directly front source gateway internet 
ip forward path travelled packet match path listed adjacent bgp table access adjacent routing tables available anyway 
convert ip address forward path count number unique ases path 
determine number associated ip address hop path find longest matching prefix ip address bgp table origin path matching prefix 
originally announced reachability ip address global internet reasonable consider home ip address 
count number transitions path add get total number ases traversed 
able obtain number hop situations topology probe receive response hop know ip address ip address match prefixes bgp table find home ip address 
cases omit ip hops belong preceding subsequent hop path 
similar path lengths obtained topology probes bgp table adjacent probing source 
access gateway routing table san diego topology monitor compared distributions path lengths computed methods 
presents results bgp table line represents path lengths calculated routing table subset prefixes probed san diego weighted number destinations probed prefix 
probed ip forward path line distribution path lengths generated topology probes 
curves closely align tail forward topology probe curve slightly heavier 
long paths constitute paths 
third curve shows distribution difference path length derived bgp table computed topology probes individual destination 
paths agreement hop 
conclude forward topology data yield approximation path length 
scoring distance metrics nearest server selection methodology evaluating ability various distance metrics correctly identify destination lower latency monitor 
trial pairwise comparison rtts probe monitor destinations 
applying particular distance metric trial yields outcomes success failure inability decide 
trial successful destination lower value metric lower rtt monitor 
trial failure destination lower value metric higher rtt 
metric value destinations trial predictive value 
score metric percentage successes 
note rtt values affected diurnal network patterns short lived events 
avoid unfair comparisons resulting rtt measurements far apart time temporally group destinations pairwise trials 
compute value metric destination know current rtt destination probe 
compare metric value rtt destination metric values rtts destinations immediately preceding subsequent probes 
monitors probe destinations minutes 
iii 
results general properties ip path length metrics distributions ip path length path length single mode centered near arithmetic mean skewed higher values 
mean standard deviation appropriate statistical measures distributions 
particular months obtained mean length values measurements ipv space list dns clients list correspondingly ip las ip las 
note ip path length path length may vary time infrastructural routing changes 
quantified changes path length measures test articulated hypothesis internet path lengths generally increased years 
current results ambiguous 
mean ip path length measured time increased monitors remained constant monitors decreased monitors 
time mean path length increased monitors remained constant monitors decreased monitors 
path length seen bgp routing tables remained relatively flat years 
great circle distance km rtt ms rtt density vs geographical distance palo alto ca density west coast east coast europe asia rtt density fig 

rtt density vs geographic distance caida topology monitor palo alto ca usa 
april 
great circle distance km minimum rtt ms speed light fiber minimum rtt density vs geographical distance palo alto ca density rtt density satellite fig 

minimum rtt density vs geographic distance caida topology monitor palo alto ca usa 
april 
years standard deviation ip path lengths data remained stable standard deviation path length increased 
properties geographical distance rtt metrics rtt distributions typically bi heavy tailed 
peaks distribution correspond clusters hosts similar geographic locations 
shows rtt values observed april topology monitor west coast united states 
right side rotated histogram plot data illustrating typical multimodal rtt distribution 
maxima curve bottom top represent destinations west east asia europe 
heavy tailed rtt distributions destination mask correlation rtt geographical distance 
plotting minimum rtts omits long tails consideration 
filtered data set illustrates destinations minimum rtts outside cluster rtts geographic group 
unusually low rtt values especially propagation time speed light fiber derive imperfect ip geographic location mechanism incorrectly placed destinations europe asia destinations minimum rtts higher fig 

distribution paths caida topology monitor tokyo japan countries 
may corresponding geographical cluster satellite group 
verified accurately located nodes traceroutes show large rtt jumps certain hop 
interfaces jumps occur belong companies offering satellite links customers 
market realities international internet transit cause violation correlation geographic distance latency 
paths hosts outside pass transit country 
example shows country dispersion paths originating caida topology monitor japan 
paths japan united kingdom france canada go 
cases sum host plus destination distances greater predictive power rtt direct source destination distance 
resulting scores distance metrics illustrates ability various distance metrics correctly identify nearest server approach described subsection ii 
percentage successful trials shown metric monitor 
starting top rtt refers median rtt calculated destination previous day sample geo uses great circle distance monitor destination ip ip path length path length 
scores vary widely metrics exception geographic distance metric variability monitors small 
median rtt metric yields highest score slightly lower ipv space list dns clients list 
hypothesize difference due fact caida topology monitors poll destination ipv space list daily 
destinations list median rtt set samples single point measurement rtt taken day 
statistically robust median remarkable single rtt measurement greater predictive power choosing nearest shortest rtt server selection distance metric 
close correlation rtt geography shown subsection iii surprising ge palo alto san jose herndon london uk amsterdam nl tokyo jp dns list percentage successful trials eugene london uk hamilton nz ipv list rtt geo ip percentage succesful trials fig 

success rates distance metrics 
may 
palo alto san jose herndon london uk amsterdam nl tokyo jp dns list percentage unusable trails eugene london uk hamilton nz ipv list ip geo rtt unusable trials fig 

non predictive trial rates distance metrics 
may 
distance second best metric server selection 
peculiarities international internet transit described render weaker metric monitors outside average score ip path length success 
path length metric scores success rate random selection useless 
practical metric applicable cases 
shows percentage trials predictive value metric monitor study 
approximately trials paths identical length 
path length integer number length variety differentiation 
contrast ip path lengths pair destinations identical trials fewer geographic distances median rtt trials yielded indistinguishable non predictive results 
conclude rtt metrics median single previous day measurement useful estimating nearness internet 
shows relative stability different metrics time 
scores generally stable show clear weekly patterns caused weekday versus weekend traffic differences 
comparison different rtt metrics rtt distance metrics single value previously observed median set previously observed values higher correlation latency metric considered 
discuss questions 
date year mon day percentage succesful trials rtt values ip path length path length percentage succesful trials san diego monitor fig 

temporal variability success rates different metrics months 
number cycles calculation successful trials median group median single value average successful trials palo alto ca fig 

success rates rtt metrics monitor palo alto ca 
april rtt distance metric best 

optimal amount past data calculating rtt metric 
consider rtt metrics median average single value previously observed group median 
group median median rtts observed hour window centered exactly hours current rtt value 
shows results obtained topology monitor palo alto ca probes destination list times daily 
axis shows number previous probe cycles derive value rtt metric 
increasing values correspond greater number previous rtts calculations 
vertical lines designate hour boundaries 
axis shows percentage successful trials defined section ii 
shows rtt metrics high success rates difference maximum minimum success rates 
median metric performs best especially calculate data available previous hours measurements 
success rate average metric remains nearly constant regardless data calculate 
average metric yields poorer results median single value observed hours ago 
success rate single value metric exhibits clear diurnal pattern reaching maximum hour boundary 
observation means single rtt value measured day time day strong positive correlation current latency destination 
tried group median hoping better capture enhance hour periodicity discovered median derived available data points previous hours works better 
see rtt metrics previous day data necessarily increase success rate 
metrics success rate may decrease sample past data synchronized current trials hour periodicity 
iv 
defined studied metrics distance internet hosts ip path length path length geographic distance rtt 
characterized distributions metrics comprehensive sample hundreds thousands internet hosts analyzed changes metrics time 
particular data support hypothesis increase path length years 
novel technique evaluating effectiveness various metrics solving nearest server selection problem 
metrics derived previously measured rtts correctly identified server lower rtt trials yielded best results paths probed 
great circle geographic distance second best metric monitors achieves success rate 
topology monitors london 
remaining monitors outside selection geographic distance slightly better random selection better selection ip path length 
ip path length metric successfully predicts server lower latency trials 
path length metric successful cases better random choice 
metrics success rates stable time 
comparing different rtt metrics median rtt derived data observed previous hours best 
calculating median metric incurs significant overhead collection storage processing previous rtt data 
single rtt value observed hours current time may provide simpler solution bears acceptably high positive correlation current latency drop success rate 
furthermore data suggests previously observed rtt data hours old calculate rtt metric improve predictive power 
metrics considered derived information local topology monitor 
information may potentially available client allowing nearest server selection 
alternative metrics possible incorporate global information average ip path distance destination host ip topology graph 
global metrics pertinent problems server placement dns root nameservers 
exploring composite metrics combine multiple metrics potentially incorporated framework global internet distance estimation 
broadly concept distance internet hosts relevant network optimization traffic engineering problems 
number possible paths hosts practically unlimited paths perform better different times 
metric reflects performance distance arbitrary hosts network readily available little cost measurement storage processing great benefit traffic engineering 
variety ways global architecture host distance estimation empirical data proven methodology help mitigate scalability problems internet continues growth 
woolf ed webster new collegiate merriam 
heidemann automatic selection nearby web servers technical report university southern california dec 
carter dynamic server selection internet ieee infocom aug 
passive system server selection mirrored resource environments path length heuristics communications new york apr www net proximate pdf 
francis jamin paxson zhang architecture global internet host distance estimation service ieee infocom june citeseer nj nec com francis architecture html 
eugene ng zhang predicting internet network distance coordinates ieee infocom march citeseer nj nec com html 
rekhter rfc border gateway protocol bgp june 
nemeth claffy internet expansion refinement churn european transactions telecommunications jan www caida org outreach papers egr 
moore nemeth claffy measurements internet topology asia pacific region inet july www caida org outreach papers asia 
moore claffy macroscopic analyses infrastructure measurement visualization internet connectivity performance pam october www caida org outreach papers 
teixeira connectivity south american internet ucsd edu docs proj ps 
plummer moore claffy topology discovery active probing saint jan www caida org outreach papers 
meyer university oregon route views project www uoregon edu route views 
topology monitors status topology monitors status www caida org cgi bin skitter monitors main pl geographic mapping service www com products paa php 
claffy internet topology connectivity ip graphs spie international symposium convergence communication sept www caida org outreach papers osd 
changing structure internet www net papers pdf 
claffy moore nemeth macroscopic internet topology performance measurements dns root name servers usenix lisa dec www caida org outreach papers 
brownlee nemeth claffy dns root performance measurements usenix lisa dec www caida org outreach papers 
