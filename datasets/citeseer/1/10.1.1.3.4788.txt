mitsubishi electric research laboratories www merl com ewa volume splatting matthias zwicker pfister jeroen van baar markus gross tr july novel framework direct volume rendering splatting approach elliptical gaussian kernels 
avoid aliasing artifacts introduce concept resampling filter combining reconstruction low pass kernel 
similarity heckbert ewa elliptical weighted average filter texture mapping call technique ewa volume splatting 
provides high image quality aliasing artifacts excessive blurring non spherical kernels 
suitable regular rectilinear irregular volume data sets 
framework introduces novel approach compute footprint function 
facilitates efficient perspective projection arbitrary elliptical kernels little additional cost 
show ewa volume reconstruction kernels reduced surface reconstruction kernels 
splat primitive universal reconstructing surface volume data 
proceedings ieee visualization october 
san diego ca 
may copied reproduced part commercial purpose 
permission copy part payment fee granted nonprofit educational research purposes provided partial copies include notice copying permission mitsubishi electric research laboratories acknowledgment authors individual contributions applicable portions copyright notice 
copying reproduction republishing purpose shall require license payment fee mitsubishi electric research laboratories rights reserved 
copyright mitsubishi electric research laboratories broadway cambridge massachusetts submitted april revised released july 
ewa volume splatting matthias zwicker pfister jeroen van baar markus gross novel framework direct volume rendering splatting approach elliptical gaussian kernels 
avoid aliasing artifacts introduce concept resampling filter combining reconstruction low pass kernel 
similarity heckbert ewa elliptical weighted average filter texture mapping call technique ewa volume splatting 
provides high image quality aliasing artifacts excessive blurring non spherical kernels 
suitable regular rectilinear irregular volume data sets 
framework introduces novel approach compute footprint function 
facilitates efficient perspective projection arbitrary elliptical kernels little additional cost 
show ewa volume reconstruction kernels reduced surface reconstruction kernels 
splat primitive universal reconstructing surface volume data 
cr categories computer graphics picture image generation viewing algorithms computer graphics dimensional graphics realism 
keywords volume rendering splatting antialiasing 
volume rendering important technique visualizing acquired simulated data sets scientific engineering applications 
ideal volume rendering algorithm reconstructs continuous function transforms function screen space evaluates opacity integrals line sights 
introduced splatting interactive volume rendering approximates procedure 
splatting algorithms interpret volume data set particles absorbing emitting light 
line integrals precomputed particle separately resulting footprint functions 
footprint spreads contribution image plane 
contributions composited back front final image 
introduce new footprint function volume splatting algorithms integrating elliptical gaussian reconstruction kernel low pass filter 
derivation proceeds similar lines heckbert elliptical weighted average ewa texture filter call algorithm ewa volume splatting 
ewa volume rendering attractive prevents aliasing artifacts output image avoiding excessive blurring 
works arbitrary elliptical gaussian reconstruction kernels efficiently supports perspective projection 
method novel framework compute footprint function relies transformation volume data called ray space 
transformation equivalent perspective projection 
local affine approximation voxel derive analytic expression ewa footprint screen space 
rasterization footprint performed forward differencing requiring footprint table reconstruction kernels viewing direction 
splat primitive integrated easily conventional splatting algorithms 
flexibility utilized render rectilinear curvilinear unstructured volume data sets 
eth rich switzerland 
email zwicker inf ethz ch merl cambridge ma 
email pfister jeroen merl com flattening gaussian kernel volume gradient show ewa volume splats reduce surface splats suitable high quality iso surface rendering 
organized follows discuss previous section 
review typical volume rendering pipeline volume rendering equation section 
specifically elaborate volume rendering equation computed typical splatting algorithms 
section ewa volume rendering framework 
start analyzing aliasing problem due improper sampling output function resulting volume rendering 
step introduce ewa resampling filter integrates arbitrary elliptical gaussian reconstruction kernel gaussian low pass filter 
derivation local affine transformation volume data reconstruction kernels integrated analytically 
furthermore show ewa reconstruction kernels continuously adapted volumes surfaces section 
sections discuss implementation results 
previous original splatting 
basic splatting algorithms suffer inaccurate visibility determination compositing splats back front 
leads visible artifacts color bleeding 
solved problem axis aligned sheet buffer 
technique plagued disturbing popping artifacts animations 
mueller proposed align sheet buffers parallel image plane parallel axis volume data 
additionally splat slices reconstruction kernel separately 
technique similar slice volume rendering suffer popping artifacts 
mueller yagel combine splatting ray casting techniques accelerate rendering perspective projection 
hanrahan describe hierarchical splatting algorithm enabling progressive refinement rendering 
furthermore introduced splatting algorithm directly uses wavelet representation volume data 
original framework deal sampling rate changes due perspective projections 
aliasing artifacts may occur areas volume sampling rate diverging rays falls volume grid sampling rate 
swan distance dependent stretch footprints act low pass filters 
antialiasing method closely related ewa volume splatting discuss section 
additional care taken kernels radially symmetric case rectilinear curvilinear irregular grids 
addition arbitrary position contributions kernels sum 
artifacts occur image 
rectilinear grids proposes elliptical footprints warped back circular footprint 
render curvilinear grids mao stochastic poisson resampling generate set new points kernels spheres ellipsoids 
compute elliptical footprints similar 
pointed section technique irregular grids efficiently accurately project elliptical splat kernels 
develop ewa volume splatting similar lines seminal heckbert introduced ewa filtering avoid aliasing surface textures 
extended framework represent render texture functions irregularly surfaces 
section show connection ewa volume surface splatting 
preliminaries volume rendering pipeline distinguish fundamental approaches volume rendering backward mapping algorithms shoot rays pixels image plane volume data forward mapping algorithms map data image plane 
discussion describe forward mapping technique 
mapping data image plane involves sequence intermediate steps data transformed different coordinate systems conventional rendering pipelines 
introduce terminology 
note terms space coordinate system synonymous 
summarizes forward mapping volume rendering pipeline data flows left right 
volume data set object space viewing transformation section camera space projective mapping section ray space volume classification shading integration section screen space viewport transformation output image viewport forward mapping volume rendering pipeline 
overview briefly describe coordinate systems transformations relevant technique 
volume data initially object coordinates 
render data arbitrary viewpoint mapped camera space viewing transformation 
deal effect transformation section 
camera coordinate system defined origin center projection 
transform data ray space introduced section 
ray space non cartesian coordinate system enables easy formulation volume rendering equation 
ray space viewing rays parallel coordinate axis facilitating analytical integration volume function 
transformation camera ray space section key element technique 
purpose similar projective transform rendering pipelines opengl called projective mapping 
evaluating volume rendering equation results image screen space 
final step image transformed viewport coordinates 
focusing essential aspects technique covering viewport transformation explanations 
easily incorporated implementation 
discuss volume classification shading forward mapping pipeline refer thorough discussion 
splatting algorithms review low albedo approximation volume rendering equation fast direct volume rendering :10.1.1.17.5902
left part illustrates corresponding situation 
starting form rendering equation discuss simplifying assumptions leading known splatting formulation 
efficiency splatting algorithms belong popular forward mapping volume rendering techniques 
slightly modify conventional notation introducing concept ray space 
denote point ray space column vector coordinates center projection projection plane coordinates interpreted geometrically follows coordinates specify point projection plane 
ray intersecting center projection point projection plane called viewing ray 
abbreviation refer viewing ray passing 
third coordinate specifies euclidean distance center projection point viewing ray 
simplify notation synonyms denote point ray space 
volume rendering 
left illustrating volume rendering equation 
right approximations typical splatting algorithms 
volume rendering equation describes light intensity wavelength reaches center projection ray length extinction function defines rate light occlusion emission coefficient 
exponential term interpreted attenuation factor 
product called source term describing light intensity scattered direction ray point assume extinction function weighted sum coefficients reconstruction kernels corresponds physical model volume consists individual particles absorb emit light 
extinction function 
mathematical model reconstruction kernels reflect position shape individual particles 
particles irregularly spaced may differ shape representation restricted regular data sets 
substitute yielding 
compute function numerically splatting algorithms simplifying assumptions illustrated right part 
usually reconstruction kernels local support 
splatting approach assumes local support areas overlap ray reconstruction kernels ordered front back 
assume emission coefficient constant support reconstruction kernel ray notation support 
approximate exponential function terms taylor expansion 
ignore self occlusion 
exploiting assumptions rewrite yielding denotes integrated reconstruction kernel 
equation basis splatting algorithms 
introduced term footprint function integrated reconstruction kernels 
footprint function function specifies contribution kernel point image plane 
integrating volume viewing ray analogous projecting point surface image plane coordinates called screen coordinates say defined screen space 
splatting attractive efficiency derives pre integrated reconstruction kernels 
volume integration sample point viewing ray computed convolution 
contrast ray casting methods require convolution sample point 
provides splatting algorithms inherent advantage rendering efficiency 
splatting facilitates higher quality kernels larger extent trilinear kernels typically employed ray casting 
hand basic splatting methods plagued artifacts incorrect visibility determination 
problem unavoidably introduced assumption reconstruction kernels overlap ordered back front 
successfully addressed authors mentioned section 
contrast main contribution novel splat primitive provides high quality antialiasing efficiently supports elliptical kernels 
believe novel primitive compatible state art algorithms 
ewa volume resampling filter aliasing volume splatting aliasing fundamental problem rendering algorithm arising rendered image part sampled discrete raster grid pixel grid 
aliasing leads visual artifacts jagged silhouette edges moir patterns textures 
typically problems disturbing animations 
signal processing point view aliasing understood continuous function sampled regular sampling grid band limited respect nyquist frequency grid 
guarantees aliasing artifacts sampled image 
section provide systematic analysis band limit splatting equation 
splatting equation represents output image continuous function screen space 
order properly sample function discrete output image aliasing artifacts band limited match nyquist frequency discrete image 
theory achieve band limitation convolving appropriate low pass filter yielding splatting equation 
formulated continuous function practice function evaluated discrete positions pixel centers 
evaluate requires available continuous function 
simplifying assumptions rearrange integral 
leads approximation evaluated efficiently 
assume emission coefficient approximately constant support footprint function support area 
assumption emission coefficient constant support reconstruction kernel viewing ray means emission coefficient constant complete support reconstruction kernel 
words ignore effect shading antialiasing 
note common approach antialiasing surface textures 
additionally assume attenuation factor approximately constant value support footprint function 
support area 
variation attenuation factor indicates footprint function partially covered opaque region volume data 
variation interpreted soft edge 
ignoring situations means prevent edge aliasing 
similar rendering surfaces edge texture aliasing handled different algorithms 
exploiting simplifications rewrite heckbert terminology call ideal resampling filter combining footprint function low pass kernel 
approximate splatting equation replacing footprint function original splatting equation resampling filter 
means band limiting output function directly band limit footprint function separately 
assumptions described get splatting algorithm produces band limited output function respecting nyquist frequency raster image avoiding aliasing artifacts 
remember reconstruction kernels integrated ray space resulting footprint functions vary significantly size shape volume 
resampling filter strongly space variant 
swan antialiasing technique splatting uniform scaling reconstruction kernels band limit extinction function 
technique produces similar results method radially symmetric kernels 
general kernels elliptical kernels uniform scaling poor approximation ideal low pass filtering 
aliasing artifacts avoided introducing additional 
hand method provides non uniform scaling cases leading superior image quality illustrated section 
analysis shows band limiting extinction function guarantee aliasing free images 
shading edges frequencies nyquist limit persist 
effects discussed 
elliptical gaussian kernels choose elliptical gaussians reconstruction kernels lowpass filters provide certain features crucial technique gaussians closed affine mappings convolution integrating gaussian coordinate axis results gaussian 
properties enable analytically compute resampling filter single gaussian shown 
section summarize mathematical features gaussians exploited derivation sections 
details gaussians heckbert master thesis 
define elliptical gaussian centered point variance matrix determinant 
form gaussian normalized unit integral 
case volume reconstruction kernels function symmetric matrix column vectors respectively 
easily apply arbitrary affine mapping gaussian 
define affine mapping substitute matrix vector yielding 
convolving gaussians variance matrices results gaussian variance matrix 
integrating gaussian coordinate axis yields gaussian variance matrix easily obtained matrix skipping third row column 
sections describe map arbitrary elliptical gaussian reconstruction kernels object ray space 
derivation results analytic expression kernels ray space equation 
able analytically integrate kernels equation convolve footprint function gaussian low pass filter equation yielding elliptical gaussian resampling filter 
viewing transformation reconstruction kernels initially object space coordinates denote gaussian reconstruction kernels object space voxel positions object space 
regular volume data sets variance matrices usually identity matrices 
rectilinear data sets diagonal matrices matrix elements contain squared distances voxels coordinate axis 
curvilinear irregular grids resampled regular structure general 
example mao describe stochastic sampling approach method compute variance matrices curvilinear volumes 
denote camera coordinates vector object coordinates transformed camera coordinates affine mapping called viewing transformation 
defined matrix translation vector 
transform reconstruction kernels camera space substituting equation center gaussian camera coordinates denotes reconstruction kernel camera space 
variance matrix camera coordinates projective transformation projective transformation converts camera coordinates ray coordinates illustrated 
camera space defined origin camera coordinate system center projection projection plane plane camera space ray space related mapping definition ray space section inverse 
unfortunately mappings affine apply equation directly transform reconstruction kernels camera ray space 
solve problem introduce local affine approximation projective transformation 
defined terms taylor expansion point center gaussian ray space 
jacobian partial derivatives point 
discussion omitting subscript denotes local affine approximation 
substitute apply equation map reconstruction kernels ray space yielding desired expression transforming volume camera ray space 
top camera space 
bottom ray space 
variance matrix ray coordinates 

note uniform rectilinear data sets computed frame voxels changes frame frame 
jacobian different voxel position recalculated voxel 
case curvilinear irregular volumes reconstruction kernel individual variance matrix 
method efficiently handles situation requiring additional matrix multiplication 
contrast previous techniques cope elliptical kernels computing projected extents screen space establishing mapping circular footprint table 
procedure computationally expensive 
leads bad approximation integral reconstruction kernel pointed 
illustrated local affine mapping exact ray passing respectively 
exaggerated show non linear effects exact mapping 
affine mapping essentially approximates perspective projection oblique orthographic projection 
parallel lines preserved approximation errors grow increasing ray divergence 
errors lead visual artifacts general fan rays intersecting reconstruction kernel small opening angle due local support reconstruction kernels 
common approach performing splatting perspective projection map footprint function footprint polygon camera space step 
step footprint polygon projected screen space rasterized resulting called footprint image 
mentioned requires significant computational effort 
contrast framework efficiently performs perspective projection mapping volume ray space requires computation jacobian matrix multiplications 
spherical reconstruction kernels matrix operations optimized shown section 
mapping reconstruction kernel camera ray space 
top camera space 
bottom ray space 
left local affine mapping 
right exact mapping 
integration band limiting integrate gaussian reconstruction kernel resulting gaussian footprint function variance matrix footprint function obtained skipping row column shown 
choose gaussian low pass filter variance matrix typically identity matrix 
compute convolution yielding ewa volume resampling filter 
reduction volume surface reconstruction kernels ewa volume resampling filter handle arbitrary gaussian reconstruction kernels represent structure volume data set accurately choosing shape reconstruction kernels appropriately 
example improve precision isosurface rendering flattening reconstruction kernels direction surface normal 
show infinitesimally flat gaussian volume kernel equivalent gaussian surface texture reconstruction kernel 
words extract render surface representation volume data set directly flattening volume reconstruction kernels surface reconstruction kernels 
derivation illustrated 
object space camera space screen space viewing transformation integration parameterization projection compound mapping reducing volume reconstruction kernel surface reconstruction kernel flattening kernel dimension 
top rendering volume kernel 
bottom rendering surface kernel 
construct flattened gaussian reconstruction kernel object space scaling spherical gaussian direction factor variance matrix scaling factor corresponds spherical kernel 
limit get circular kernel 
render reconstruction kernel apply transformation matrix may contain arbitrary modeling transformations concatenated viewing transformation 
local affine approximation equation map kernel ray space 
variance matrix reconstruction kernel ray space computed 
introduce matrix denote concatenated mapping matrix write elements denote element 
compute gaussian footprint function integrating reconstruction kernel 
variance matrix obtained skipping third row column 
approaches infinity get variance matrix 
conveniently variance matrix factored mapping obtained mapping matrix skipping third row column 
analyze mapping matrix need explicit expression jacobian projective mapping 

columns factor denotes element 
interpreted concatenation mapping resulting compound mapping similar conventional texture mapping 
illustrate process schematically intuitively 
stage parameterization plane 
maps circular texture kernel plane defined vectors camera space resulting ellipse 
second stage oblique parallel projection additional scaling factor local affine approximation perspective projection 
combining projected ellipse low pass filter equation yields texture filter equivalent heckbert ewa filter 
result derive 
compare splatting volumetric kernels splatting surface kernels section 
texture kernels parameterization projection compound mapping rendering surface kernels 
camera space implementation implemented volume rendering algorithm ewa splatting equation 
implementation embedded vtk visualization toolkit framework 
optimize code rendering speed 
sheet buffer accumulate splats planes volume parallel projection plane 
second step final image computed compositing sheets back front 
shading performed gradient estimation functionality provided vtk phong illumination model 
summarize main steps required compute ewa splat voxel voxel compute camera coords 
compute jacobian compute variance matrix project screen coords 
hat setup resampling filter rho rho compute camera coordinates current voxel applying viewing transformation voxel center 
evaluate jacobian equation 
line transform gaussian reconstruction kernel object ray space 
transformation implemented equation results variance matrix gaussian ray space 
remember rotational part viewing transformation orthonormal typically 
spherical kernels identity matrix 
case evaluation equation simplified significantly 
project voxel center camera space screen performing perspective division 
yields screen coordinates 
ready setup resampling filter equation 
variance matrix derived omitting third row column adding identity matrix low pass filter 
compute determinants normalization factors 
resampling filter line 
seen definition elliptical gaussian need inverse variance matrix called conic matrix 
denote conic matrix resampling filter 
furthermore define radial index function 
note contours radial index concentric ellipses 
circular kernels squared distance circle center 
exponential function written store function lookup table 
evaluate radial index efficiently finite differencing 
need additions update pixel 
rectangular axis aligned bounding box centered illustrated 
typically threshold evaluate gaussian heckbert provides pseudo code rasterization algorithm 
rasterization bounding box resampling filter 
results ewa resampling filter number useful properties illustrated 
mapping camera ray space volume size shape resampling filter dominated low pass filter left column 
middle column volume magnified resampling filter dominated reconstruction kernel 
resampling filter unifies reconstruction kernel low pass filter provides smooth transition magnification 
reconstruction kernel scaled situations volume stretched direction shown right column 
bottom row show filter shapes resulting uniformly scaling reconstruction kernel avoid aliasing proposed swan 
essentially reconstruction kernel enlarged minor radius long minor radius lowpass filter 
spherical reconstruction kernels circular footprint functions basically equivalent ewa resampling filter 
elliptical footprint functions uniform scaling leads overly blurred images direction major axis ellipse 
footprint function low pass filter resampling filter swan reconstruction kernel magnification 

anisotropic magnification properties ewa resampling filter compare method swan method see 
images left rendered ewa volume splats right swan uniformly scaled kernels 
square zebra texture dimensions row second row 
leads elliptical reconstruction kernels ratio length major minor radii respectively 
clearly ewa filter produces image time exhibit aliasing artifacts 
ratio major minor radii reconstruction kernels increases difference swan method pronounced 
strongly anisotropic kernels swan uniform scaling produces excessively blurred images shown right frame took approximately seconds render mhz piii processor 
see compare ewa splatting volume kernels left surface reconstruction kernels right 
texture size direction 
typically perspective projection spherical kernel circle 
rendering volume kernels exhibit anisotropic texture filtering produces textures slightly blurry similar isotropic texture filters trilinear 
hand splatting surface kernels equivalent ewa texture filtering 
circular surface kernels mapped ellipses results high image quality anisotropic filtering 
see show series volume renderings unc ct scan human head unc engine foot visible woman dataset 
texture example rendered ewa surface splatting 
images illustrate algorithm correctly renders objects 
skull unc head bone foot iso surface engine rendered flattened surface splats oriented perpendicular volume gradient 
voxels rendered ewa volume splats 
frame took approximately seconds render mhz piii processor 
new splat primitive volume rendering called ewa volume resampling filter 
primitive provides high quality antialiasing splatting algorithms combining elliptical gaussian reconstruction kernel gaussian low pass filter 
novel approach computing footprint function 
exploiting mathematical features gaussians framework efficiently handles arbitrary elliptical reconstruction kernels perspective projection 
primitive suitable render regular rectilinear curvilinear irregular volume data sets 
derive formulation ewa surface reconstruction kernel equivalent heckbert ewa texture filter 
call primitive universal facilitating reconstruction surface volume data 
investigated kernels elliptical gaussians may framework 
principle resampling filter derived function allows analytic evaluation operations described section approximation ideal low pass filter 
achieve interactive frame rates currently investigating graphics hardware ewa splats texture mapped polygons 
plan sheet buffers parallel image plane eliminate popping artifacts 
render non rectilinear datasets investigating fast back front sorting algorithms 
furthermore want experiment splat primitive post shaded volume rendering pipeline 
derivative ewa resampling filter bandlimited gradient kernel avoiding aliasing caused shading noisy volume data 
want exploit ability framework render surface splats 
conjunction voxel culling algorithms believe useful real time iso surface rendering 
acknowledgments lisa avila help implementation ewa volume splatting vtk 
paul heckbert encouragement helpful comments 
chris wren supporting role feeding jennifer martin roth proofreading 
cam foran 
accelerated volume rendering tomographic reconstruction texture mapping hardware 
workshop volume visualization pages 
washington dc october 
van gelder kim 
direct volume rendering shading dimensional textures 
acm ieee symposium volume visualization pages 
san francisco ca october 
heckbert 
survey texture mapping 
ieee computer graphics applications november 
heckbert 
fundamentals texture mapping image warping 
master thesis university california berkeley department electrical engineering computer science june 
james kajiya brian von herzen 
ray tracing volume densities 
computer graphics proceedings siggraph july 
held minneapolis minnesota 
levoy 
fast volume rendering shear warp factorization viewing transform 
computer graphics proceedings siggraph pages 
july 
hanrahan 
hierarchical splatting progressive refinement algorithm volume rendering 
computer graphics siggraph proceedings pages 
las vegas nv july august 
levoy 
display surfaces volume data 
ieee computer graphics applications may 
gross 
fast wavelet volume rendering accumulation transparent texture maps 
computer graphics forum august 
issn 
mao 
splatting non rectilinear volumes stochastic resampling 
ieee transactions visualization computer graphics june 
mao hong kaufman 
splatting curvilinear volumes 
ieee visualization proc pages 
october 
max 
optical models direct volume rendering 
ieee transactions visualization computer graphics june 
mueller moeller 
splatting blur 
proceedings ieee visualization conference pages 
san francisco ca october 
klaus mueller roger 
eliminating popping artifacts sheet buffer splatting 
ieee visualization pages october 
isbn 
klaus mueller roni yagel 
fast perspective volume rendering splatting utilizing ray driven approach 
ieee visualization pages october 
isbn 
schroeder martin lorensen 
visualization toolkit 
prentice hall second edition 
swan mueller ller yagel 
anti aliasing technique splatting 
proceedings ieee visualization conference pages 
phoenix az october 

interactive volume rendering 
upson editor proceedings chapel hill workshop volume visualization pages 
university north carolina chapel hill chapel hill nc may 

footprint evaluation volume rendering 
computer graphics proceedings siggraph pages 
august 
goss 
opacity weighted color interpolation volume sampling 
ieee symposium volume visualization pages 
isbn 
zwicker pfister van baar gross 
surface splatting 
computer graphics siggraph proceedings 
los angeles ca july 
accepted publication 
