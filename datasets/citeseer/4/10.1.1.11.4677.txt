availability locality measurements peer peer file systems jacky chu kevin brian neil levine department computer science university massachusetts amherst ma cs umass edu peer peer networking applications continue increase popularity measurement studies performance 
rst study locality les stored transferred peers napster gnutella month long periods 
analysis indicates locality les skewed cases ts distribution 
predicts caches popular songs increase performance system 
took baseline measurements le types sizes comparison time studies 
surprisingly audio les popular signi cant fraction stored data occupied videos 
measured distribution time peers gnutella available downloading 
node availability strongly uenced time day ects user tend available short contiguous lengths time 

trac web peer peer applications rank dominant internet 
compared studies web fewer measurement studies peer peer le sharing networks 
preliminary results studies applications 
rst periodically recorded names les stored users napster application january gnutella le system march 
second periodically measured availability peers gnutella network march 
analysis measurements shows strong evidence caches improve performance systems seen user reduce network resources 
factors suggest true 
supported part national science foundation awards ani eia gift sprint advanced technology labs 
calculated locality napster gnutella stored transferred les recorded year apart 
networks exhibit locality characteristics log quadratic distribution closely approximated power laws 
popular les gnutella account total number stored les 
locality transferred les higher transferred les account total transfers estimates 
unaware published showing results stored transferred les results ectiveness caching le downloads closely related focused locality caching queries 
second distribution le types sizes network 
surprisingly les mp encodings mb size 
les videos account stored bytes 
measurements serve baseline changes expect track observe coming years 
third analysis node availability de ne amount time peers available serve le transfer requests 
results show majority nodes connected network busy checked meaning able handle requests peers 
gnutella nodes may times answer queries serve les 
example nodes may available user set limit concurrent downloads reached 
ndings show availability oscillates hour period indicating time day ects nodes busy ine 
distribution length continuous times nodes available heavily skewed short times 
skewed performance approximated log quadratic distribution 
sum transferred les high locality popular shared les mb nodes tend unavailable 
results suggest caches popular shared content collocated web caches signi cant improvement users systems 
example study popular les accounted transfers 
corresponds songs stored gb 
organized follows 
section reviews previous background material operation napster gnutella 
section describes method measurement data collection 
section presents results locality node availability characterizations 
section ers 

background 
previous similar studies applications reported contributions easily distinguished earlier works 
aware previous measurements stored transferred les time day ects node availability 
addition repeated analysis discuss results di er previous 
ripeanu mapped gnutella topology monitoring ping pong messages measured percentages trac type queries pings gnutella topology match underlying network topology 
markatos took measurements gnutella clients separate geographic locations hour analyzed ects caching search queries 
due high temporal locality queries observed simple query caching scheme shown reduce query trac factor 
trac include trac caused le transfers peers propose reduce 
saroiu study latency bandwidth gnutella network 
studied availability nodes hour period probing node minutes 
studied node availability ran experiment week long period greatly extending results 
adar huberman measured gnutella query ping pong messages 
pong messages contain number les shared users 
inferred peer downloads messages assuming users download les appear messages clearly incorrect poor assumption 
experiment explicitly obtained shared le list periodically user advantage capabilities speci gnutella implementations 
calculated di erences time user shared le lists infer songs transferred 
know single proposed analytical models networks figueiredo 
preliminary assumptions performance attributes examined including session length node availability 
expect results useful modeling studies 
remainder section brie overviews aspects napster gnutella protocols relevant study 
detailed protocol information please see napster protocol speci cation gnutella protocol speci cation 

napster protocol napster protocol uses centralized approach keep track les stored peers 
peer comes online sends list shared les central server 
peer goes ine list shared les removed central database 
search requests sent directly central server turn searches database clients sharing les satisfy request 
list results sent back client le transfers occur directly peers 
protocol browse message experiment allows client get speci user song list napster server 

gnutella protocol gnutella protocol di ers napster protocol uses distributed approach locating les network 
central server connect peer maintain connections set known gnutella peers called friends 
search requests carried sending query friend turn relay query friends query network certain depth 
search results routed peers reverse path query reach originating peer 
napster le transfers occur directly peers 

experiment methodology section describes methodology measurement experiments performed 
rst experiment recorded les downloaded napster gnutella users 
second experiment measured amount time nodes available set dates users seen total stored unique stored total transfers unique transfers les les recorded recorded table 
song les transfers recorded napster clients 
set dates users seen total stored unique stored total transfers unique transfers les les recorded recorded table 
song les transfers recorded gnutella clients 
gnutella network 
large amount data gathered analyzed produce results described section 

file list collection order record le lists users networks rst discovered large set users network 
periodically probed user list les node available time 
le list stored associated timestamp user identi cation 
speci cs done networks described brie subsections 

experiment methodology describes analysis measurement experiments 
rst experiment recorded les downloaded napster gnutella users 
second experiment measured amount time nodes available gnutella network 
section describes methodology experiments 

file list collection order record le lists users networks rst discover set users network 
periodically probe user list les node available time 
le list stored associated timestamp user identi cation 
speci cs done networks described brie subsections 
large amount data gathered part experiment analyzed produce results described section 
replicas le system usually renamed users preference 
map replicas di erent original le shortened names signatures 
shortening process generated signature le name follows 
drop words 

take immediately repeated letters collins 

drop vowels 

convert non alphanumeric character space 

condense drop leading white space 

sort space delimited name obtain signature 
considered set les signature replica set le 

napster collection details napster measurements took place december february including day break 
time recorded les thousands users hundreds thousands transfers 
table shows details 
note dates prior legal forced napster lter copyrighted content resulted users altering arti cially 
initial experiment executed subsequent measurements gnutella analyze data longer possible collect data napster 
pleased see results match data collected year gnutella network 
connected napster server client wrote napster protocol speci cation 
client continuously submitted search requests random words picked english dictionary le 
results returned server able determine large list users available network 
discovered user ids rst time added names database maintained experiment 
client cycled database list users sent browse message server retrieve user le list succeed user online time 
le lists stored associated timestamp analysis section 

gnutella collection details collected le lists gnutella users february march 
speci details shown table 
modi ed api create custom measurement program 
program created list available nodes connecting node router limewire com 
node resolved random node happens online moment 
client learns gnutella peers ping pong messages eventually connects xed number nodes friends 
program examined messages routed neighbors 
messages contain identifying information nodes network guid ip address listening port 
uniquely identi ed nodes ip port pair ip port pair examined known ips discarded list guids identify nodes appropriate gnutella protocol allow messages impossible contact directly le transfers 
gnutella push protocol initiate transfers taken time number users monitored 
gnutella clients allow users le lists retrieved focused experiment popular clients allow 
sending request directly clients listening gnutella port obtain html page listing le peer sharing 
html document parsed stored database associates user le listed respective le size timestamp indicating le list obtained 
obtained list known peers periodically collected information les sharing 
data infer time les downloaded 
experiment cycled static list known peers trying obtain le list 
cycle attempted contact peer took approximately hours due size peer list hardware 

node availability study node availability gathered xed list nodes tracking gnutella network trac 
extended api create custom gnutella client extracted ip address port number information messages routed client part normal gnutella operation 
experiment collected observed query messages 
query messages re ect popularity search words analysis 
collected node ip address longer needed gnutella protocols 
simply attempted contact node opening tcp connection 
quickly initiate close tcp connection created tracking manager nmap customizable unix administrative tool port scanning 
set maximum timeout rtt value seconds value small cycle list relatively short time period large allow sucient time tcp connection set occur node online 
tracking routed nodes solely guid destination 
guid practice guaranteed globally unique guaranteed remain xed subsequent sessions client 
manager cycled list node ip addresses port numbers 
cycle nmap determined states node node accepts incoming tcp connection meaning node available 
closed node responding probe listening port accepting tcp connections meaning node currently connected gnutella node available 
able create route node meaning client busy handle requests node disconnected internet node available 
considered state available node running gnutella client accept connections respond messages nodes meaning unavailable nodes wishing download les 
single process cycle large node list allow track node frequently 
ectively track large node set relatively small time interval script spawn new tracking manager minutes cycles node list 
node tracked approximately minutes slight inconsistency depending network delays 
immediately discovered new node node collection process particular node probed immediately tracking delay results node collection process eliminated provides base data compare rest experiment 
conducted experiment march th may th interruption collected cycles data nodes 

analysis 
file transfer locality previous works analyzed locality accesses web proxies servers commonly tting access patterns skewed distributions power laws 
skewed distributions easily taken advantage web caches improved performance 
heavily skewed le popularity gnutella napster 
analysis indicates caches group users collocated university campus ective method increasing performance applications 
expect applications gnutella self caching le popular nodes store 
expect widespread appearance le improve average transfer time users downloading le 
reasons may true 
application level ttl elds limit scope broadcast query gnutella peers closer topology 
application level topology existing applications follow underlying ip network topology 
reason adjacent nodes necessarily close expected neighbor neighbor 
second gnutella clients sophisticated method directing users best peers discovered sharing le 
server selection methods extensively researched hanna provides overview research applying results peer peer networks trivial 
simple pings di erentiate peers poor measure low occurrence peer availability show section worthwhile perform network tests peer costly hop counts traceroute 
tracking past history node value nodes seen 
maintaining cache popular songs users common intranet problem peer selection removed popular songs downloaded quickly cache testing doubt 
furthermore bene widely shared les hampered low availability nodes 
expect caches available local users contain popular songs quick download 
determine ectiveness caching le systems rst calculated locality transferred les 
analysis section led number 
sum stored le popularity skewed follows log quadratic distribution 
stored les highest ranked les accounted total number stored les 
file transfers slightly higher locality follow log quadratic distribution closely 
highest ranked les accounted total number transferred les 

file locality shows cumulative percentage stored data function les ranked popularity 
graph shows napster gnutella experiments popular les account stored data 
files stored napster network demonstrate similar locality 
fact measurements recorded year apart di erent types applications gave con dence curves inherent music interests users characteristics applications 
shows cdf napster gnutella stored le locality 
pdf le locality network shown 
matlab leastsquares curve tting tools nd best ts 
distribution easily zipf distribution observed caching systems 
slightly quadratic better ts popular les 
hope model explain observed process carefully 
sure factor introduced scale distribution 
log quadratic distribution shown show easily approximated zipf distributions may clue 
regardless proper skewed distribution data clearly predicts caching ective method reducing cost le transfers improving download latency remote peers 
measurements allowed infer estimate le transfers occurred week 
figures show transferred les exhibit higher locality stored les 
distribution exhibits scale best log quadratic function 
zipf distribution shown comparison 
believe lower locality observed napster due infrequently contacted users 
determined transfers di erences week week les recorded appearing user library 
week determined popular stored songs 
weren able contact user determine current le set 
table shows contacted gnutella users monitored week 
napster experiment robust list users observing long probed users infrequently week 
data collected due napster demise popularity legal troubles results 
cdf stored file popularity percentage unique files rank popularity percentage stored files napster gnutella 
cdf stored le locality napster gnutella 
pdf stored file popularity percentage files log scale percentage unique files ranked log scale napster gnutella powerlaw fit log quadratic fit 
popularity distribution stored le locality napster gnutella 

file type demographics time data collection napster les mp extension allowed shared users 
gnutella places restriction shared content 
table shows demographics le types recorded gnutella 
audio les image les popular 
size les taken account audio les video les bulk shared data 
average mp le mb 
plan monitor distribution coming years analyze changes 
appendix include lists popular shared les stored gnutella network collection period 
separate tables show top les types just audio types just video types 
ranking signatures 
numbers parentheses show number users stored le corresponding signature full cdf transfered file popularity percentage unique files rank popularity percentage stored files napster gnutella 
cdf transferred le locality napster gnutella 
pdf transfered file popularity percentage files log scale percentage unique files ranked log scale napster gnutella powerlaw fit log quadratic fit 
popularity distribution transferred le locality napster gnutella 
type les bytes audio image html video text exe archive table 
demographics stored data gnutella 
name signature shown 
example beck really les signature bck 

node availability studies appear propose analytical models performance characteristics applications 
important measures may assumed length sessions line time amount time away network line time 
example figueiredo assume line time exponentially distributed mean 
study assumes nodes stay long number les wish download plus think time assumed exponentially distributed 
able characterize measures measures related experiment 
gnutella applications nodes limit number peers download concurrently 
distinguish nodes available servers les 
nodes may unavailable application running user set limit number concurrent downloads reached 
results section summarized follows number nodes available networks strongly ected time day 
exactly nodes available constantly changes small percentage nodes available downloads instant 
time nodes available minute period unavailable 
approximately sessions available hours 
distribution session lengths follows log quadratic function 
shows percentage peers available port open period time peer rst discovered 
lines appear graph 
lowest line number nodes available speci cycles experiment 
just percentage nodes available cycle cycles occurred previous hour period time axis cycles 
lines show percentage nodes seen larger time ranges including nodes seen entire experiment 
nodes seen 
may get new ip address dhcp recon guration gnutella infrequently weeks 
observed signi cant time day ects experiment 
illustrates point clearly previous graphs 
shows average number nodes available hour day local time discovered days active nodes instant past hour past day past week cumulative 
node availability nodes rst discovered mar 
experiment 
surprised see result 
expected peers discovered geographically topologically dispersed 
logical topology created gnutella correspondence geography 
aware restrictions network geographic location joining gnutella network 
messages sent gnutella application layer hop limit get continents 
geographical location irrelevant proximity 
observed 
explanation majority users gnutella may unfortunately accurate means determining geographical location individual clients 
analyzed distribution lengths continuous time peers available shown 
gure shows comparison distribution 
implications nodes available short time 
sessions length minutes 
unable de ne observations probed nodes minutes 
log quadratic approximated zipf distributions mean di erent behaviors regarding node session length 
speculation zipf distribution hour day active nodes vs local time 
node availability function hour day local time 
types internet connection users rst users low bandwidth high latency unstable connections guarded number concurrent downloads allow second users connections limit number concurrent downloads strictly 
may users larger numbers shared les exhibit proportionately shorter availability times multi log node availability length units minutes log frequency distribution length time nodes available gnutella log quadratic 
node availability session length compared log quadratic 
factor user types may cause power laws 
concerned week period long average bin results 
session length distribution consistent week period 
shows session length distribution just data collected rst week experiment session length distribution data just week week period 
distributions identical 
wished compare measurements saroiu study lifetime measurement nodes 
produced availability cdf distribution shown subset data collected rst days experiment 
experiment lasted hours 
lower line shown cdf distribution similar results shown saroiu 
upper line performance analysis computed full set data 
cdf larger data set left shifted signi cantly meaning number sessions shorter duration dominates acutely previously reported 
supports peers gnutella network tend short availability times 

shown signi cant amounts locality exist stored transferred les napster gnutella 
measurements closely approximated log quadratic double power law distribution 
demographics stored data gnutella show audio les represent bulk shared les 
session length time session length 
node availability session length rst week 
uptime percentage time session length cdf small early data set larger longer data set 
node availability cdf short period time vs long period time 
video les account les network larger size means occupy approximately total bytes shared 
expect change 
measured node availability gnutella network availability uenced strongly time day 
observed length time nodes remain available continuously ts log quadratic curve nodes tend available short lengths time 
main results skewed distribution le popularity low peer availability suggest strongly caching popular les system greatly improve system performance 
imagine caches deployed web caches deployed today 
caches improve download times users removing need guess peer ers best download speed 
automated peer selection methods deployed widely researched 
secondly cache mitigate ects low node availability observed 
asynchronous online times low availability users gains widely shared popular les 
acknowledgments bene ted greatly orts vincent georgia tech ryan boyle fidelity undergraduates umass 
vincent ryan part team collected napster data 
umass amherst stimulating conversations kathryn mckinley ut austin early encouragement 

ripeanu foster iamnitchi mapping gnutella network properties largescale peer peer systems implications system design ieee internet computing journal 

markatos tracing large scale peer peer system hour life gnutella proc 
ccgrid second ieee international symposium cluster computing grid may 

saroiu gummadi gribble measurement study peer peer le sharing systems multimedia computing networking mmcn january 

adar huberman free riding gnutella monday october 

figueiredo ge towsley kurose modeling peer peer le sharing systems 
umass technical report january 

napster protocol open speci cation april 
available sourceforge net napster txt 

gnutella protocol speci cation available www clip com pdf 

api available www com 

rekhter address allocation private internets 
ietf rfc feb 
available www ietf org rfc rfc txt 
rank filename ext divider gif cm smi gif park mp mp remind mp ce mp ant farm smooth criminal mp hey baby doubt mp mp jay mp ra mp angel mp readme txt pod alive mp keys mp usher got bad mp mp drops jupiter train mp calling go mp kelly worlds greatest mp crawling park mp arms wide mp mary family air mp wish mp remind mp full coverage gif gif setup exe usher remind mp world mp get party started pink mp country grammer mp blurry mud mp drive mp craig david feel mp control mud mp higher mp get party started pink mp hanging moment mp ghting mp hero mp hotel california mp town mp lead stairway heaven mp resort roach mp ei mp role mp chop system mp park step closer mp table 
top les rank filename ext park mp mp remind mp ce mp ant farm smooth criminal mp hey baby doubt mp mp jay mp ra mp angel mp pod alive mp keys mp usher got bad mp mp drops jupiter train mp calling go mp kelly worlds greatest mp crawling park mp arms wide mp mary family air mp wish mp remind mp usher remind mp world mp get party started pink mp country grammer mp blurry mud mp drive mp craig david feel mp control mud mp higher mp get party started pink mp hanging moment mp ghting mp hero mp hotel california mp town mp lead stairway heaven mp resort roach mp ei mp role mp chop system mp park step closer mp michelle branch mp pod youth nation mp mp fat joe feat 
kelly mp roman got high mp mp trick daddy mp table 
top audio les 
breslau cao fan phillips shenker web caching zipf distributions evidence implications proc 
ieee infocom march 

hanna natarajan levine evaluation novel step server selection metric proc 
ieee icnp november 
rank filename ext beck asf comedy basketball funny ll pants avi sample mov britney spears slave mpeg mpeg pornographic asf funny videos msu attacking wisconsin mpeg mtv shopping carts mpg waiting avi comedy giving finger cop police really funny avi doubt hey baby mpg comedy fight recorded mpeg avi comedy kicks baby funny 
mpeg adam sandler cruise mpg lord rings fellowship ring avi comedy cat attacks kid funny mpg adam sandler chris farley gay beer mpeg jennifer lopez ain funny mpg rm pornographic asf comedy funny 
monkey sni butt passes 
mpeg movie funny mpg pamela anderson tommy lee sex video mpeg comedy avi pornographic mpeg family guy osama bin laden mpeg rm jennifer lopez feat ja rule im real mpg pamela anderson tommy lee mpg blink mpg mpeg pink get party started mpg adult movies student mpeg pornographic mpg comedy matrix extremely funny mpeg saturday night live matt foley mexican house chris farley jay mohr mpg matrix mpg sarah michelle acting britney spears mpg logo avi fast food football mpg pornographic mpeg pornographic mpg jones williams anal cover mpeg pornographic mpg reynolds stewart ape tit mpeg pornographic asf pornographic mpg jameson nurse mpg faces death kid gets kicked throat dancer funny hell mpeg table 
top video les 
