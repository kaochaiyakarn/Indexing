comparison large scale overlay management techniques jain mahajan david wetherall gaetano borriello steven gribble djw gaetano cs washington edu computer science engineering university washington seattle wa technical report uw cse kudos novel hierarchical topology aware overlay construction algorithm 
kudos extension narada existing topology aware overlay adding hierarchy signi cantly increased scalability kudos maintaining performance advantage topology awareness 
additionally provide rst detailed comparison topology aware topology agnostic overlay construction algorithms performing detailed simulations kudos chord random power law overlay :10.1.1.140.3129
show overlay topologies faced fundamental tradeo relative delay penalty rdp link stress changing node degree di erent points tradeo selected 
demonstrate kudos signi cant outperforms considered topology agnostic algorithms terms latency bandwidth scale degree costs incurred topology aware overlay maintenance 
overlays popular way deploy new network protocols middleware services 
overlay virtual network participating nodes pair nodes overlay separated links underlying physical network topology pairs overlay nodes connected tunnel physical network 
overlay trac tunneled overlay protocols advantage incremental deployability 
early overlays bone bone intended transitional solutions overlays recognized ective permanent way deploy new services including application level multicast peer peer networks :10.1.1.111.1818:10.1.1.28.5987
topology overlay may di er underlying physical network overlay may inecient packets owing distinct virtual links may cross physical link route single packet overlay may involve repeated crossings physical link 
algorithm mechanism form overlay critical performance overlay topologies closely match underlying physical network topology ecient general 
overlays bone manually con gured relatively static topology overlays built managed self organizing algorithms 
algorithms adapt overlay network topology changes node membership changes physical network onset congestion 
topology aware algorithms ron narada rmx active measurements infer network properties informed choice overlay topology 
topology agnostic overlays chord tapestry pastry criteria form overlays embedded overlay virtual geometric space simplify routing :10.1.1.111.1818:10.1.1.140.3129:10.1.1.28.5987
topology aware algorithms avoid overlays cost increased management overhead potentially poor scalability 
contributions rst presents design kudos hierarchical extension narada topology aware overlay construction algorithm 
hierarchy kudos lower management overhead superior scalability narada furthermore show advantages gained hierarchy come cost poorer routing eciency 
second contribution detailed comparison advantages disadvantages topology aware algorithms relative topology agnostic overlays 
packet level simulations compare kudos chord showing routing eciency topology agnostic overlays measured relative delay penalty factor worse kudos true heuristic extensions chord designed address issues 
demonstrate kudos better able achieve lower packet delivery latency higher bandwidth chord 
section discuss evaluate various overlay topologies 
section describes topology aware approach kudos 
section describes various topology agnostic algorithms comparison 
section describes experimental methodology 
results experiments section section 
talk related section conclude section 
fully connected overlay physical topology bad overlay example illustrating di erent overlay topologies 
shows physical network hosts interested participating overlay 
di erent overlays topologies shown 
shown broadcast data overlay 
evaluation overlay topologies previously argued topology aware overlay construction algorithms attempt increase eciency routing overlay cost increased management overhead 
topology aware algorithms periodic probes measure characteristics paths algorithms may su er limited scalability ectively restricting group sizes approximate nodes 
overlay performance metrics multicast representative driving application quantify eciency overlay 
proposals discussed overlay management context application level multicast proposals typically construct multicast distribution trees rooted source multicast transmission 
regardless speci details particular proposal metrics evaluate performance relative delay penalty rdp stress 
rdp measure additional packet delay introduced overlay delivery single packet source destination 
speci cally rdp ratio latency experienced sending data overlay latency experienced sending data directly underlying network 
stress measure excess bandwidth consumption induced overlay multicast transmission 
stress physical link de ned number overlay tunnels send trac link 
note stress function topology multicast tree ooding style broadcasts cause stress physical link multicasts 
ecient multicast trees multicast packet ows virtual overlay tunnel 
ideally overlay low rdp low stress 
unfortunately requirements con icting 
see consider shows example physical network hosts interested forming overlay 
shows fully connected overlay topology case rdp pairs send directly 
stress links close hosts high shows paths taken packets wants communicate simultaneously 
send packets physical access link overlay tunnel leading stress physical link 
example consider overlay topology selects overlay links randomly resulting overlay shown 
case overlay tunnels go physical link leading high stress 
additionally rdp pairs nodes high 
general topology agnostic schemes chord gnutella yield overlays 
comparatively topology aware scheme narada result overlay topology closely matches underlying physical topology shown 
topology low rdp pairs results low stresses physical links 
scalability overlays form topology aware overlay schemes narada introduce sources overhead probe trac overlay node pairs management overhead induced membership changes evolving network conditions 
high level measure scalability overlay scheme terms metrics amount state kept node maintain overlay amount network trac attributable overlay maintenance network probing 
kudos scalable topology aware overlay management overhead associated topology aware protocols known prohibitive scale 
simple ective way combat overhead introduce hierarchy overlay 
kudos hierarchical overlay scheme partitions overlay nodes clusters 
cluster unique representative node called cluster head non head nodes cluster referred children 
kudos form levels overlays 
bottom level run independent instances topology aware protocol cluster forming overlay children cluster 
top level run instance protocol cluster heads 
kudos overlay nodes form approximately clusters consisting nodes children single cluster head 
hierarchy serves purposes increases scalability measurement probes run smaller groups decreases management overhead localizing ects member failures smaller groups 
hierarchy potentially loses opportunity eciency child nodes di erent clusters ability form overlay links 
level hierarchy clouds represent clusters solid nodes head nodes 
solid lines heads top level topology 
level hierarchy divides overlay construction task independent subproblems clustering mesh management 
mesh management determines nodes level connected 
comes play levels hierarchy determines nodes cluster connected head nodes connect called top level topology 
clustering deals forming clusters selecting heads maintaining face dynamic membership changing network metrics 
node joins overlay member cluster bootstrapping mechanism example see 
time clustering operations move node suitable cluster 
mesh management mesh management protocol selects tunnels connect nodes level 
kudos clustering operations independent mesh management suitable mesh management protocol 
narada mesh management protocol 
narada participating nodes add links subject constraints maximum degree bound 
utility function computed periodically link overlay 
computed utilities dictate replacement existing links poor utility new links better utility maintaining overlay face dynamic conditions 
node participates path vector routing protocol periodically exchanging routing tables neighbors 
additional mechanisms incorporated maintain connectivity overlay face sudden node death 
full details narada please refer 
clustering primary objectives clustering rst clustering attempts assign nodes clusters latency measure proximity physical network secondly clustering shu es nodes clusters preserve approximate correct size cluster 
cluster maintenance works clustering operations migrate split di describe 
migrate operation moves child node cluster 
migrate tries place node cluster head closest node 
child joins cluster receives information cluster heads current cluster head 
cluster head periodically broadcasts list heads children bottom level overlay 
child periodically probes small number carefully selected heads determine latency 
child detects head node signi cantly closer current head leaves current cluster joins new cluster 
avoid multiple migrations immediately node joins overlay initial joining intuitively utility having overlay link extent presence link improves nodes latency bandwidth nodes 
cluster picked randomly new node migrate measured latency signi cant fraction head nodes 
migrate requires child nodes probe head nodes overload head nodes large overlay 
heuristics reduce probes 
example practice child need probe head node child head latency child head 
experiments heuristic reduces number probes sent 
possibility landmark ordering choose appropriate cluster 
landmark ordering node child head measures latency prede ned set landmark nodes orders 
child joins head ordering closely matches 
child node migrates new cluster previous mesh management tunnels deleted child 
joining new cluster new head node randomly assigns neighbor bootstrap lower level mesh management 
split cluster twice large size broken 
decision split cluster taken head node 
split old cluster head remains head new clusters new head selected second new cluster 
new cluster head chosen minimize average latency child nodes cluster decision requires knowledge latency pairs child nodes 
fortunately child node knows latency child nodes side ect mesh management protocol 
decision split occurs old cluster head broadcasts latency child nodes 
receiving information child node computes number child nodes closer old cluster head child reports number back old cluster head 
receiving reports old cluster head selects new cluster head 
new head creates tunnel old head mesh management enables get appropriate set tunnels cluster heads 
child nodes closer new head informed split migrate new cluster 
head selection implementation latency imagine incorporating criteria stability access link bandwidth 
di time clusters may diminish size node migrations node deaths 
clusters factor smaller altogether di 
nodes cluster undergoing di usion migrated neighboring clusters 
avoid possibility partitioning top level topology head node di cluster migrates links new head previous neighbors 
unnecessary links eventually deleted mesh management 
topology agnostic approaches evaluate performance kudos compare topology agnostic overlay construction protocols 
rst points comparison chord overlays basis distributed hash table 
third point comparison overlay re ects power law driven node degree distributions random overlays gnutella 
content addressable network nodes mapped virtual dimensional cartesian coordinate space 
node neighbors overlay corresponding neighbors coordinate space 
nodes mapped randomly cartesian space overlay structure resemblance underlying physical topology 
evaluate variants overlays naive 
original routing algorithm proposed routes correspond straight line paths cartesian space source coordinate destination coordinate 
hop links picked arbitrarily neighbors closer destination cartesian space result di erent path exists nodes space 
smart 
suggested naive routing algorithm enhanced arbitrarily picking hops hop neighbor selected closest underlying physical network 
higher dimensional cans paths nodes ect heuristic pronounced higher dimensions 
best shortest path 
variant run weighted shortest path calculations overlay link weights proportional latency link 
results best achievable performance overlay structure 
study variant theoretical purposes obviously impractical 
chord chord node assigned bit identi er 
simplicity explanation assume number nodes overlay 
node neighbors log number neighbors grows overlay size spaced distance neighbors node nodes ids evaluate variants routing chord style overlay naive 
routing packet node node packet forwarded neighbor closest equal example node routes node hop 
done successively destination reached 
process ensures route maximum length log nodes 
smart 
routing algorithm enhanced applying heuristic mentioned 
intuitively latency reduced preferentially choosing hop suitable set nodes nearby underlying network 
best shortest path 
shortest path routing algorithm running overlay 
theoretical interest 
random power law random power law overlay overlay nodes connected randomly node degree distribution obeys power law 
generate random power law overlay topology nodes rst brite topology generator generate network structure nodes degree distribution obeys power law 
overlay nodes mapped randomly network structure 
random overlay study routing variants flooding 
flooding advantage simple comes cost redundant packets network 
best shortest path 
shortest path routing algorithm running overlay 
theoretical interest 
experimental methodology evaluate kudos compare trac unaware algorithms locally developed event driven packet level simulator 
simulator models propagation delay physical links model congestion packet losses queueing delays 
deliberately chose simpli ed network model factor interactions congestion control issues relating network capacity provisioning 
topology agnostic approaches simulated centralized algorithm overlay construction carefully control order nodes join overlay depending experiment 
primary interest understand static properties overlay structure formed algorithms overlays performance dynamic conditions 
georgia tech transit stub model gt itm generate physical network topologies simulations attached additional nodes generated stub nodes represent hosts connected lower level routers 
latencies links physical topology assigned gt itm 
data point gathered experiment ran di erent simulations representing di erent topologies di erent random seeds 
topology size simulated physical backbone nodes number stub nodes approximately 
performance metrics discussed section rdp stress metric gage latency overhead bandwidth eciency overlay network 
speci metrics th percentile rdp computed node pair overlay 
th percentile rdp rdp seen pairs nodes 
mentioned th percentile rdp hides sensitivity simulation parameters ectively factoring high associated pairs nodes having small physical latency 
worst link stress recall link stress de ned number overlay links going physical link multicast data transmission tree 
worst link stress maximum value stress physical links involved data transmission 
experiments compute single source multicast dissemination trees union links unicast routing source nodes overlay 
results compute worst link stress multicast dissemination tree calculate worst link stress experience multicast source 
graphs plot median worst link stress sources approximately similar plotting worst link stress randomly chosen multicast dissemination tree 
hierarchy topology aware overlays section experimental results explore ects hierarchy topology aware overlays 
results explore questions hierarchy ect rdp stress hierarchy ect convergence time overlay dynamic membership changes 
answer questions simulate kudos narada overlays ranging nodes methodology described earlier 
results section chose average degree nodes 
rdp shows th percentile rdp values kudos narada di erent overlays sizes 
observe di erence rdp narada kudos small overlay sizes nodes speci cally rdp node kudos overlay rdp node narada overlay 
note rdp tends increase slowly overlay size kudos narada kudos rdp increases overlay size changes nodes nodes 
conclude ect hierarchy packet delay small di erence rdp signi cant practice 
ects hierarchy observed small fraction node pairs corresponding situations physically close child nodes land di erent clusters 
note computing tree distributed manner complex di erent overlay management algorithms may di erent ways overhead computing 
purposes knowledge tree sucient measure overhead computing 
rdp overlay size kudos th percentile narada th percentile kudos th percentile narada th percentile comparing th percentile rdp kudos narada various overlay sizes 
worst link stress overlay size kudos narada worst link stress measured narada kudos overlays various sizes 
link stress plot relationship worst link stress overlay size narada kudos 
di erence stresses algorithms extremely small practice leading hierarchy lead signi cant degradation performance case terms bandwidth consumed 
worst link stress increases slowly approaches function overlay size kudos stress increases overlay size increases nodes nodes 
con rmed results comparable overlay size ranges compute common 
node changes kudos narada table convergence time expressed number protocol rounds kudos narada overlay various sizes group membership change 
convergence dynamic group membership study impact hierarchy behavior overlay algorithms periods dynamic membership measured time took kudos narada converge stable overlay topology measured number overlay maintenance protocol rounds necessary 
table show number protocol rounds convergence node overlay function number nodes simultaneously change 
change de ned node leaving overlay node joining di erent location 
node change occurs nodes leave overlay di erent nodes join overlay 
results dramatic convergence time kudos grows approximately square root number nodes convergence time narada linear number nodes 
course result kudos clustering nodes smaller overlays 
contrast nodes narada participate single large overlay 
ectiveness chord routing variants section evaluates ectiveness chord routing variants respect rdp worst case stress 
best shortest path routing variant sets baseline performance rdp represents best possible rdp achievable overlay 
show routing variants surprising ects stress 
th percentile rdp overlay size best smart naive performance routing variants measured rdp dimensional overlay varying sizes 
worst link stress overlay size best smart naive performance routing variants measured worst link stress 
plot measured rdp dimensional dimensional average node degree similar evaluated kudos overlays 
graph shows ect overlay size rdp routing variants 
expected best routing scheme signi cant outperforms naive smart routing di erence naive smart smaller 
number neighbors node independent overlay size result smart routing variant fewer paths explore compared best 
gap best smart routing grows overlay gets larger relative gap smart naive 
th percentile rdp overlay size chord best chord smart chord naive performance chord routing variants measured rdp overlays varying sizes 
plot worst link stress function overlay size routing variants 
best routing variant smallest stress naive smart essentially identical 
best selects lower latency overlay links traverses fewer physical network links resulting lower worst link stress 
chord shows th percentile rdp chord routing variants 
similar best outperforms smart smart outperforms naive 
shows variation link stress overlay size di erent heuristics 
surprisingly naive routing performs best longer paths taken compared smart 
believe naive chord routing perfectly di uses set point point routes overlay links tends favor certain overlay links 
best smart routing performs similarly best smart routing chord 
comparing kudos topology agnostic overlays section results comparing kudos chord random power law overlays 
experiments average node degree kudos random power law overlays set 
chord smart routing variant random power law topologies ooding style routing 
worst link stress overlay size chord best chord smart chord naive performance chord routing variants measured worst link stress 
th percentile rdp overlay size kudos chord smart smart brite flooding th percentile rdp various overlay topologies function overlay size 
rdp shows th percentile rdp values di erent protocols function overlay size 
number drawn 
kudos lower rdp algorithm clear advantage topology aware routing 
second chord appears perform better chord average degree increases overlay size 
stress show stress related overlay size various di erent overlay algorithms 
apparent kudos lower stress 
furthermore stress kudos grows slower function overlay size compared algorithm 
result worst link stress overlay size kudos chord smart smart brite flooding worst link stress function overlay size various routing algorithms 
th percentile rdp average degree kudos brite ect varying node outdegree th percentile rdp 
kudos topological awareness overlay links tend traverse physical network links 
random power law overlays signi cantly worse stress algorithms due ooding routing mechanism 
ect increasing degree explored ect increasing average degree nodes various overlays 
increasing degree decrease rdp cost increasing stress 
purposes section simulated node kudos random power law topology 
simulate chord control degree chord nodes 
shows results 
expected exponential reduction rdp average node degree increases results corresponding increase dimensionality 
worst access link stress th percentile rdp kudos brite tradeo rdp access link stress node degree changes topology aware topology agnostic overlays 
trend observed kudos random power law overlays kudos achieves excellent rdp performance lower degree competitors 
figures explore relationship rdp link stress parametric function node degree 
shows parametric relationship access links links hosts routers physical network shows relationship backbone links physical links routers 
results show fundamental tradeo rdp link stress increasing average degree overlay smaller diameter needs traverse fewer overlay links corresponding physical links 
overlay links physical link su ers higher stress average 
graphs con rm topology aware overlays achieve better performance topology agnostic overlays kudos parametric line lies closer origin 
overlay management overhead overlay management overhead measure amount resources required node construct maintain overlay 
nodes may need maintain routing state nodes may need exchange messages perform overlay maintenance 
protocols considered state management worst backbone link stress th percentile rdp kudos brite tradeo rdp backbone link stress node degree changes topology aware topology agnostic overlays 
maintenance trac grow identically function number overlay nodes dimension narada participant probes node overlay choose suitable links causes node exchange messages 
kudos mesh management protocol run groups size overhead 
clustering operations limited communication cluster 
chord overlay maintenance communication limited neighboring nodes 
maintenance complexity chord log 
random power law overlays assuming ooding routing mechanism cost maintaining links neighbor nodes 
table summarizes overlay management overhead various protocols 
clearly topology agnostic approaches chord random power law scale topology aware approaches narada kudos kudos scale narada 
related overlay construction schemes proposed example see little studying compare 
little known head nodes participates mesh management protocols complexity order remains 
protocol overlay management overhead bandwidth narada kudos dimension chord log random power law average degree table overlay management overhead various schemes 
total number nodes overlay fundamental tradeo scheme 
view rst important step direction 
described design hierarchical topology aware overlay 
similar orts underway unsurprisingly hierarchy scale :10.1.1.16.8178
builds large scale overlays multicast multiple levels hierarchy level topology fully connected mesh kudos topology sparse created self organizing protocol :10.1.1.16.8178
believe design choices kudos reduces stress links close cluster representatives substantially compared :10.1.1.16.8178
authors provide analysis latency cost optimizations overlays 
concludes hierarchy provide signi cant bene ts scalability little performance cost 
distributed algorithm construct hierarchy kudos 
additionally comparison limited topology aware algorithm scalable topology agnostic scheme compared 
contributions rst design kudos hierarchical extension narada topology aware overlay construction algorithm 
simulations demonstrate kudos superior scalability narada maintaining performance advantages topology aware overlays 
hierarchy kudos lower management overhead narada 
second contribution detailed quantitative comparison topology aware topology agnostic overlay algorithms 
speci cally compared kudos chord random power law overlay topology 
demonstrated overlay topologies faced fundamental tradeo relative delay penalty rdp link stress changing node degree di erent points tradeo selected 
demonstrated kudos signi cant outperforms considered topology agnostic algorithms scale degree costs incurred topology aware overlay maintenance 
hope extend comparisons approaches tapestry pastry scalable time easily create topology aware overlays 
hope explore performance kudos dynamic environments rapid overlay membership changes varying trac demands 
sylvia ratnasamy paul francis mark handley richard karp scott shenker scalable content addressable network acm sigcomm august 
ion stoica robert morris david karger frans kaashoek hari balakrishnan chord peerto peer lookup service internet applications acm sigcomm august 
eriksson mbone multicast backbone communications acm august vol 
pp 

bone web pages www bone net 
yang hua chu sanjay rao hui zhang case system multicast acm sigmetrics june 
chawathe mccanne eric brewer architecture internet content distribution infrastructure service february 
gnutella www gnutella com 
ben zhao john kubiatowicz anthony joseph tapestry infrastructure faulttolerant wide area location routing tech :10.1.1.111.1818
rep ucb csd ucb april 
anthony rowstron peter druschel pastry scalable distributed object location routing large scale peer peer systems ifip acm international conference distributed systems platforms middleware november :10.1.1.28.5987
david andersen hari balakrishnan frans kaashoek robert morris case resilient overlay networks hotos viii may 
chawathe steven mccanne eric brewer rmx reliable multicast heterogeneous networks infocom pp 

john david gi ord kirk johnson frans kaashoek james toole overcast reliable multicasting overlay network osdi 
dimitrios almi application level multicast infrastructure yang hua chu sanjay rao srinivasan seshan hui zhang enabling conferencing applications internet overlay multicast architecture acm sigcomm august 
stefan saroiu krishna gummadi steven gribble measurement study peer peer file sharing systems multimedia computing networking 
dss clip system gnutella bandwidth barrier dss clip com gnutella html 
frank dabek frans kaashoek david karger robert morris ion stoica wide area cooperative storage cfs acm sosp october 
alberto medina ibrahim matta john byers origin power laws internet topologies tech 
rep 
gt itm modeling topology large internetworks www cc gatech edu projects 
paul francis yoid internet distribution www aciri org yoid 
banerjee bobby bhattacharjee srinivasan parthasarathy protocol scalable application layer multicast tech :10.1.1.16.8178
rep university maryland july 
amin vahdat latency versus cost optimizations hierarchical overlay networks tech 
rep duke university june 

