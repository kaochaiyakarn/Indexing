random waypoint considered harmful study examines random waypoint model widely simulation studies mobile ad hoc networks 
findings show model fails provide steady state average nodal speed consistently decreases time directly simulation 
show unreliable results obtained model 
particular certain ad hoc routing metrics drop course second simulation random waypoint model 
give intuitive formal explanation phenomenon 
propose simple fix problem discuss alternatives 
modified random waypoint model able reach steady state simulation results 
index terms random waypoint model mobility ad hoc routing 
mobile systems characterized movement constituents 
nature movement speed direction rate change dramatic effect protocols systems designed support mobility 
unfortunately movement physical world 
live mobile system provide meaningful insight form sole basis experimental evaluation 
mobile computing community turned simulating movement nodes users 
course derive model movement drive simulation 
far common random waypoint model 
model johnson maltz evaluation dynamic source routing dsr refined research group :10.1.1.117.2921:10.1.1.129.426:10.1.1.129.426
refined version de facto standard mobile computing research 
example papers acm mobihoc considered node mobility random waypoint model 
model nodes large room choose destination move random speed uniformly chosen vmax vmax maximum speed simulation 
model described having average speed vmax model expected maintain average speed simulation progresses simulation results form average period time 
averages sense simulation reaches steady state 
unfortunately case 
fact simulated time progresses collection nodes moves yoon liu brian noble electrical engineering computer science department university michigan ann arbor michigan eecs umich edu slowly nodes stuck travelling long distances low speeds 
model fails provide steady state terms average speed 
overheads performance mobile systems usually depend strongly node mobility 
light random waypoint generate misleading incorrect results 
particular time average results change drastically time longer run simulation results deviate 
presents analysis generalized random waypoint model predicts average speed nodes simulation 
analysis closely matches actual model 
ways correct original model 
simple solution limit minimum speed maximum 
compares simple improvement original model demonstrates marked improvement stability course simulation 
explore impact instability ad hoc routing protocols dsr aodv :10.1.1.117.2921:10.1.1.132.7416:10.1.1.129.426:10.1.1.129.426
protocol produce better packet delivery rates delays depending average speed nodes simulation 
results highlight belief simulation studies undertaken great caution 
assumptions simulation models hidden carefully examined ensure model behaves expected 
identifies hidden assumption random waypoint mobility model proposes simple technique produce stable movement patterns suited simulation studies 
remains done ensure mobility models accurately capture expectations mobile users move 
rest organized follows 
section ii describe detail observed problem random waypoint model intuitive explanation formal analysis 
section iii provides simple improvement original model presents simulation results 
discussion alternative solutions related works section iv 
section concludes 
ii 
depth look random waypoint model problem intuitive explanation performance measures ad hoc routing protocols directly affected underlying mobility model 
important parameters mobility model node speed form constant value form certain distribution :10.1.1.117.2921
users able adjust parameter order compare performance routing protocols different levels nodal speed 
doing mobility model naturally expected reach certain steady state terms level mobility average node speed stabilized constant change time 
random waypoint model average believed half maximum speed simply node speeds chosen uniform distribution vmax value vmax consider positive pause time 
average believed reached onset simulation 
expectations simulation studies include comparisons varying values vmax 
value vmax simulation results routing overhead packet delivery ratio form averages period time seconds studies :10.1.1.117.2921
expectations really justified 
formally define instantaneous average nodal speed mobility scenarios generated random waypoint model follows vi total fixed number nodes scenario vi speed th node time definition example generated random waypoint model maximum speed zero pause time plotted fig 

average different scenarios average speed calculated second 
average im tion tim fig 

average speed decay speed pause sec see instantaneous average speed consistently decreasing 
show subsection average random waypoint model eventually approach zero 
may happen long period time case shown fig 
average drops decays slowly consistently 
easily imagine erroneous misleading results obtained model evaluate performance ad hoc routing protocols 
show specific instances section iii 
intuitive explanation phenomenon follows 
random waypoint model chooses destination speed node random independently node keep moving speed reaches destination 
node slow speed far away destination may take long time finish trip may reach destination simulation time 
example area speed range destination chosen away speed chosen travel time seconds 
nodes reach destination assigned possibly higher random speed nodes trapped slow significant amount time dominate average nodal speed 
simulation time goes average nodes trapped slower trips causing speed decay observed fig 
running simulation longer causes average reduce 
move fix problem helps take closer look probabilistic reasons problem formal way discuss subsection 
formal analysis problem elaborate procedure random waypoint model 
choose rectangular area size xmax ymax total number nodes area 
choose random initial location node uniformly distributed xmax ymax respectively 
node assigned destination uniformly distributed dimensional area speed uniformly distributed vmax uniform distribution vmax actual simulation mobility generation utility ns zero eliminated avoid division zero 
vmax user assigned maximum allowed speed 
node start travelling destination straight line chosen speed reaching destination node stays pause time constant randomly chosen certain distribution 
expiration pause time destination speed chosen way process repeats simulation ends 
simplicity clarity illustration analyze modified version model assumptions 
note remains true original random waypoint model simplifying assumptions help isolate emphasize key reasons vanishing average nodal speed 
assumption confining nodal movement rectangular area xmax ymax assume nodes move unlimited arbitrarily large area 
current location node destination chosen uniformly circle radius rmax centered current node location 
rationale assumption allows easily derive distribution travel distances 
original model travel distance dependent node location due limited movement area 
emphasize assumption helps simplify analysis change ultimate 
boundary effect current random waypoint model studied 
boundary fundamentally affect analysis 
ins average speed time time tion time fig 

average speed decay various pause time speed assumption assume pause times zero 
assumption pause time key speed decay eliminating simplifies analysis 
fig shows average node speed decays non zero pause times 
longer pause times lead fluctuations effect gradually reduced average node speed envelope fluctuation decays time progresses 
assumption assume travel node speed chosen uniformly interval vmin vmax vmax vmin 
limiting case easily derived results obtained 
assumption imply user specify minimum maximum allowed speeds 
assumption probability density function pdf nodal speed fv vmax vmin vmin vmax 
note choice speed choice destination travel distance mutually independent 
derivation obtain pdfs expectations travel distance travel time summarized follows see appendix details 
pdf travel distance fr rmax max expected travel distance rmax 
pdf travel time note random variable fs max max min rmax vmax rmax vmax vmin rmax rmax vmax vmin min max vmax vmin rmax vmin expected travel time rmax vmax vmin ln pdf shown fig 

rmax vmax vmax vmin fig 

pdf travel time 
min rmax vmin results compute time average speed node follows assuming instantaneous node speed time note node moves independently suffices consider single node lim lim lim dt rk sk rk sk vmax vmin 
vmax ln vmin total number trips taken time including may incomplete 
rk sk travel distance travel time th trip respectively 
note rk sk iid sequences 
assuming ensemble average equals time average taken steady state expected node speed 
distribution fs see vmin approaches tail distribution fs decays approximately constant 
vmin heavy tailed distribution tail fs rmax vmax subsequently equation vmin vmin 
words minimum speed approaches zero travel time higher higher probability large expected travel time approaching infinity 
time expected node speed approaches zero 
comparing average speed initial average speed defined vmax vmin setting vmax vmin vmax vmin ln vmax min vmax vmin vmax vmin vmax vmin ln vmax vmin ln note lim lim 
equality holds vmax vmin 
means average nodal speed time initial average speed speed constant 
means period speed decay simulation average speed settles distinction vmin takes positive value average speed eventually stabilizes positive vmin average speed continue decrease time goes 
vmin positive may take long time average node speed stabilizes vmin small 
general smaller vmin longer decay period 
analysis discussions section suggest order reach positive average speed solution specify positive minimum speed mobility model 
minimum speed close zero desirable simulation model reach stability soon possible 
subsequently simulation comparison purposes average nodal speed carefully calculated simple average maximum minimum speed values 
table shows list speed ranges corresponding speed averages 
initial average speed defined 
steady state average speed calculated eqn assuming 
average speed nodes second simulation deleting second warm period 
simulation results averaged different scenarios generated random waypoint model area modification positive minimum speed 
standard deviation 
shown easily check standard methods take uniformly distributed nonnegative continuous random variables respectively take third random variable ratio denominator random variable defined interval containing origin heavy tail distributed 
table analysis idealized case assumptions see analytical result provides prediction actual average time simulation modified random waypoint model 
note assumptions independent range travel distance rmax 
may case rectangular area 
possible approximation rectangular areas narrow 
issues currently investigated 
results suggest simulations need properly eliminate initial drop average node speed data collected average speed converged 
common practice scientific simulation community warm simulation known initial data deletion aimed eliminating effect transient part discarding data initial period certain length 
done ensure system simulated entered steady state 
general simulations mobile systems ad hoc routing protocols need get past initial cold state system 
discussion provides reason simulation mobility models needs average nodal speed converges 
actual amount discarded particular case depends minimum speed discussed section iv 
table various speed range unit speed range init sim speed range init sim iii :10.1.1.129.426:10.1.1.131.6584
improved models simulation section propose simple method previously suggested modify random waypoint model mobility scenario reaches steady state terms node speed quick warm period 
illustrate significance improvement comparing simulation results generated modified model generated original random waypoint model 
results dsr aodv range commonly accepted performance metrics 
show modified model provides reliable time average measures original model generate misleading results 
important note simulation purpose performance comparison dsr aodv illustrate simulation results affected vanishing mobility random waypoint model 
protocols continuously updated 
employed dsr code ns version aodv code 
improvement potential solutions average speed decay problem 
simplest improvements leave discussion alternative methods section 
analysis section ii suggests solution set non zero minimum speed 
study shows doing simulation results quickly converge constant stable level 
define settling time time approach steady state average speed 
scenario settles seconds considered warm period second simulation :10.1.1.129.426
guarantees fairness performance comparison regardless simulation time 
simulation result remainder section 
simulation environment maintain consistency research results employed ns simulator node movement scenario seconds long traffic data previous performance comparison broch :10.1.1.117.2921
case positive minimum speed speed range generated mobility data simple modified version :10.1.1.129.426
scenarios nodes move rectangular area uniformly distributed speeds 
pause time significant effect analysis set pause time zero scenarios 
set parameters ran different scenarios 
scenarios consist various range speed including 
traffic data chose constant bit rate cbr scenario :10.1.1.117.2921
previous comparisons broch perkins various number sources bit rates cbr scenarios sources source node transmits data bytes packet rate packets second :10.1.1.117.2921
simulation illustration thorough performance comparison 
important note results terms time pause time previous works 
words curve results vs time corresponds point average time previous works :10.1.1.117.2921
scenarios speed range pause time :10.1.1.117.2921
generated scenarios averaged scenarios 
metrics compare results previous works performance comparison adopted metrics :10.1.1.117.2921
calculate metrics seconds get data points simulation seconds observe changes measures addition single average entire simulation duration 
average node speed average speed nodes calculated seconds eqn 
average node speed major factor analysis changes respect time affects metrics 
number routing overhead packets includes packets generated routing protocol discover maintain routes 
hop taken packet counted separately 
packet traverses hops counts overhead packets 
simulation results scenarios speed range second runtime agree single total time average broch :10.1.1.117.2921
routing overhead packets bytes metric previous bytes number packets 
example byte packet traverses hops counts bytes 
number dropped data packets due error physical layer upper layers transmitted data packets delivered destination node 
case router source destination discards packet counted dropped data packet 
data packet delay packet delay time elapsed transmission data packet source node arrival destination node 
calculated packet successfully delivered destination node 
metric computed seconds averaged packets counted 
simulation results ins average pe pe im tion tim fig 

average node speed second simulation fig demonstrates average node speed changes second simulation time goes 
shown table average node speed scenario rapidly converges expected average speed stabilizes level average node speed scenario continuously decreases :10.1.1.129.426
node speed directly affects performance comparison ad hoc routing protocols decaying average node speed simulation result varying performance measures time simulation 
look time average total simulation runtime simulation duration dominating factor affecting comparison results 
simulation results dsr aodv second scenario speed range zero pause time results second scenario speed range zero pause time shown fig :10.1.1.129.426
observations 
metrics performance measures resulting speed range stabilize initial warmup period :10.1.1.129.426
hand performance measures resulting speed range continuously decrease simulation time progresses 
particularly clear routing overhead fig number dropped packets fig 
second fig seconds difference dsr aodv stays relatively constant speed range speed range produces curves gradually move closer cross point due decaying speed :10.1.1.129.426
hand performance dsr aodv nearly indistinguishable speed range fig :10.1.1.129.426
observations raise questions performance comparison routing protocols performance routing protocols varies depending speed range speed range instantaneous speed drastically consistently decays simulation 
results imply performance measures closely related instantaneous average node speed 
believe metric changes instantaneous average node speed unique property specific ad hoc routing protocol fairly compare performance different routing protocols 
motivated investigate relationship observed metrics instantaneous average node speed 
fig shows metrics dsr aodv change instantaneous average node speed varies 
obtain various instantaneous average node speeds different maximum speeds applied zero minimum speed 
maximum speed generate scenarios total different scenarios executed 
point fig corresponds average different scenarios specific maximum speed 
viewed plotting fig average speed vs simulation time fig measures vs simulation time plot measures vs average speed 
shown fig reasonable discard seconds warm period 
data seconds excluded obtaining incremented number overhead incremented overhead bytes incremented number dropped delay ec aodv aodv ds ds im tion time number routing overhead packets aodv aodv ds ds tion time routing overhead packets bytes ds aodv aodv ds tion time number dropped data packets aodv ds aodv ds im ulation time ec data packet delay fig 

incremented metrics seconds second simulation overhead increment ec overhead byte increment ec bytes dropped packet increment ec delay ec ec aodv ds ins ta nta ne ous ave ra ge pe number routing overhead packets aodv ds ins ta nta ne ous ave ra ge pe routing overhead packets bytes ds aodv ins ta nta ne ous ave ra ge pe number dropped data packets ds aodv ins ta nta ne ous ave rage pe ed data packet delay fig 

performance metric vs instantaneous average node speed results shown fig 
lines fig fit minimize sum squared error 
shown fig routing overhead dsr aodv increases linearly instantaneous average speed increases 
implies ratio routing overhead dsr aodv stays roughly constant actual values metric decrease average speed decreases 
fig accounts results fig 
shown fig seconds instantaneous average node speed scenarios remains constant fig difference dsr aodv speed :10.1.1.129.426
gap dsr aodv speed range fig maintained :10.1.1.129.426
time fig shows difference dsr aodv smaller speed decreases 
difference negligible indicating dsr aodv show nearly performance terms dropped data packet equivalently packet delivery ratio low speeds 
graphs speed range fig converge time progresses 
fig little difference dsr aodv speed range 
implies performance dsr aodv terms packet delay roughly 
note data points dsr deviated fitted line aodv 
applied higher order curve fitting data 
nonlinear fit data fig showed difference linear fit nonlinear fit data fig slightly different 
delay ec ec ds aodv ins ta nta ne ous ave ra ge pe fig 

rd order curve fit fig fig rd order curve fit data shown fig 
distinct feature performance curves cross twice roughly respectively range instantaneous average node speed examined 
dsr shows higher packet delay relatively higher speeds aodv higher intermediate speeds low speeds 
note gap packet delay dsr aodv shown fig speed range negligible difference speed fig :10.1.1.129.426
summary summarize key section follows 
shown original random waypoint model zero minimum speed reach steady state course simulation level mobility continuously decreases 
causes metrics observed continuously decrease 
time average metrics reliably compared varying maximum speed 
seen maximum speed depending long simulation run resulting average drastically differ 
original random waypoint model maximum speed meaningful measure level mobility network 
reason initial average speed meaningful measure 
note case steady state average exist 
hand adopting simple fix proposed section sets positive minimum speed average node speed stabilizes performance metrics 
time averages computed discarding initial period reliably compared 
modified model steady state average node speed meaningful measure level mobility 
alternative improvements iv 
discussion potential solutions avoid speed decay time progresses 
section suggested simplest methods setting positive minimum speed 
improvements derived considering reason speed decay 
slow moving nodes maintain low speed relatively long periods times reach destination cause decay average speed 
light adopt strategy analogous real life increase speed destination far away reduce speed destination near 
example speed chosen distribution mean correlated chosen travel distance 
alternatively steady state distribution average speed obtained able start simulation immediately steady state 
currently investigating alternatives 
decay time instantaneous average speed defined section ii essentially random process 
technically possible fully characterize random process determine precisely long takes average converge certain percentage steady state value actual computation turns non trivial 
purpose simulation obtain empirical estimate decay time pre running mobility model 
actual simulations amount discard determined long takes system simulated settle equilibrium 
related ad hoc network routing protocols studied past years 
random waypoint model evaluate performance particular routing protocol 
broch random waypoint model compare performance dsdv tora dsr aodv :10.1.1.117.2921
chose packet delivery ratio routing overhead path optimality metrics compare 
metrics reported time averages seconds pause time varied experiment experiment 
shown instantaneous values metrics change dramatically course simulation 
perkins performed similar comparison dsr aodv random waypoint model 
compared performance observing different metrics average packet delay normalized routing load 
results represented averages time 
perkins hughes owen shows node speed pause time network size number sources affect performance routing protocols 
node speed shown significant factor pause time 
random model employed global mobile system simulator glomosim ns 
time averages reported 
addition ran simulations seconds may get past warm period needed 
random waypoint model quite extensively studied 
bettstetter showed simulation random waypoint model uniform distribution nodes 
chu mathematically showed confirmed simulation observation 
addition showed relationship node distribution node speed 
argued partly due boundary effect 
shown different node speed mobility scenario poses different connectivity properties 
results obtained time average change time 
influence nodal speed decay influences connectivity properties remains important 
royer proposed random direction model address non uniform node distribution problem random waypoint model 
model suffers vanishing average speed problem reason speed decay applies random direction model 
observed simulation average node speed model decayed way random waypoint model 
camp boleng davies studied analyzed variety mobility models proposed date including random waypoint model 
particular showed change average percentage number neighbors time progresses 
fig shows average number neighbors stable mean increased variance larger time scales 
suggestive decreased movement nodes nodes remain neighbors remain neighbors longer periods due slow movement explicitly pointed 
various mobility models compared terms average speed assumed average minimum maximum speed instantaneous node speed 
random waypoint model widely mobility model compare performance various mobile ad hoc network routing protocols 
shown random waypoint model current form fails reach steady state terms instantaneous average node speed speed continuously decreases simulation progresses 
consequently model conduct performance evaluation measured time averages 
averages metrics change time substantially 
considering averages result misleading incorrect 
showed intuitive explanation formal study reason speed decay 
analysis proposed simple solution problem set positive minimum speed 
improved model able quickly converge constant speed 
performance measures resulting improvement able stabilize 
analysis simplifying assumptions accurately estimate expected instantaneous average node speed minimum maximum speeds area mobility scenario 
conceptually problem revealed consequence random waypoint model 
words rationale random waypoint model limit choosing minimum speed zero 
reason simple improvement may considered random waypoint model 
common belief set minimum speed zero 
belief subsequent wide application zero default minimum speed led problem highlight significance 
appendix distribution travel distance probability density location circle radius rmax travel distance max probability distribution pdf fr max dr max rmax 
max expectation rmax distribution travel time dr max rmax 
assumption speed uniformly distributed vmax vmin vmin vmax 
fv max min max max fig 

distance speed graph vs compute probability distribution illustration fig 

rmax rmax vmin vmax rmax vmin ii rmax rmax vmax rmax vs vmin vmax rmax fr fr fr 
rmax vmin rmax rmax vs vmin max vmax vmin vmax rmax rmax rmax vmax vmin vmax vmax vmin max vmax vmin min max vmax vmin iii rmax rmax vmax vmax vs fr vmin vmax vs vmin max vmax vmin max min max differentiating respect obtained pdf travel time follows 
eqn section ii fs max max min rmax vmax rmax vmax vmin rmax rmax vmax vmin min max vmax vmin rmax vmin expectation travel time expectation travel time computed pdf follows 
eqn section ii fs ds rmax vmax max min max rmax vmin rmax rmax vmax vmin vmax min max vmax vmin vmax rmax vmax vmin ln vmin ds ds johnson maltz dynamic source routing ad hoc wireless networks mobile computing imielinski korth eds :10.1.1.129.426
kluwer academic publishers vol 

broch maltz johnson :10.1.1.117.2921
hu jetcheva performance comparison multi hop wireless ad hoc network routing protocols mobile computing networking mobicom pp 

perkins royer ad hoc demand distance vector routing proceedings nd ieee workshop mobile computing systems applications new orleans la february pp 

perkins royer das marina performance comparison demand routing protocols ad hoc networks ieee personal communications vol 
pp 
february 
perkins hughes owen factors affecting performance ad hoc networks proceedings ieee international conference communications icc 
chu artifacts random waypoint simulations proceedings st international workshop wired wireless internet communications conjunctions international conference internet computing ic 
camp boleng davies mobility models ad hoc network simulations wireless communication mobile computing special issue mobile ad hoc networking research trends applications 
network simulator ns www isi edu nsnam ns 
smooth better sharp random mobility model simulation wireless network proceedings acm international workshop modeling analysis simulation wireless mobile systems 
stallings high speed networks tcp ip atm design principles 
prentice hall 
rubinstein simulation monte carlo method 
john wiley sons 
aodv simulation code moment cs ucsb edu aodv aodv html 
royer melliar smith moser analysis optimum node density ad hoc mobile networks proceedings ieee international conference communications icc helsinki finland june 
