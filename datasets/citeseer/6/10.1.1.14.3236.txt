battery life estimation mobile embedded systems carla dey ramesh rao anand raghunathan lahiri dept electrical computer engg university california san diego ca 
battery life directly impacts extent duration mobility key considerations design mobile embedded system maximize energy delivered battery battery lifetime 
facilitate exploration alternative implementations mobile embedded system address issue developing fast accurate battery model providing framework battery life estimation hardware software hw sw embedded systems 
introduce stochastic model battery simultaneously model key phenomena affecting battery life amount energy delivered battery rate capacity effect recovery effect 
model battery behavior mathematically terms parameters related physical characteristics electro chemical cell 
show model battery life estimation hw sw embedded system calculating battery discharge demand waveforms power estimation technique 
discharge demand battery model estimates battery lifetime delivered energy 
application battery life estimation methodology system implementations example tcp ip network interface subsystem demonstrate different system architectures significantly different delivered energy battery lifetimes 
need mobile computation communication increases strong demand design hardware software hw sw embedded systems mobile applications 
maximizing amount energy delivered battery battery life important design considerations mobile embedded system directly impacts extent duration system mobility 
enable exploration alternative implementations mobile system critical develop fast accurate battery life estimation techniques embedded systems 
focus developing battery model provide framework battery life estimation hw sw embedded systems 
previous research low power design techniques tries minimize average power consumption reducing average current drawn circuit keeping supply voltage fixed scaling supply voltage statically dynamically 
shown designing minimize average power consumption necessarily lead optimum battery lifetime 
additionally techniques assume battery subsystem supported nec usa california micro program dipartimento di politecnico di torino italy 
research labs nec usa princeton nj 
ideal source energy stores delivers fixed amount energy constant output voltage 
reality may possible extract energy stored battery full extent energy delivered battery greatly depends current discharge profile 
accurate battery models needed specifically target battery life amount energy delivered battery design mobile system 
lifetime battery energy delivered battery embedded system strongly depend current discharge profile 
current magnitude greater rated current battery discharged efficiency battery ratio delivered energy energy stored battery decreases words battery lifetime decreases 
effect termed rate capacity effect 
additionally battery discharged short time intervals followed idle periods significant improvements delivered energy possible 
idle periods called relaxation times battery partially recover capacity lost previous discharges 
call effect recovery effect 
accurate battery model representing fine grained electro chemical phenomenon cell discharge partial differential equations pde 
takes prohibitively long days estimate battery lifetime discharge demand system 
pde models design space exploration 
spice level models battery developed faster pde model 
spice models take account effect rate capacity 
rate capacity effect systemlevel battery estimation methodology proposed 
discrete time battery model proposed high level power estimation 
faster previous models consider recovery effect 
describe stochastic battery model account recovery effect rate capacity effect 
proposed model fast stochastic simulation 
incorporating recovery rate capacity effects represents physical battery phenomena accurately previous fast models 
show model estimating battery lifetime energy delivered battery hw sw system calculating battery discharge demand waveforms power estimation technique 
discharge demand battery model estimates battery lifetime delivered energy 
demonstrate framework system level exploration tcp ip network interface subsystem 
results indicate energy delivered battery lifetime battery significantly architectural explorations 
rest organized follows 
section motivates need accurate battery life estimation methodology illustrating battery life energy delivered battery affected significantly tradeoffs system level 
section provides background physical phenomena inside battery affect battery lifetime delivered energy 
proposed battery model described section 
methodology calculate current waveforms described section 
section demonstrate battery life estimation methodology evaluate alternate implementations design battery efficient systems 
section concludes explores research 
motivation exploration battery efficient architectures section effect system architectures delivered energy lifetime battery 
investigations motivate need fast accurate battery life estimation techniques system level exploration 
analyze performance example tcp ip network subsystem respect delivered energy lifetime battery 
subsystem consists part tcp ip protocol stack performing checksum computation 
create packet receives packet stores shared memory enqueues starting address 
ip chk periodically dequeues packet information erases specific bits packet memory coordinates verify checksum value 
shows candidate architecture tcp ip system create packet packet queue software tasks mapped sparc processor ip chk mapped dedicated hardware 
packet bits stored single shared memory accessed common system bus 
create packet packet queue ip check sparc ip chk sw hw hw arbi arbi arbi arbiter hw memory checksum architecture tcp ip network subsystem study effect alternate ways packet processing system battery lifetime energy delivered battery 
implementation sys packets processed sequentially shown 
estimate battery lifetime energy delivered battery implementation current profiles component system need calculated 
figures show current demands ma components system sys plotted time ms calculated methodology described section 
cumulative current profile sys shown 
packet arrivals packet processing cin ma scheduling packets cin ma current demand sw tasks current demand bus cumulative current demand sys scheduling packets current discharge demands shows way scheduling packets 
implementation sys sequential processing packets sys packets processed pipelined manner example processing packet create packet starts writing packet memory 
cumulative current profile sys shown 
packet arrivals packet processing scheduling packets cin ma cin ma cumulative current demand sys scheduling packets cumulative current demand shown table average current average power consumed similar alternative system implementations 
table shows battery lifetimes specific energy delivered battery calculated accurate battery model implementations sys sys table reports number packets processed system battery systems completely discharged 
note discharge demands equal average current requirement delivered specific energy lifetime battery differ significantly 
table comparison battery lifetime delivered energy discharge average battery del spec 
packets demand curr 
ma life ms energy wh kg processed sys sys results show battery life mobile embedded system improved significantly system level tradeoffs 
instance shown table sys process packets battery system discharged sys process packets battery 
results show delivered energy lifetime battery significantly different current demands average current requirement 
results motivate develop fast accurate battery model design exploration battery optimal design mobile embedded systems 
section provides brief background operation battery emphasizing physical phenomena affect battery lifetime energy delivered battery 
battery background battery cell consists anode cathode separates electrodes allows transfer electrons ions 
discharge anode li battery produces charged ions li travel undergo reduction cathode 
reaction sites parts cathode reductions occurred inactive discharge formation inactive compound 
rate capacity effect dependency energy delivered battery magnitude discharge current recovery effect recovery charged ions near cathode important phenomena affect delivered energy lifetime battery 
short description physical phenomena responsible effects follows 
lifetime cell depends availability reachability active reaction sites cathode 
discharge current low inactive sites inactive previous cathode reactions distributed uniformly cathode 
higher discharge current reductions occur outer surface cathode making inner active sites inaccessible 
energy delivered battery lifetime decreases active sites cathode remain un utilized battery declared discharged 
non availability active reaction sites cathode discharge non availability charged ions lithium ions lithium insertion cell factor determining amount energy delivered battery 
concentration active species charged ions li uniform electrode interface zero current 
discharge active species consumed cathode interface replaced new active species move solution cathode diffusion 
intensity current increases concentration active species decreases cathode increases anode diffusion phenomenon unable compensate depletion active materials near cathode 
result concentration active species reduces near cathode decreasing cell voltage 
cell allowed idle discharges concentration gradient decreases diffusion charge recovery takes place electrode 
result energy delivered cell lifetime increases 
summarizing amount energy delivered cell lifetime cell depend value discharge current idle times discharge demand 
subsection define notations rest 
notations definitions battery cell characterized open circuit potential voc initial potential fully charged cell load conditions cut potential cell considered discharged 
parameters represent cell capacity theoretical nominal capacity 
amount energy stored cell expressed terms hours 
represents energy obtained cell discharged specific constant current called rated current 
battery data sheets typically represent capacity cell terms nominal capacity 
measure cell discharge performance parameters considered battery lifetime delivered specific energy 
battery lifetime expressed seconds elapsed fully charged cell reaches voltage 
delivered specific energy amount energy delivered cell unit weight expressed 
section describe basic stochastic battery model captures recovery effect description extension model incorporate rate capacity effect 
battery models fine grained electro chemical phenomena underlying cell discharge represented accurate model pde partial differential equations involve large number parameters depending type cell 
set results derived pde model limited discharge current cut potential decrease computation time exceedingly large 
accurate pde model system level exploration mobile embedded system 
section tractable parametric model captures essence recovery mechanism 
stochastic battery model model battery behavior mathematically terms parameters related physical characteristics electro chemical cell 
proposed stochastic model focuses recovery effect observed relaxation times allowed discharges 
consider single cell track stochastic evolution cell fully charged state completely discharged state 
define smallest amount capacity may discharged charge unit 
fully charged cell assumed maximum available capacity charge units nominal capacity charge units 
nominal capacity practice represents charge extracted constant discharge profile 
vary different kinds cells values discharge current 
represent cell behavior discrete time transient stochastic process tracks cell state charge 
shows graphical representation process 
time unit state charge decreases state state charge units demanded battery 
charge units demanded battery may recover current state charge higher state greater 
stochastic process starts state full charge voc denoted terminates absorbing state reached maximum available capacity exhausted 
case constant current discharge successive charge units drained cell state goes time period equal time units 
allowing idle periods discharges battery partially recover charge idle times drain number charge units greater reaching state 

qi stochastic process representing cell behavior model discharge demand modeled stochastic process 
define qi probability time unit called slot charge units demanded 
starting time slot probability qi charge units lost cell state moves state see 
hand probability idle slot occurs cell may recover charge unit cell state changes state remain state 
recovery effect represented decreasing exponential function state charge battery 
accurately model real cell behavior exponential decay coefficient assumed take different values function discharged capacity 
discharge process different phases identified recovery capability cell 
phase fmax starts right charge units drained cell ends amount discharged capacity reaches charge units 
probability recovering charge unit time slot conditioned state 
phase gn gc gn gc fmax gn gc parameters depend recovery capability battery probability idle slot 
particular small value gn represents high cell conductivity great recovery capability cell large gn corresponds high internal resistance steep discharge curve cell 
value gc related cell potential drop discharge process discharge current 
recovery probability probability remain state charge idle time phase 
rn assume gn constant gc piecewise constant function number charge units drawn cell changes value correspondence fmax 
fmax fmax proper values chosen configuration battery 
simulation step battery cell assuming input discharge demand bernoulli arrival shown 
simulation step inputs current state recovery probability discharge rate outputs state generate random number discharge rate state current state recovery probability current state state current state basic simulation step validation stochastic model section comparison results obtained stochastic model derived pde model dual lithium ion insertion cell 
discharge demand assumed bernoulli process probability charge unit required time slot 
note discharge process probability idle time qi equal zero 
pde model numerically solved program developed newman 
results relate discharge cycle cell discharge starts value positive open circuit potential equal consider cut potential equal current impulse duration equal ms results obtained stochastic model derived assumptions fmax equal number impulses obtained pde model con stant discharge equal number impulses obtained pde model 
presents behavior delivered capacity normalized nominal capacity versus discharge rate current impulses drained values current density seen curves obtained pde stochastic models match closely 
normalized delivered capacity discharge rate comparison results obtained stochastic model pde model cases assume gn vary parameters gc fmax stochastic model considered value current density 
procedure obtain maximum error equal average error equal 
enhancement deterministic discharge profile able model battery life estimation soc designs enhanced model accept deterministic discharge demand ones shown figures stochastic discharge profile 
step simulation look input discharge demand draw appropriate number charge units change state battery 
battery respond instantaneous changes current calculated average current time period time constant characterizes phenomena 
current demand waveforms calculate average current drawn time period convert appropriate number charge units drawn battery model 
time constant ms experiments 
incorporation rate capacity effect described earlier efficiency battery decreases discharge current rated current 
efficiency battery current claim actual current drawn example demand charge units efficiency battery current level draw charge units 
incorporate rate capacity effect change number charge units discharged 
calculate actual number charge particles discharged looking table stores relationship demanded charge units actual charge units discharged calculated simulation pde model 
basic step simulation incorporating rate capacity effect deterministic discharge demand described 
simulation step inputs current state current demand recovery probability efficiency table outputs state variables actual demand generate random number actual demand efficiency table current demand current demand state current state actual demand recovery probability current state state current state simulation step modeling rate capacity effect results validate enhanced model section 
estimating battery lifetime energy delivered battery soc designs need current demand waveforms system 
section describes methodology calculate cycle accurate current demand waveforms hw sw mobile systems 
generating system current discharge profiles section briefly describe techniques generate system level current discharge profiles 
please note focus accurate efficient estimation lifetime delivered energy battery system current discharge profiles required inputs battery models earlier include description generated 
adapted system level power estimation framework purpose 
consists simulation environment power models various system components including processors synthesized hardware system level buses memories speedup techniques enable efficient power estimation complex systems 
shown simulation various system components necessary order obtain accurate power estimates 
especially important context battery life estimation need accuracy current power waveforms just average power total energy 
estimate power dissipation programmable processor component instruction set simulator enhanced instruction level power model 
application specific hardware fast synthesis power simulation synthesized netlist 
system level buses estimate switched capacitive power consumed bus bus line capacitances calculated bus length width parameters provided arrivals processing cin ma sys arrivals processing cin ma sys arrivals processing scheduling mechanism current profiles example implementations designer switching activity derived bus trace provided simulation tool 
memory cores access idle power specifications core provider data sheets 
experimental results application section demonstrate proposed battery life estimation technique evaluate different system implementations select battery optimal implementation 
report results obtained applying proposed battery life estimation methodology system implementations sys sys sys tcp ip network interface subsystem shown 
implementation sys incoming packets processed pipelined manner example processing packet create packet starts writing packet memory 
shows arrival processing packets time sys 
cumulative current profile system shown total current ma plotted time ms 
alternative ways processing packets lead second sys third sys implementations shown figures respectively 
corresponding current profiles shown figures respectively 
table characteristics example discharge profiles system max cur avg cur slots idle latency ma ma rated current slots ms sys sys sys table shows characteristics discharge profiles terms maximum current max cur average current avg cur percentage time slots current rated current slots rated current percentage idle slots discharge demand idle slots latency processing packets latency 
experiments li ion battery parameters voc ma 
table shows sys sys idle slots discharge demand discharge demand sys idle slots 
noticed sys violates rated current maximum number times im cin ma sys 
measured delivered specific energy energy delivered battery unit weight battery lifetime implementations proposed battery model 
battery model simulation nominal capacity charge units theoretical capacity charge units obtained accurate pde model considered li ion battery 
re charging probabilities appropriately set accurately model battery phenomena 
table shows results estimation stochastic battery model discharge profiles 
estimation repeat simulation discharge demand till battery discharged report delivered specific energy battery lifetime 
row table represents example implementations described earlier 
columns report delivered specific energy battery lifetime effect rate capacity modeled proposed 
similarly columns show estimation results effect recovery considered model proposed 
columns report results rate capacity recovery effects modeled proposed 
case column report number packets processed battery completely discharged 
seen table different implementations significantly different delivered energy battery lifetimes 
example looking columns table see sys wh kg delivered specific energy ms lifetime processes packets battery discharged 
sys discharge profile slots rated current discharge profile sys table draw twice delivered energy battery sys shows times increase battery lifetime number packets processed 
sys discharge profile idle slots enhances delivered energy battery lifetime significantly factor sys respectively 
sys shows increase number packets processed 
table shows rate capacity effect table estimation battery life delivered energy stochastic model rate capacity effect recovery effect rate capacity recovery effect delivered delivered delivered system spec energy life time spec 
energy life time spec 
energy life time packets wh kg ms wh kg ms wh kg ms processed sys sys sys table comparison pde model speed accuracy delivered spec 
energy life time computation system wh kg ms time stoc pde err stoc pde err stoc pde sys sec day sys sec day sys sec days recovery effect need considered simultaneously able accurately measure significant differences 
example rate capacity effect considered columns delivered energy battery lifetimes obtained sys sys accurate corresponding discharge profiles idle times 
estimates sys significant idle times inaccurate recovery effect considered 
note fraction current rated current sys sys table delivered energy calculated sys sys 
amount offset rated current case sys sys due inaccuracy introduced calculating average current instantaneous current 
hand recovery effect modeled columns get significant improvement delivered specific energy sys 
values specific energy delivered cases significantly rate capacity effect considered results reflect diminishing battery efficiency due rate capacity effect 
noted earlier considering effects simultaneously stochastic model estimate delivered energy lifetimes accurately shown columns table 
validate proposed model comparing accurate pde model 
table shows delivered specific energy battery lifetimes implementations corresponding percentage errors 
columns show cpu time models 
experimental results demonstrate stochastic model approach significantly faster pde model 
takes time order seconds opposed days taken pde model approach design space exploration identify battery efficient implementation mobile embedded system possible existing pde model 
time proposed approach compromise accuracy modeling rate capacity recovery effects opposed existing rate capacity estimation techniques 
stochastic model battery framework estimating battery life delivered energy system level design space exploration battery powered mobile embedded systems 
model proposed fast enable iterative battery life estimation system level exploration 
time accurate validated accurate pde model 
developed framework exploring system architectures battery efficient suggesting optimum battery configuration hw sw embedded system 
chandrakasan low power digital cmos design kluwer academic publishers norwell ma 
rabaey pedram editors low power design methodologies kluwer academic publishers norwell ma 
url www valence tech com products html benini de micheli cycle accurate simulation energy consumption embedded systems proceedings dac new orleans usa benini de micheli energy efficient design battery powered embedded systems proceedings islped pp gold lithium ion batteries proceedings th battery conference pp 

simple models simulate common battery types edn pp 
oct 
benini castelli discrete time battery model high level power estimation proceedings date pp 
raghunathan dey lavagno efficient power estimation techniques system chip design proceedings date pp 
doyle newman analysis capacity rate data lithium batteries simplified models discharge process applied vol 
pp 
july 
fuller doyle newman relaxation phenomena lithium ion insertion cells 
soc vol 
pp 
apr 
design performance high specific power pulsed discharge bipolar lead acid batteries th annual battery conference applications advances long beach pp 
jan 
nelson rinehart pulse discharge recharge capabilities thin metal film battery technology th ieee international pulsed power conference baltimore pp 
june 
doyle fuller newman modeling charge discharge lithium polymer insertion cell 
soc vol 
pp 

rao traffic control scheme optimize battery pulsed discharge proc 
milcom atlantic city nj nov 
rao energy efficient battery management proc 
infocom tel aviv israel march 
newman fortran programs simulation systems www berkeley edu 
tiwari malik wolfe power analysis embedded software step software power minimization ieee trans 
vlsi systems vol 
pp 

