statstream statistical monitoring thousands data streams real time zhu dennis shasha cs nyu edu shasha cs nyu edu courant institute mathematical sciences department computer science new york university november consider problem monitoring tens thousands time series data streams online fashion making decisions 
addition single stream statistics average standard deviation want track correlations pairs streams 
stock market trader tool spot arbitrage opportunities 
proposes ecient methods solving problem discrete fourier transforms level time interval hierarchy 
extensive experiments synthetic data real world nancial trading data show algorithm beats direct computation approach orders magnitude 
improves previous fourier transform approaches allowing ecient computation time delayed correlation size sliding window time delay streams single stream 
correlation lends ecient grid data structure 
result fully line incremental xed response time approximate accurate system monitoring pairwise correlations streams single pc 
algorithm embarrassingly parallelizable 
applications consist multiple data streams 
example mission operations nasa space shuttle approximately sensors second mission control johnson space center houston 
securities trading united states second quotes trades ticks generated 
unfortunately dicult process data set oriented data management systems object relational time series extensions begun ll gap logical sense :10.1.1.45.9405
performance suciently data stream management systems dsmss logical model exploit characteristics application updates insertions new elements relatively rare corrections older data 
queries moving averages standard deviations correlation treat data sequences sets 
full stream materialized queries treat data data stream 
pass algorithms desirable data vast 
interpretation qualitative sacri cing accuracy speed acceptable 
presents algorithms architecture statstream data stream management system 
system computes variety single multiple stream statistics pass constant time input bounded memory 
statistics considered framework include statistics securities trader interested just show practical application 
algorithms applicable disciplines sensor data processing medicine 
divide contributions functional algorithmic 
functional contributions 
compute multi stream statistics synchronous time delayed correlation vector inner product continuous online fashion 
means statistic holds time statistic reported time constant independent size duration stream 

pair streams pair wise statistic computed incremental fashion requires constant time update 
done discrete fourier transform approximation 

approximation small error natural assumptions 

monitor data streams sliding windows revisiting expiring data streams needed 

net result pentium pc handle streams delay window minute 
algorithmic contributions mainly correlation statistics 
distinguish time periods timepoints smallest unit time system collects data second 
basic window consecutive subsequence time points system maintains digest incrementally minutes 
sliding window user de ned consecutive subsequence basic windows user wants statistics hour 
user ask stocks correlated value hour 
intermediate time interval call basic windows yields advantages 
results user queries need delayed basic window time 
example user told correlations pm pm pm 

basic window allows computation correlations windows arbitrary size time delayed correlations high accuracy 

size basic window adjusted trade speed accuracy 
experiments construct size largest ensures correlations calculated error 
second algorithmic contribution grid structure cells store hash function value stream 
structure high eciency obtain due facts measuring correlation done time decomposition mentioned 
remainder organized follows 
data consider statistics produce section 
section presents algorithms monitoring high speed time series data streams 
section discusses system statstream 
section presents experimental results 
section puts context related 
data queries time series data streams consider data entering time ordered series triples timepoint value 
stream consists triples having 
nance may stock example 
streams synchronized 
stream new value available periodic time interval second 
call interval value timepoint 
example periodic time interval second current timepoint streams second streams new value timepoint 
note stream value timepoint value assigned timepoint interpolation 
values timepoint summary value assigned timepoint 
denote value stream timepoint denotes subsequence stream timepoints inclusive 
denotes stream denote latest timepoint 
statistics monitor denoted stat windows 
discuss meaning windows section 
temporal spans spirit generalize kinds temporal spans statistics time series calculated 

landmark windows temporal span statistics computed values speci timepoint called landmark 
stat landmark computed subsequence time series unrestricted window special case 
unrestricted window statistics available data 

sliding windows nancial applications sliding window model appropriate data streams 
length sliding window current timepoint stat sliding computed subsequence 

damped window model model sliding windows important previous ones 
example computation moving average sliding window model compute average avg damped window model contrast weights data decrease exponentially past 
example moving average damped window model computed follows avg old statistics damped window model de ned similarly 
focus sliding window model 
algorithms sliding windows general specialized temporal spans 
statistics monitor consider stream statistics monitor 
average avg 
standard deviation std 
maximum minimum 
best fit slope slope line best time series 
bfs avg avg avg 
correlation coecients corr avg avg std std 
autocorrelation correlation series earlier time 

beta sensitivity value stream values stream weighted collection streams 
beta avg avg std basic window sliding window basic window 
digests digests digests new basic window sliding windows basic windows statistics sliding windows compute statistics sliding window maintain synopsis data structure stream compute statistics rapidly 
start framework subdivides sliding windows equally shorter windows call basic windows facilitate ecient elimination old data incorporation new data 
keep digests basic windows sliding windows 
example running sum time series values basic window running sum entire sliding window belong kinds digests respectively 
shows relation sliding windows basic windows 
data sliding window 
suppose kb length basic window number basic windows sliding window 
denote sequence basic windows ib 
new basic window expiring basic window 
th value basic window 
size basic window important possible report statistics basic window user basic window completes necessary report statistics window 
simple statistics concrete example consider computation moving average 
moving average involves points information maintained 
basic window maintain digest 
new data points stream available compute sum new basic window 
sum sliding window updated follows 
new old computations minimum maximum standard deviation similar 
computation best slope sucient compute digest sliding window maintain digests basic windows theorem incremental maintenance achieved equation new old new proof old ib new ib new old kb correlation statistics ecient computation correlation beta potentially requires examination pairs streams 
compute correlation coecients eciently need employ data reduction techniques 
discrete fourier transform 
contrast simple statistics considered section computation correlation requires information shape time series just cumulative information 
general approach curve tting basic window reduce data size 
applications users interested pairs highly correlated 
show report pairs examining pairs streams dft hash techniques 
start quick review dft 
explain compute vector series aligned basic windows 
approach extended general case basic windows aligned 
show approach reporting highly correlated stream pairs online fashion 
discrete fourier transform section review discrete fourier transform properties 
follow convention :10.1.1.45.9405
discrete fourier transform time sequence xw sequence xw dft complex numbers xf fi 
inverse fourier transform xf fi properties dft textbook dft 
dft preserves euclidean distance sequence symmetry property real sequence complex conjugate real time series rst coecients contain energy expect coecients capture raw shape time series :10.1.1.128.6559:10.1.1.45.9405:10.1.1.45.9405:10.1.1.45.9405
example energy spectrum random walk series models stock movements declines power increasing coecients 
black noise successfully models series water level river varies time energy spectrum declines faster increasing number coecients 
inner product aligned windows vector inner product series xw yw denoted just sum products corresponding elements series series aligned explain compute inner product basic windows family continuous functions 
approximate time series basic window function family 
give speci examples 
fm fm coecients approximate time series function family inner product basic windows fm fm fm precomputed 
function family orthogonal curve tting technique reduce space time required compute inner products noted data compression curve tting approach ll missing data 
works naturally computing correlations streams missing data timepoints 
triangular function families right properties 
perform discrete fourier transforms time series basic windows enabling constant time computation coecients basic window 
observations obtain approximation series rst dft coecients xf inner product unaligned windows compute correlation streams time lags including autocorrelations time series necessary aligned basic windows :10.1.1.45.9405
digests keep compute correlations 
loss generality show computation approximate lagged inner product streams time lags size basic window 
series basic windows values rst values included inner product rst values values computed rst dft coecients 
fm fm implies precompute table fm bb compute inner product dft coecients time requiring alignment basic windows 
theorem approximate lagged inner product time series rst dft coecients computed time kn series aligned basic windows takes time kn number basic windows 
hard show approach extended compute inner product time series sliding window size 
corollary inner product time series sliding windows size time delay computed basic windows digests data streams 
io performance desirable store summary data analysis 
summary data keep sucient compute statistics interested need store raw data stream 
summary data stored disk sequentially order basic windows 
number streams number basic windows size basic windows number dft coecients real number cost access data streams speci period sizeof pagesize cost exact computation sizeof pagesize improvement ratio rst equations corresponds non dft elements summary data sum sum squares time series basic window 
costs assume sequential disk access reasonable assumption time ordered nature data streams 
monitoring correlations data streams curve tting technique computing inner products correlations sliding windows size time delay streams 
online monitoring synchronized streams xed size sliding window correlation speci threshold approach dft hash technique report stream pairs quickly 
introduce normalization series sliding windows size xw follows 
theorem suggests correlation coecient time series reduced euclidean distance normalized series 
theorem correlation coecient time series xw yw corr euclidean distance proof notice corr pp pp corr reducing correlation coecient euclidean distance apply techniques report sequences correlation coecients higher speci threshold :10.1.1.45.9405:10.1.1.45.9405
theorem dft normalized form time series respectively corr dn dn euclidean distance series xn yn proof dft preserves euclidean distance rst dft coecients symmetry property dft xw yw corr dn theorem examine correlations stream pairs dn holds :10.1.1.45.9405:10.1.1.45.9405
get superset highly correlated pairs false negatives 
extend techniques report stream pairs high negative correlation 
corollary dft normalized form time series corr dn proof dft dft corr dn discuss compute dft coecients incrementally 
dft coecients normalized sequence computed dft coecients original sequence 
lemma dft dft maintain dft coecients sliding windows incrementally 
theorem old th dft coecient series sliding window xw new coecient series xw new old xw extended batch update basic windows 
corollary old th dft coecient series sliding window xw new coecient series xw xw xw new mb old xw corollary suggests update dft coecients incrementally keep digests basic windows 
dft normalized sequences map original sequences bounded feature space 
theorem xw dft normalized sequence xw proof theorem dft feature space cube diameter 
grid structure report near neighbors eciently 
rst dimensions dft feature space indexing 
superimpose dimensional orthogonal regular grid dft feature space partition cube diameter cells size shape 
cells cubes diameter 
stream mapped cell rst normalized dft coecients 
suppose stream hashed cell 
report streams correlation coecients threshold streams hashed cells adjacent cell need examined 
similarly streams correlation coecients threshold hashed cells adjacent cell 
hashing streams cells number stream pairs examined greatly reduced 
compute euclidean distance correlation rst dft coecients 
parallel implementation framework facilitates parallel implementation straightforward decomposition 
consider network servers monitor streams 
assume servers similar computing resources 
monitor streams stages 

compute digests single stream statistics data streams 
streams equally divided groups 
server read streams th group compute digests single stream statistics hash values 

report highly correlated stream pairs grid structure 
grid structure partitioned evenly parts 
server read part plus cells adjacent part 
note rst normalize dft coecients need communicated servers overhead communication greatly reduced 
server report stream pairs highly correlated part 
statstream system statstream runs high performance interpreted environment called 
system follows algorithmic ideas parameters correlation threshold stream pairs absolute value correlation coecients larger speci ed threshold reported interest 
higher threshold fewer streams exact correlations computed 
sliding window size time interval statistics reported user 
sliding window size hour reported correlations past hour 
duration threshold users interested pairs correlation coecients threshold pre de ned period 
example trader ask hour correlation stocks minutes 
parameter provides users option specify minimum duration 
longer duration period highly correlated streams indicates stronger relationship streams shorter indicate accidental correlation 
example longer duration give stock market trader con dence advantage potential opportunities 
longer duration gives better performance update correlations frequently 
empirical study empirical studies attempt answer questions 
great time savings dft approximate algorithms opposed exact algorithms 
streams handle real time 
comparison number streams dft exact method handle approximation error dft basic window estimate correlation 
change basic sliding window sizes 
approximate algorithm report high correlated pairs real data set precision 
synthetic data experiments time series streams generated random walk model 
stream set uniform random numbers 
experiments performed ghz pentium pc mb main memory 
suppose synchronized streams new data second 
user time series stream system asks questions 
streams track online fashion 
online means data come forever compute statistics data xed delay occurrence 

long delay change correlation time see change 
system compute correlations pairs basic window 
noted computation basic window nish basic window order system considered line 
lag farther farther time 
correlations may computed basic window 
user perceives size basic window maximum delay time change correlation takes place time computed 
net result answers questions related 
increase number streams cost increasing delay reporting correlation 
shows number streams vs minimum size basic window uniprocessor di erent versions algorithm 
dft method choose number coecients 
approximation error di erent basic sliding window sizes precision di erent numbers coecients number streams handled system increases size basic window perceivable change exact algorithm 
precision measurement compute correlations pairs dft curve tting basic window size basic window adjusted trade speed accuracy 
experiment shows error correlation coecients approach small especially sliding windows large size 
shows maximum approximate errors correlation coecients pairs streams rst dft coecients basic windows 
compares precision di erent sizes sliding basic windows 
smaller basic windows precise expect 
experiment indicates larger sliding window larger basic window give approximation 
stock exchange data experiments new york stock exchange nyse trade quote taq database provides intraday trade quote data stocks listed nyse amex nasdaq issues 
database grows rate gb month 
historical data accumulated gb 
data experiment tick data stocks indexed sp rst weeks 
period streams tick data day 
day stream holds timepoints case minutes corresponding half hour trading day 
choose sliding window weeks basic window day 
table comparison statstream similar methods properties agrawal datar gehrke statstream online algorithm guaranteed response time relevant amortized search data structure relevant relevant auto correlation shows precision di erent numbers coecients 
correlation coecient thresholds gure respectively 
precision ratio number pairs correlations threshold reported statstream number pairs reported statstream including false positives 
experiment shows dft coecients series sliding windows achieve high precision 
system guarantees false negatives 
experiment shows choice number fourier coecients consistent observation :10.1.1.45.9405
related increasing interest data streams 
theoretical literature datar study problem maintaining data stream statistics sliding windows :10.1.1.24.7941
focus single stream statistics propose online data structure exponential histogram adapted report statistics windows timepoint 
achieve limited memory tradeo accuracy 
online basic window synopsis structure report precise single stream statistics delay size basic window multi stream statistics trade accuracy memory time 
gehrke study problem monitoring statistics multiple data streams 
statistics interested correlated aggregates number streams monitored small 
typical query phone call record streams percentage international phone calls longer average duration domestic phone call 
histograms summary data structures approximate computing correlated aggregates 
applications nance correlation coecients multiple streams aggregates robust shifts scaling 
spirit technique similar theirs 
data mining community turned attention data streams 
domain speci language hancock designed extract signatures massive transaction streams 
algorithms constructing decision trees association rule mining clustering data streams proposed :10.1.1.119.3124:10.1.1.32.1927
manku greenwald focused problem approximate quantile computation individual data streams :10.1.1.7.8618
ganti introduce data span dimensions including landmark windows sliding windows clustering association rule mining 
complementary data mining research fast techniques nding correlation coecients speed clustering algorithms 
yi online data mining evolving time sequences relevant :10.1.1.45.9405
method muscles uses multivariate linear regression interpolate missing delayed values 
extend method correlation detection 
muscles method incremental algorithms 
approximate algorithm faster muscles exact algorithm resulting shorter delay 
method able compute auto correlation eciently 
time series problems database community focused discovering similarity online sequence indexed database previously obtained sequence information 
traditionally euclidean similarity measure 
original agrawal utilizes dft transform data time domain frequency domain uses multidimensional index structure index rst dft coecients :10.1.1.45.9405
focus sequence matching 
generalized allow subsequence matching :10.1.1.128.6559
ra ei mendelzon improve technique allowing transformations including shifting scaling moving average time series similarity queries :10.1.1.45.9405
distances sequences measured euclidean distance plus costs associated transformations 
correlation measure discover counter trends correspond negative correlations 
described paragraph time series nite data sets 
maintenance digests basic windows permits computation statistics autocorrelation 
main di erence previous comparisons online streams vs online streams opposed queried sequences vs database 
table compares previous 
techniques discrete wavelet transform dwt singular value decomposition svd piecewise constant approximation pca proposed similarity search :10.1.1.119.3124:10.1.1.45.9405
keogh compares techniques time series similarity queries 
exception svd techniques curve tting 
alternative ways computing digests sliding window basic window framework 
maintaining multi stream time delayed statistics continuous online fashion signi cant challenge data management 
solves problem scalable ecient way gives guaranteed response time high accuracy 
discrete fourier transform technique reduces enormous raw data streams manageable synoptic data structure gives performance 
pair streams pair wise statistic computed incremental fashion requires constant time update dft approximation 
experiments conducted synthetic real data show technique ecient precise long time series 
pc costing detect high pairwise correlations streams deliver data second delay minutes 
continuous way algorithm uses xed amount memory 
www kx com 
method computing correlation coecients applied interpolation values missing data stream 
exploit fact high valued correlation coecients imply high valued regression coecients 
choose streams highly correlated delayed stream perform linear regression interpolation missing values 
agrawal faloutsos swami :10.1.1.45.9405
ecient similarity search sequence databases 
lomet editor proceedings th international conference foundations data organization algorithms fodo pages chicago illinois 
springer verlag 
babu widom 
continuous queries data streams 
sigmod record 

chan 
fu 
ecient time series matching wavelets 
proceedings th international conference data engineering sydney australia pages 
cortes fisher pregibon rogers 
hancock language extracting signatures data streams 
acm sigkdd intl 
conf 
knowledge data mining pages 
datar gionis indyk motwani :10.1.1.24.7941
maintaining stream statistics sliding windows 
soda page appear 
domingos hulten :10.1.1.119.3124
mining high speed data streams 
proc 
acm sigmod international conf 
management data pages 
faloutsos ranganathan manolopoulos :10.1.1.128.6559
fast subsequence matching time series databases 
proc 
acm sigmod international conf 
management data pages 
ganti gehrke ramakrishnan 
demon data evolution monitoring 
proceedings th international conference data engineering san diego california 
gehrke korn srivastava 
computing correlated aggregates continual data streams 
proc 
acm sigmod international conf 
management data 
goldin kanellakis 
similarity queries time series data constraint speci cation implementation 
proceedings st international conference principles practice constraint programming cp 
springer verlag 
greenwald khanna :10.1.1.7.8618
space ecient online computation quantile summaries 
proc 
acm sigmod international conf 
management data pages 
guha mishra motwani callaghan :10.1.1.32.1927
clustering data streams 
annual symposium foundations computer science ieee 

online association rule mining 
proc 
acm sigmod international conf 
management data pages 
keogh smyth 
probabilistic approach fast pattern matching time series databases 
third conference knowledge discovery databases data mining 
keogh chakrabarti mehrotra pazzani 
locally adaptive dimensionality reduction indexing large time series databases 
proc 
acm sigmod international conf 
management data 
korn jagadish faloutsos :10.1.1.119.3124
eciently supporting ad hoc queries large datasets time sequences 
editor sigmod proceedings acm sigmod international conference management data may tucson arizona usa pages 
acm press 
manku rajagopalan 
approximate medians quantiles pass limited memory 
proc 
acm sigmod international conf 
management data pages 
manku rajagopalan lindsay 
random sampling techniques space computation order statistics large datasets 
proc 
acm sigmod international conf 
management data pages 
:10.1.1.45.9405
managing nancial time series data object relational object database systems 
vldb proceedings rd international conference large data bases august new york city new york usa 
morgan kaufmann 
ra ei mendelzon :10.1.1.45.9405
similarity queries time series data 
proc 
acm sigmod international conf 
management data pages 
ra ei mendelzon :10.1.1.45.9405
ecient retrieval similar time sequences dft 
proc 
fodo conference kobe japan 
:10.1.1.45.9405
wu agrawal abbadi 
comparison dft dwt similarity search time series databases 
proceedings th international conference information knowledge management 
:10.1.1.45.9405
yi faloutsos 
fast time sequence indexing arbitrary lp norms 
vldb proceedings th international conference large data bases september cairo egypt pages 
morgan kaufmann 
:10.1.1.45.9405
yi sidiropoulos johnson jagadish faloutsos 
online data mining evolving time sequences 
proceedings th international conference data engineering san diego california pages 

