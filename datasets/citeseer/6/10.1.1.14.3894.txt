idle speed control gdi engines robust multirate hybrid command governors leonardo andrea alessandro claudio alberto sangiovanni vincentelli dipartimento di sistemi ed informatica universit di firenze marta firenze italy 
email dsi san roma italy 
email alberto rm cnr dipartimento di elettronica informatica sistemistica universit della di cs italy 
email si deis eecs dept university california berkeley berkeley ca usa 
email alberto eecs berkeley edu idle speed controller automotive gdi engines 
idle speed control problem formalized robust constrained optimal control problem hybrid model gdi engine 
cost minimized fuel consumption 
sub optimal robust controller obtained command governor methodology discrete time relaxation hybrid model describes multirate nature engine input signals 
simulation results hybrid closed loop system 
main targets design stroke gasoline engines passenger cars improvement safety comfort minimization fuel consumption compliance emission standards 
high fuel economy high driving performances achieved modern gasoline direct injection gdi engines equipped fuel system directly injects gasoline cylinders 
advantages gdi technology extensively illustrated 
gdi engines operate stratified mode lean mixtures high air fuel ratio fuel consumption reduced low loads low engine speed 
typical driving cycle significant reduction fuel consumption obtained idle speed operation mode gear neutral gas pedal released 
fact idle speed control main objective minimization fuel consumption 
difficulty problem lies load variations coming intermittent devices powered engine air conditioning system steering wheel servo mechanism may cause engine stall 
interesting results idle speed control obtained applying different approaches 
formalize idle speed control problem robust constrained optimal control problem hybrid model gdi engine operating stratified mode 
adoption hybrid formalism allows describe cyclic behavior engine capturing effect fuel ignition generated torque interaction discrete torque generation continuous power train air dynamics 
hybrid modeling framework particularly interesting idle speed control frequency engine cycles low fact minimum value crankshaft revolution speed engine operate critical conditions improper control action single engine cycle may cause engine stall 
idle speed hybrid optimal control problem cost functional minimized fuel consumption 
optimization subject constraints engine speed fuel ratio control inputs 
furthermore robustness respect disturbances unmodeled dynamics guaranteed 
sub optimal effective easily implementable solution hybrid optimal control problem authors :10.1.1.13.8871
proposed solution command governor methodology switching lq optimal controllers employed primal control structure ensuring nominal closed loop stability performance fuel consumption minimization linear regimes 
command governor changes nominal set point engine speed air fuel ratio order impose time instant lowest possible engine speed compatible fulfillment prescribed constraints 
cope difficulty handling complex behavior engine hybrid model controller designed discrete time model approximates evolutions engine hybrid model :10.1.1.13.8871
correct behavior controller tested extensive simulations closed loop hybrid model obtained connecting model command governor nonlinear device added control system 
absence command governor designed perform satisfactorily absence constraint violations 
necessary command governor modifies closed loop system avoid violation constraints 
fig 

gdi engine hybrid model 
discrete time idle speed controller gdi engine hybrid model 
propose similar approach controller design controller structure employs lq controllers command governor 
relaxation robust techniques obtain feedback controller correct design sense ensures constraint satisfaction hybrid model gdi engine presence model uncertainties 
result particular interest automotive applications usually controllers designed continuous time mean value models plant describe stroke engine cycle specifications formally guaranteed 
hybrid engine controllers guaranteed properties investigated authors past 
particular hybrid controller cut control developed relaxation technique adopted 
ii 
gdi engine hybrid model problem formulation section nonlinear hybrid model stroke cylinder gdi engine 
proposed model developed identified collaboration italy basis experimental data obtained liter gdi engine 
consider design idle speed controller gdi engines operating stratified charge description hybrid model homogeneous charge omitted gdi engines controlled stratified charge control inputs command throttle valve referred control amount air loaded cylinders intake stroke mass fuel injected engine cycle referred fact stratified charge spark ignition synchronized fuel injection control input 
described fig 
gdi engine hybrid model composed interacting subsystems throttle valve intake manifold cylinders crankshaft 
switching stratified homogeneous charges investigated 
fig 

hybrid automata model cylinders 
dynamic throttle valve modeled order lag filter input delay denote respectively throttle command throttle angle models actuator delay represents bounded model uncertainties 
intake manifold dynamics described terms manifold pressure follows evolution manifold pressure depends difference manifold input air flow rate passing throttle valve output air flow rate function manifold pressure crankshaft speed 
denote sequence time instants reach dead center lower bottom dead center upper top dead center positions 
output equation evaluated time gives amount air mass loaded cylinder exits intake stroke time bounded disturbances model plant uncertainties 
cylinders block describes torque generation mechanism internal combustion engine 
cylinder engines behaviors significantly simpler engines due fact time cylinder different stroke engine cycle intake compression expansion exhaust 
cylinders subsystem modeled hybrid automaton depicted fig 

model stroke subsequent represented dead center self loop transition executed degrees 
transition defines crankshaft angle reaches dead center time sequence crankshaft angle degrees subject denotes crankshaft revolution speed rpm 
amount fuel injected set dead center intake compression 
torque fig 

evolution intake air flow loaded air injected fuel generated torque generated engine piece wise constant signal discontinuity points times synchronized dead center events 
th expansion stroke amount engine torque depends nonlinear fashion mass injected fuel mass loaded air value engine speed stroke normalized air fuel ratio mixture th expansion stroke defined customary express engine torque terms stands air fuel ratio 
engine torque expressed notice generated torque normalized air fuel ratio depend amount air loaded cylinder previous intake stroke step delay models compression stroke located intake expansion 
timing engine internal variables depicted fig 

crankshaft block describes evolution crankshaft revolution speed represents load torque consists sum distinct amounts pumping torque known constant friction torque linearly depending known torque due auxiliary subsystems powered engine idle speed controller guarantee requested performances robustly respect action torque seen disturbance affecting evolution engine speed 
address robustness requirement convenient split torque sum predictable torque transition nonzero values known advance air conditioning compressor steering pump electric generator 
unpredictable torque collecting bounded disturbances model uncertainties assumed example air conditioning subsystem generates load considered predictable 
fact assume know time advance time air conditioning switching corresponding value load 
information exploited order achieve conservative results 
problem formulation idle speed control problem formalized robust constrained optimization control problem 
cost function minimize fuel consumption 
constraint variables engine speed kept prescribed operative constraints prevent engine stall limit fuel consumption normalized air fuel ratio subject constraints due tail pipe emission specifications fuel injection throttle valve command subject amplitude constraints subject rate constraint 
robustness achieved respect parameter uncertainties unmodeled dynamics represented state disturbances engine torque load disturbances 
usually specification idle speed control maintain engine speed nominal value steady state fuel consumption strictly related nominal value lower lower fuel consumption 
fixed value determined trading fuel consumption need avoiding engine stall transients due load disturbances 
fixed situations remarkable higher strictly necessary keep engine running 
optimize fuel consumption allow engine speed vary interval nominal value 
specification idle speed control design formalized follows iii 
discrete event engine relaxed model hybrid model section ii linearized operating point corresponding nominal engine speed idle control disturbance torque throttle valve assumed controlled discrete time feedback sampling period ms nominal engine speed time subsequent dead centers ms exactly times throttle control sampling time assume throttle control sampling synchronized dead center events dead center time throttle sampling event remaining occur delay ms denote sequence uniform sampling times throttle control represent sequence time interval lengths 
assume sequence dead center times corresponds sub sampling sequence follows engine run nominal engine speed throttle sampling sequence uniform time intervals dead centers may vary ms ms linearization discretization evolution throttle valve intake manifold dynamics sampled time sequence written denotes nominal operation point account effects approximations due linearization including neglected dependency form disturbance takes furthermore discrete time dynamics expressed dead center event sequence follows notice sampling strategy advantage drift throttle control engine cycle 
disturbance represents effects model uncertainties lin errors modeling errors due fact matrices obtained assuming evolution entire hybrid engine model section ii represented conservative way modeling effects disturbances linearization errors obtained respectively linearization 
proposed command governor cg modifying line desired value engine speed normalized air fuel ratio prescribed constraints violated irrespective possible load disturbance occurrences fuel consumption optimized 
engine hand results fuel consumption minimized steady state basic strategy underlying cg apply nominal values cg modify line application lead constraint violation 
details cg theory reader referred :10.1.1.13.8871
iv 
controller synthesis section illustrate design idle controller 
controller consists nested loops switching lq controller inner loop objective minimization fuel consumption transients cg outer loop objective minimization fuel consumption steady states verification constraints robustly respect disturbances model uncertainties 
inner loop outer loop described section iv section iv respectively 
simulation results closed loop hybrid system reported section iv 
fig 

primal hybrid feedback control structure 
primal control inner loop cg approach requires design primal stabilizing controller supposedly cg designed account prescribed constraint 
depicted fig 

achieve zero tracking error steady state adopted incremental model approach consists rewriting model terms extended state incremental input signal 
optimal lq state feedbacks form minimizes quadratic cost particular convenient determine different lq state feedback control laws suited deal specific situation 
supervisor selector charge identify specific controller put loop basis input indicates advance state predictable disturbance 
specifically lq control laws designed occurrence conditions predictable disturbance transitions lq predictable disturbance transitions lq 
main reason state feedback control laws single having different feedback gains large transient occurrences steady state operations 
convenient trading fuel consumption minimization vs fast transients achievement 
easily determined 
fig 

hybrid cg structure 
fact fuel consumption minimization weight cost chosen remarkably larger small disturbances choice ensures small fuel consumptions embedded integral action ensures zero tracking error steady state 
sluggish responses result acceptable especially large load disturbance change 
case active control actions desired 
worth pointing fuel consumption due transients optimized suitable choice control law 
notice closed loop stability verified testing existence single symmetric positive definite matrix jointly satisfies command governor outer loop accordingly primal control structure designed bank cg see fig 
charge deal different situation 
particular cg lq loop predictable disturbance cg lq loop predictable disturbance transition cg lq loop predictable disturbance 
selection cg applied handled block cg selector see fig 
input cg designed disturbance ranges cg nm nm cg nm nm cg nm nm 
transitions upper bound determined steps sec 
dwell time switching 
robustness respect disturbances unmodeled dynamics linearization approximations achieved designing cg algorithm conservatively estimate evolution system action disturbances modeling effects 
nm time simulation fig 

load disturbances section report simulation results obtained applying lq cg robust hybrid controller illustrated previous sections nonlinear hybrid model plant described section ii 
idle speed controller designed order meet constraint robust specifications discrete event model described section iii relaxation original engine hybrid model section ii guarantee controller correct construction 
furthermore simulations show discrete time approximation plant described section iii performances hybrid closed loop system satisfactory terms fuel consumption 
fig 
simulation results obtained set point reported 
minimizations fuel consumption obtained essentially lower consumption steadystate phases corresponding imposition cg action lowest possible sustainable idle speed compatible actual load 
control action cg chooses lower possible set point circumstance 
effect cg especially apparent evolution engine speed 
fact engine speed lowest level minimize fuel consumption compatible loads constraints satisfied time 
performances proposed solution manifested injected fuel rate profile higher lq controller cg strictly lower steady state 
load torque disturbance sequence fig 
idle speed control design problem automotive gdi engine considered 
problem formalized robust constrained optimization control problem hybrid model engine 
proposed solution obtained applying command governor approach allows handle constraints robustness 
approach fuel consumption due transients reduced respect case single optimal lq controller essentially freedom tuning primal lq switching control structure need account constraint 
rpm cg rpm mg time fig 

top engine speed solid cg set point dashed injected fuel rate throttle angle 
acknowledgment conducted partial support project ist cc control computation 
harada tomita mizuno ito development direct injection gasoline engine sae tech 
rep 
di benedetto sangiovanni vincentelli automotive engine control hybrid systems challenges opportunities proceedings ieee vol 
special issue hybrid systems invited pp 
july 
sun models control methodologies ic engine idle speed control design control engineering practice vol 
august 
sun application optimal control engine idle speed control problem ieee trans 
control systems technology vol 
pp 
march 
simpson crank angle domain modeling control idle speed sae journal engines vol 
pp 

chen chen throttle body engine idle tolerance effect flow rate sae tech 
rep 
sangiovanni vincentelli hybrid command governors idle speed control gasoline direct injection engines appear proc :10.1.1.13.8871
acc 
nonlinear control constrained linear systems predictive management ieee trans 
automatic control vol 
pp 

di benedetto rossi sangiovanni vincentelli hybrid control automotive applications cut control automatica vol 
special issue hybrid systems pp 
march 
rossi sangiovanni vincentelli hybrid problems automotive applications proc 
ifac international workshop motion control grenoble france september pp 

predictive pi control linear plants positional incremental input proc 
ifac world congress vol 
beijing china july pp 

control logic switching cdc workshop 
