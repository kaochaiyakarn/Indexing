client characterization analysis internet faults venkata padmanabhan microsoft research sriram uc san diego jitendra padhye microsoft research march technical report msr tr microsoft research microsoft microsoft way redmond wa client characterization analysis internet faults venkata padmanabhan sriram jitendra padhye microsoft research uc san diego microsoft research client characterization endto internet faults 
prior studies internet faults focused probing routers tools traceroute listening routing protocol messages consider novel approach having clients passively observe endto transactions involved 
observations multiple clients combined arrive complete picture extent cause faults 
characterization real faults observed heterogeneous collection client hosts repeatedly downloaded content diverse set web sites period month 
find wide range failure rate transactions failure rate certain clientserver pairs 
transaction failures due dns problems rest due inability client able establish tcp connection server 
correlating failure observations clients servers find client side problems account overwhelming majority dns lookup failures server side problems dominant cause tcp connection failures 
believe findings suggest promise novel approach diagnosing internet faults leveraging collective experience diverse set hosts overcome opacity network 
briefly discuss key challenges realizing system 
client characterization internet faults 
client refers hosts user desktop home computers fault refers failure communication clients hosts servers 
goal characterize network problems terms meaningful users server problem client problem information available passive monitoring traffic client hosts 
analysis correlates information gathered multiple clients answer key questions frequency failures frequency vary various categories clients servers study 
downloads server fail typically fraction distribution clients affected 
failures tend affect clients board indicating server side problem smaller subset clients indicating client side problem 
case client side problems affected clients tend share attributes network location 
data gathered period month diverse set clients communicated target server set web servers 
recorded analyzed failures transactions clients servers 
main findings follows failure rate server client noticeable 
failure rates excess uncommon 
failure rate varies considerably servers clients 
failures traced dns problems rest due inability client establish tcp connection remote web server 
correlating failures observed multiple clients websites categorize failures server side affecting significant fraction accesses server clients clientside affecting significant fraction accesses client sites 
find clientside problems account overwhelming majority dns lookup failures server side problems dominant cause tcp connection failures 
case multiple clients located planetlab nodes university correlation faults flagged clientside analysis 
gives confidence validity analysis despite difficulty doing direct validation 
believe findings indicate promise novel paradigm diagnosing internet faults leveraging collective experience diverse set overcome opacity network 
prior characterizing internet faults developing tools identify cause 
briefly discuss approach different previous 
detailed discussion appears section vi 
analysis passive observation transactions clients 
position observe failures affected health ip level client server path intermediaries proxies dns servers 
contrast prior tools traceroute focused actively probing just ip level path 
active probing incur considerable overhead employed large scale infeasible environments traceroute traffic block isps intermediate entities firewalls 
key feature approach combine observations multiple hosts infer nature failures 
previous correlating bgp observations gathered multiple vantage points believe correlate observations failures multiple hosts 
rest organized follows 
section describe analysis framework detail 
describe experimental setup methodology section iii 
sets stage presentation results analyses section iv 
section briefly discuss feasibility novel host internet fault diagnosis system 
section vi survey previous characterization analysis internet failures discuss relates previous research 
section vii 
ii 
fault analysis framework section framework client characterization analysis internet faults 
consider faults detected passive observation communication clients inferences combining observations multiple clients 
discussion experiments focus communication form web downloads believe framework extended forms communication media streaming 
rest words failure fault problem interchangeably 
note failure imply total inability communicate just noticeably abnormal behavior failure rate higher normal failure rate say 
failure individual transactions discussing failures failure modes individual web downloads transactions observed client 
categorization locally observable failures form failure tree shown 
transaction success failure dns transport content connection response partial response client abort server abort fig 

failure tree depicting categorization transport failures observed individual client host 
web transaction consists client resolving web server name corresponding ip address establishing tcp connection server downloading object interest protocol 
transaction fails steps fails 
furthermore steps proceed order client tell step failed categories failures observable client dns website name resolved 
transport name resolution successful failure encountered connecting server downloading content 
context web downloads correspond failure tcp connection level 
content tcp connection successful 
server supply desired content returns error indication 
error various reasons including desired content server server unable serve content load client authorized download content 
transport failures specifically context tcp turn categorized follows connection client unable connect server 
context tcp corresponds failure syn handshake 
failure happen network connectivity problem server 
response client able establish connection send request receive response 
happen failure server application server overloaded 
lack response network connectivity issues fact syn handshake successful total failure connectivity 
partial response client receives part server response connection terminated prematurely server client 
premature termination happened failure server client application simply connection progressing slowly say route failure network congestion client timed closed connection 
correlating failures clients servers local observations individual client communication particular server may indicate nature problem causing failure particular purposes discussion treat download multiple objects comprise web page separate transactions 
consider pipelining effects 
experiments download single object index page server little opportunity reuse connections pipeline multiple requests 
instance web server may issue accept call establishing connection fail fork new process thread service request 
note tcp syn cookie device cisco guard box create effect 
transport failure client side server side client partial replica total replica fig 

failure tree depicting categorization failures inferred correlating failure observations client hosts 
similar classification done dns failures 
server specific client specific 
example case connection failure clear cause connectivity problem client server failure problem interior network 
correlating failure observations clients servers better positioned disambiguate nature failures 
considering individual failures identify failure episodes correspond periods abnormally high failure rate 
abnormal periods identified comparing system wide normal behavior clients servers 
defer detailed discussion issue section iv 
combining failure observations clients servers able categorize failure episodes shown 
note categorization may suggestive cause failures location indicate root cause certainty 
claim categorization unique just plausibly interesting relevant viewpoint users 
client side client experiencing abnormally high aggregate failure rate communication servers term corresponding period client side failure episode client question 
fact client communication servers affected suggests root cause close client 
note network problem affects group clients may appear client side problem viewpoint individual client 
client accesses routed proxy failures due proxy result client side failure episode 
distinguish client side failures analysis 
server side server experiencing abnormally high aggregate failure rate communication clients term corresponding period server side failure episode server question 
fact server communication clients affected suggests root cause close server 
websites multiple replicas server side failure episode affect replicas total replica failure episode subset replicas partial replica failure episode 
note total partial refer spatial extent failure episode replicas total partial failure accesses website 
instance abnormally high failure rate affects replicas website termed total replica failure episode 
problems arise independently servers clients server side failure episode server overlap time client side failure episode client 
client server specific specific client server pair experiencing abnormally high failure rate client server experiencing abnormally high failure rate aggregate term corresponding period client server specific failure episode 
root cause failure episode client server network 
periods may failures significant intensity period registered abnormal client server client server pair 
failures periods due transient problems occur short timescale 
iii 
experimental setup methodology section experimental setup methodology 
describe set clients servers experiments tools techniques perform measurements 
overview experiment conducted month period jan 
period client host repeatedly accessed set urls 
sequence accesses randomized avoid systematic bias 
web page downloaded top level index file limit network load 
download record pieces information client including dns lookup time failure indication download time failure indication packet level tcpdump trace entire transaction 
pieces information easily obtained additional network communication real setting clients monitor network activity 
downloading activity clients experiment constitute active measurement goal generate synthetic workload emulates constraints experiment clients perform downloads normal course 
small number clients location location refers campus city isp network contrast real setting hundreds thousands participating clients location clients may able meaningfully share information network experience resorting active downloads 
previous findings context web caching point potential sharing 
detailed analysis needed firmly establish scope sharing consider issue 
alternative approach avoid active downloads gather packet level traces existing traffic say border router busy campus 
challenging set scale dozens hundreds sites 
may yield true picture network health viewpoint hosts 
example record dns requests tcp syn attempts failed due local fault reached packet sniffer located say edge campus network 
clients sets clients experiments summarized table planetlab pl picked planetlab nodes sites 
having multiple nodes sites enabled identify failures wide 
hosts canada remaining distributed asia europe 
nodes ran version linux 
dialup du clients located seattle dial pops large dialup isp anonymized purposes review spread cities pops city chosen upstream isp pop different 
clients various pops random order downloaded urls designated set random order 
dialup clients effectively virtual clients connected internet different path provided different perspective wide area network 
nodes ran microsoft windows xp 
cn nodes spread locations internal network large multinational nodes seattle sea sea node san francisco sf 
uk china 
external web requests nodes routed separate proxy 
proxy located local site cases located japan 
addition node seattle located outside corporate firewall proxy shared wan connectivity sea sea 
cn nodes ran various flavors microsoft windows xp 
broadband bb residential broadband clients dsl cable modem spread isp networks roadrunner sbc yahoo cities pittsburgh san diego san francisco fact potential sharing transaction failure information greater web caching require sharing content file level 
seattle 
access link speed hosts kbps better 
choice heterogeneous set clients motivated desire obtain broader understanding internet behavior obtained just planetlab nodes predominantly located academic sites 
total client machines du clients dialing pops effectively gave total clients 
dialup clients dialup significant dominant access technology developing world developed world indicates home users dialup june 
purposes study dialup clients provide visibility failures observed paths commercial isps failures independent low speed dialup link 
constrained locate dialup clients seattle concern extra latency incurred dialing remote pops skew performance numbers 
focus failure rates absolute performance numbers significant concern 
web sites picked set websites target download experiments 
indicated table ii tried ensure significant diversity web sites terms geographic location popularity 
popularity determined alexa list 
sites replicated served cdns 
specifically included certain websites enable correlation failures located websites www technion ac il www cs technion ac il 
number sites chosen constrained frequency client perform downloads generating excessive network traffic triggering alarms 
experiment client host accessed website approximately times hour translates downloads hour client 
tools set shelf tools measurements 
measurement iteration urls sorted random order 
procedure followed download follows flush local dns cache 
dig measure dns lookup time 
wget download url index file 
tcpdump record trace entire transaction 
special steps du cn clients 
du nodes pick pop dial random connect download urls random order disconnect pick pop connect 
dialup session record modem connection speed reported windows os 
category planetlab pl dialup du cn broadband bb clients pops edu canada org boston chicago houston san pittsburgh san details com net new york pittsburgh san diego seattle diego seattle europe asia san francisco seattle washington dc il uk china san francisco table details clients experiment note du clients located seattle remote pops cities pop city typically different upstream isp drawn icg level uunet 
cn nodes seattle outside corporate firewall proxy shares wan connectivity cn nodes seattle 
edu berkeley edu washington edu cmu edu umn edu caltech edu edu ufl edu mit edu popular amazon com microsoft com ebay com com cnn com com com go com com com com imdb com google com yahoo com games yahoo com weather yahoo com msn com passport net aol com com lycos com cnet com misc com nfl com pbs org cisco com net ibm com com advertising com slashdot org un org craigslist org state gov nih gov nasa gov mp com intl edu iitb ac ac technion ac il cs technion ac il ucl ac uk cs ucl ac uk cam ac uk inria fr hku hk nus edu sg intl popular amazon uk amazon jp bbc uk muenchen de terra com com fr com sina com hk cosmos com mx msn com tw msn google uk google jp sina com cn intl misc com english ru com com cn jp sony jp com royal gov uk direct gov uk table ii list web sites targets download experiment sake brevity left www prefix hostnames downloaded top level index file site popular category refers sites drawn alexa top list 
cn clients configure wget issue requests cache cache control header set ensures response received origin server 
avoid having proxy cache mask failures proxy 
proxy cn client name resolution way client force local dns cache proxy flushed dns failures may masked client 
gather packet level traces bb machines 
peoples home computers concerns privacy issues storage requirements 
gather packet level traces cn machines interesting revealed dynamics tcp connections local proxy 
analysis raw data recorded download obtain indication success failure dns lookup download dns lookup time download time failure code reported wget 
store information performance record client name url server ip address time 
post processed tcpdump packet traces simple tool called developed estimate various tcp metrics 
tool inspired rat simpler potentially accurate capturing packets client typically receiving connection middle network 
specific tcp level information consider cause connection failure connection level failures categorized connection response partial response discussed section ii 
packet retransmission count count total number packets sent server number retransmitted packets 
distinguish packet retransmission reordering comparing length time packet order connection rtt estimated client side packet trace 
web connections short compute packet loss rate connection basis 
aggregate packet counts multiple connections compute loss rate discussed section iv 
iv 
experimental results section experimental findings 
raw statistics failures inferences obtained correlating failure information clients web sites 
analysis consider hard failures client unable access web page regardless reason 
main advantage policy ambiguity constitutes hard failure 
plan consider soft failures page download successful slower normal 
start section iv presenting statistics transaction level failures categories clients pl du cn bb 
report breakdown failures type dns transport connection level content 
section iv detailed analysis connection level failures viewpoint individual clients 
turn correlating failure observations clients servers view classifying failure episodes client side server side client server specific 
correlation analysis separately failures sections iv iv dns failures section iv 
analysis client failures section iv 
transaction failure analysis section failure statistics web transactions month long data set 
transaction invocation wget download url 
transaction failure rate compute failure rate client transactions servers 
plots cdf client failure rate computed 
median failure rate tile indicates certain clients experience significant rate transaction failures month period 
defer discussion packet loss rate curve section 
fraction clients transactions packet loss rate failure rate fig 

cdf transaction failure rate packet loss rate successful connections clients 
plots mean transaction failure rate category clients 
interesting note mean failure rate lowest du clients significantly higher pl clients despite connected higher speed academic research networks 
difference may du clients connect commercial dialup service presumably strives provide quality service pl clients part experimental planetlab network 
regardless main message speed reliability necessarily correlated 
breakdown transaction failures plots breakdown transaction failures type category clients exclude cn clients connect proxy masks true nature failure 
failure types ones depicted failure tree shown failure rate pl bb du cn client type fig 

percentage failed transactions category clients 
dns transport connection level content 
find categories clients connection level failures dominate accounting transaction failures 
dns failures account rest 
content failures level failures account transaction failures cases 
failure rate connection dns pl bb client type du fig 

breakdown transaction failures type category clients 
packet loss transaction failures previous measurement studies internet reliability focused packet loss rate metric 
extent tcp measure packet loss rate studies considered relatively long data transfers kb quantify packet loss rate 
question packet loss rate successful connections correlates failure rate transactions 
plots cdfs transaction failure rate packet loss rate successful connections 
coefficient correlation transaction failure rate packet loss rate clients low shown 
main reasons lack correlation transactions fail reasons little server client path dns failures shown transaction succeed despite possibly severe packet loss estimating packet loss rate tcp traffic prone bias failed connections transfer data fact quite significant discussed section iv ignored 
non tcp techniques zing tool avoid bias extent entirely dns failures accounted tools requires control points involves active measurements 
believe important study failures transactions packet loss rate 
sections analyze dominant causes transaction failures connection failures dns failures separately 
reason analyzing separately dns resolution tcp connections typically involve distinct internet components possibly distinct network paths 
connection failure analysis section detailed analysis connection level failures comprise significant chunk transaction failures 
connection failures vs transaction failures consider relationship transactions tcp connections 
noted earlier transaction invocation wget download url 
web clients wget invoke multiple tcp connections context single transaction attempt mask failures 
dns returns multiple ip addresses server tcp connection fails wget tries connect alternate addresses 
multiple connections arise server returns redirect response client 
compares distributions transaction failure rate connection failure rate 
computed individual tcp connections 
transaction successful despite failure constituent tcp connections 
hand transaction fail due dns failures register tcp level connection failure 
transaction failure rate larger smaller connection failure rate depending effects dominates 
shows transaction failure rate generally larger connection failure rate tail distribution tile 
dns related failures excluded residual transaction failure rate greater connection failure rate 
breakdown connection failures analyze tcp connection failures correspond transport failures failure tree shown 
types failure connection tcp syn exchange failed response server return bytes response partial response server returned partial response connection terminated prematurely 
breakdown shown 
see connection failures dominate case pl du significant case bb 
prevalence connection failures reinforces point section iv tcp packet loss rate indicator fraction clients transactions connections conn failures failure rate fig 

cdf transaction failure rate failure rate failure rate excluding transactions failed due dns causes connection level failure rate 
transaction failures 
hard incorporate information failed syn exchange packet loss rate metric 
average failure rate partial response partial response response connection pl bb du client type fig 

breakdown tcp connection failures category clients 
cn clients excluded connect proxy masks failures tcp connections servers 
category marked partial response corresponds cases lacked tcpdump traces needed disambiguate precise cause failure 
wget logs able rule connection failures leaving response partial response possibilities 
extreme failures communication possible client server suggest server lack connectivity client server 
case unclear root cause client server specific client server pair question 
shed light related questions turn correlating failure observations clients servers 
correlation analysis connection failures discussed section ii obtain greater insight nature failures correlating failure observations clients servers 
specifically determine failures due client side failure episode server side failure episode 
recall section ii classify failure episodes individual failures 
goal section apply correlation analysis connection level failures 
identifying failure episodes step step analysis identifying failure episodes noted section ii periods abnormally high failure rate client server 
identify abnormal periods comparing system wide normal behavior 
abnormal periods clients identified comparing clients abnormal periods servers identified comparing servers 
underlying assumption system normal state low failure rate failures abnormal behavior high failure rate exception 
need define period failure rates computed 
conflicting considerations 
period short help identify failures say just minutes 
example minute server outage stand hour timescale buried noise day timescale 
hand period long sufficient number samples able compute meaningful failure rate number clients servers frequency accesses experiment practical system passively monitoring existing traffic 
balance considerations pick hour episode duration 
assured accesses client server episode 
hour duration allows identify relatively short lived failures 
hour episode duration places minimal requirements degree synchronization needed observations different clients 
fraction episodes grouped server grouped client percentage failure rate episode fig 

cdf failure rate hour episodes clients servers 
identify system wide normal behavior consider distribution failure rate episodes month long trace 
separately clients servers shown 
hour episode client compute failure rate client connections servers 
failure rate data yields client cdf shown 
likewise servers 
cdfs show distinct knee separating portions cdf different slopes 
left knee steep portion cdf vast majority episodes concentrated narrow range low failure rates 
term normal range 
right knee flat portion cdf episodes experience wide range significantly higher failure rates 
term abnormal range 
episode failure rate corresponding knee separate abnormal episodes termed failure episodes normal episodes 
analysis follows experiment settings threshold conservative 
proceeding analysis point regarding choice failure threshold threshold appear low fact failure rate say hour episode significant client server 
failure total lasted failure rate lower averaged full hour 
classifying failure episodes threshold classify hour episodes client server failure abnormal episode 
consider particular pair client server connections experienced failures episode question attribute client side problem server side problem 
trying establish cause individual connection failures interested establishing cause failures hour episode 
episode question marked failure episode failure rate connections servers failure episode failure rate connections clients attribute connection failures episode client side problem 
recall section ii client side necessarily mean root cause problem close client just problem affecting broad range communication client 
likewise failure episode attribute failures server side problem episode marked failure episode question attribute failures 
case important consider reason 
assume server handful servers happen experiencing problems cause accesses large number clients servers fail corresponding episode 
modest number servers experiment possible failure handful servers cause noticeable fraction accesses large number clients fail episode 
failure rate exceed threshold conservative threshold clients 
result episodes incorrectly marked failure episode clients 
course correctly marked failure episode affected servers 
correctly attribute failures episode server side problem compare failure rates episode see dominates 
example failure rate may close barely threshold conclude failures due server side problem 
general failure rates episode exceed threshold failure rates twice attribute failures episode dominating client side server side 
dominates attribute failures ends category 
failures episode qualify failure episode attribute failures category 
correspond failures severe widespread register failure episode client server 
due client server specific problems failures affect specific client server pair generally specific pair client site server wide area routing problems 
accesses hour client server pair experiment position analyze clientserver specific failures granularity hour episodes 
coarse grained analysis failures section iv 
server server client client fig 

classification failure triplets various categories 
threshold identify client server failure episodes 
failure triplets classified flavor client server side failure episode 
report results counting total number client server episode combinations failure triplet short corresponding client server pair experi server server client client fig 

classification failure triplets various categories 
threshold identify client server failure episodes 
failure triplets classified flavor client server side failure episode 
failure episode question 
count number failure triplets classified client side server side client side 
remainder go category 
settings threshold able classify respectively failure triplets 
expected failure triplets fall category conservative threshold flag failure episodes 
figures show breakdown classifiable failure triplets 
observe match breakdown figures despite different settings threshold client side server side categories dominate certain ones 
server side category dominates clientside 
words level connections failures due server side problems clientside problems 
couple reasons 
server machine going offline cause large number clients experience failures server 
corresponding event client client machine turned noticed client making accesses corresponding period 
bias just practice users care failures happen try access servers may happen machine turned 
second issue considering failures definition excludes problems dns resolution precede connection initiation 
clientside failures close mile fact cause dns note failure triplet represent client server specific failure 
represents general client side server side failure ascribe failures experienced corresponding client server pair episode question 
resolution failure registered failure 
important note finding server side causes dominate connection level failures reflect situation transaction level failures 
correlation analysis dns failures section iv sheds light major cause transaction failures 
indirect validation difficult directly validate inferences server side client side failures little visibility network 
provide indirect evidence support interferences 
ways 
consider widespread impact server side client side failures episodes fraction clients servers affected episode 
expect server side failure impact large fraction clients likewise expect client side failure affect transactions large fraction servers 
results see confirm 
second consider located clients university campus determine degree client side failure episodes correlated 
expect significant degree correlation failures affect connectivity level subnet entire campus 
results see confirm 
perform similar analysis located servers far fewer instances located servers data set 
spread server side client side failures consider widespread impact server side client side failure episodes ideally answer question looking widespread impact failure episode 
difficult sampling limitations just experiment practical system passive observation existing traffic 
sampling problems 
server side problem cause failure client accesses short interval say minutes long 
record failure clients happened access server question short period 
hand server side problem entire hour affect say transactions random 
underlying problem discriminate clients accessing server chance clients get lucky sense accesses server fail hour 
general position definitively establish clients affected server side problem 
view difficulty look widespread impact server side client side failure episodes entire month long period 
server consider failure triplets part attributed server side problem 
recall course perfect measure multiple distinct problems different episodes month affected different subsets clients 
spread clients large spread individual failure episodes small 
server spread tile spread tile sina com cn craigslist org com iitb ac technion ac il cs technion ac il com ucl ac uk muenchen de ac table iii list failure prone servers spread quantifying widespread impact corresponding server side failures section iv failure triplet combination client server episode 
interested large set clients affected server side episodes month long experiment quantify spread counting fraction clients needed account failure triplets involving server similar spread metric computed clients considering widespread impact client side problem servers 
table iii lists spread failure prone servers 
find tile spread typically tile spread typically 
indicates failures flag server side typically impact large fraction clients expect 
serves indirectly validate inferences section iv 
observation regarding table iii 
failure prone servers located outside exception craigslist org 
client set dominated clients hard distinguish network connectivity problem rest world actual server side failure non server affects large fraction clients 
general clients located close non servers able tell local clients affected apparent server side failure 
cases able verify small number clients located relatively close server affected time clients clients korea experienced problems accessing sina com cn clients experienced problems accessing ucl ac uk 
correlation located clients servers consider extent client side failure episodes correlated located clients 
pair located clients determined subset episodes separately marked client side episode client pair 
compute similarity measure pair clients ratio size intersection set client side failure episodes common size union episodes marked client side argue distinction matter viewpoint clients 
number located client pairs pairs client side failure episode marked clients pairs similarity pairs similarity pairs similarity pairs similarity table iv measure similarity client side failure episodes experienced pairs located clients 
client pair client side failure episodes union similarity planet pittsburgh intel research net planet pittsburgh intel research net kaist ac kr kaist ac kr kaist ac kr kaist ac kr kaist ac kr kaist ac kr planetlab comet columbia edu planetlab comet columbia edu planetlab comet columbia edu planetlab comet columbia edu planetlab comet columbia edu planetlab comet columbia edu table examples located clients degree similarity client side failure episodes experience 
failure episode clients 
identify pairs located clients data set 
pl clients located university campus network 
pairs colocated bb nodes pair nodes roadrunner cable network san diego pair nodes dsl network seattle 
table iv shows similarity measures client pairs located clients 
pairs experience client side failure episodes sense similar interesting 
remaining pairs quarter high similarity fifth moderately high similarity 
little half pairs low degree similarity 
closer examination overwhelming majority pairs experienced small number client side failure episodes month long experiment just episodes cases 
mismatch lack sharing rare failure episodes result low similarity measure 
general low degree similarity client side failure episodes located clients arise failure truly client specific 
examples consider illustrates point 
table lists examples located clients studied nodes columbia university intel research pittsburgh kaist 
sets exhibit different behavior 
nodes intel see large number clientside failure episodes failure episodes maximum possible count month long period 
high degree similarity failure episodes experienced located clients 
hand nodes kaist experience total client side failure episodes 
episodes shared nodes 
case columbia clients remarkably different 
nodes experience failure episodes respectively 
size union set intersection set yielding high degree similarity 
behavior third columbia node different 
experiences client side failure episode shared nodes 
satisfactory explanation significantly different behavior despite nodes located subnet columbia 
plan approach network administrators columbia see shed light issue 
summary find little half pairs located clients shared client side failure episodes 
rest pairs saw client side failure episodes making similarity computation noisy 
repeated similarity analysis server side failure episodes located servers 
pairs data set pairs experienced failure episodes 
pairs technion ac il cs technion ac il shares total server side failure episodes yielding high similarity 
pair ucl ac uk cs ucl ac uk similarity ucl experiences server side failure episodes cs ucl experiences shared ucl 
believe pairs located servers need studied draw general 
replicated websites noted section ii websites replicated case server side problems represent total partial replica failures 
total failures affect replicas website partial failures affect subset replicas 
repeat correlation analysis granularity server replicas view classifying failure episodes website experienced abnormal failure rate 
goal classify episodes earlier marked server side total partial shown failure tree 
identify set replicas server considering distinct ip addresses connections attempted client downloading content analysis meaningful ip addresses account total number connections considered replicas 
result websites experiments zero replicas exactly replica multiple replicas 
websites zero replicas basically served cdns akamai number distinct ip addresses large ip addresses qualify counted replica definition 
failure episodes marked belonged servers multiple replicas 
episodes overwhelming majority total replica failures means replicas website experiencing failures episode 
somewhat surprising finding 
detailed analysis shows total replica failures due websites replicas subnet prone correlated failures 
correlation analysis dns failures manner similar section iv identify classify failure episodes due dns problems client side 
context server referred server side website name clients unable resolve 
root cause lies dns system website server se 
threshold hour time scale identify failure episodes 
results 
failure triplets classified flavor client server side failure episode 
contrast connection failures vast majority classifiable dns failure triplets due clientside problems 
reasonable instance local dns server client experience close failure matter server name trying resolve addition loss connectivity client site manifest dns lookup failures connection problems 
hand problems server authoritative name server website going masked extent redundancy caching dns hierarchy 
performed indirect validation results manner similar section iv 
similarity failure episodes marked server side located servers 
results located clients similar shown section iv 
omit discussion due lack space 
client server specific failures discussed section iv low rate accesses client server pair difficult analyze failures specific client server pair granularity hour 
view failures entire month period point interesting cases 
compute connection level failure rate clientserver pair entire month 
median connection failure rate client server pairs tile 
despite seemingly low failure rates noticed client server pairs total unable communicate entire month 
client server server client fig 

classification failure triplets dns failures various categories 
threshold identify client server failure episodes 
failure triplets classified flavor client server side failure episode 
client server planetlab isi jhu edu org planetlab cnds jhu edu craigslist org planetlab uc edu msn com tw planetlab uc edu msn com tw planetlab cs cmu edu msn com tw planetlab cs cmu edu msn com tw planet scs cs nyu edu com sina com hk planet scs cs nyu edu com sina com hk craigslist org hpl hp com com sina com hk pli pa hpl hp com com sina com hk planetlab di cs technion il planetlab di cs technion il com sina com hk planetlab cs duke edu org nus edu sg planetlab cs northwestern edu mp com planetlab cl cam ac uk cam ac uk table vi client server pairs connection failure rate 
table vi lists sample client server pairs 
majority involve servers com msn com tw 
note clients able access popular craigslist org website 
furthermore generally correlation total failures experienced located clients 
point interesting cases 
planetlab client northwestern university access mp com 
client low failure rate suffers client side failure episodes failure accessing mp com due university policy blocking accesses site 
similar pattern failures happens clients cmu unable access msn com tw despite having low failure rate suffering client side failure episodes 
example planetlab node cambridge university uk able access university website 
note seemingly permanent failures tend get fixed period time 
instance separate data set gathered earlier project october noticed client located china able access edu period weeks 
current data set client problems accessing website 
conduct similar analysis client server specific failures dns lookups 
median dns failure rate client server pairs tile 
comparable connection failure rates find client server pairs dns lookup failure rate 
broadband clients seattle dialup clients dialing seattle area pops belonging icg level failed resolve cs technion il attempts 
examples point importance analyzing client server specific failures closely 
plan conducting modified experiment frequent accesses problematic client server pairs 
discussion results indicate promise new paradigm diagnosing internet faults failure observations gathered passively multiple clients approach outlined position describing system 
believe cooperative host approach network diagnosis important internet evolves increasingly opaque growing deployment firewalls proxies middle boxes 
feasibility client cooperative fault diagnosis system hinges issues 
needs sufficient overlap access patterns clients permit meaningful sharing information correlation analysis 
noted section iii previous findings context web caching point potential sharing 
furthermore potential sharing fault information increased sharing predicated overlapping accesses content files clients different locations usefully share fault information pertaining common set servers may accessed 
detailed analysis needed firmly establish feasibility sharing 
second able share failure observations hosts client network connectivity 
requirement sound system designed diagnose network faults 
note cases host see abnormally high failure rates certain servers certain parts internet 
situations possible compare observations hosts say peer peer network 
addition client unable communicate host record failure observations share peers 
post mortem analysis help users benchmark quality network experience long term helping drive decisions upgrading service switching isps 
third key security issues confront cooperative network diagnosis system 
particular interrelated issues protecting privacy users ensuring integrity information shared 
inherent tradeoff goals hard achieve fullest extent 
position outlined strategies partially achieving security goals 
defer design complete solution 
vi 
related measurement studies internet performance failures appeared literature 
studies closely related 
researchers focused individual facets performance wide area internet dns routing 
section briefly discuss contrast approach 
observation previous studies focused hosts academic research networks 
hosts ends experiments reported previous studies 
study consider hosts commercial dialup broadband isp networks corporate network 
authors analyze failures observed widearea networks 
goal evaluate techniques caching pre fetching mitigate impact wide area failures 
determine location duration rate failures traceroute measurements previous studies 
consider failures path dns lookup failures 
contrast study relies client passive observation entire transactions correlation analysis determine location failures 
system called proposed monitor characterize path failures wide area internet 
monitors incoming outgoing connections set planetlab nodes serve distributed web proxy cache 
traffic anomalies detected passive monitoring 
anomaly detected uses active probing traceroute multiple nodes analyze obtain fine grained view anomaly 
noted section traceroute problematic avoids problems server system client 
contrast rely entirely passive observation traffic clients 
furthermore consider components including dns web proxies responsible failure transactions just wide area path 
authors study path failures wide area internet 
measurements show failures occur close clients develop technique called hop source routing route failures occur away client 
hop source routing simpler re routing techniques proposed previously 
shares characteristics contrast traceroutes active probing focus failures just ip level path 
paxson conducted pioneering studies internet routing tcp dynamics 
studies pre dated planetlab infrastructure conducted nodes academic research networks exchanged data tcp traceroutes repeatedly 
findings pertaining routing anomalies inspired 
methodology paxson suitable purposes assumes control points depends traceroutes focuses just ip level path 
spand system sharing performance information hosts belonging single subnet site 
performance reports stored central database hosts performance prediction mirror selection 
focuses sharing information hosts differ spand couple key ways goal characterizing wide area internet failures performance prediction combine observations widely distributed set hosts just hosts subnet site 
neti home system gather detailed network performance information hosts 
goal compile information publically available 
clear information analyzed diagnose network problems 
researchers studied individual facets performance wide area internet 
reports performance dns queries originating sites kaist mit 
key finding dns lookups returned answer error 
data just sites difficult quantify correlation failures sites 
studies correlated bgp information routers diverse set locations locate source internet routing instabilities 
studies considered failure intra domain routing protocols authors studied performance wide area tcp connections observing tcp flows middle network 
studies consider impact problems performance transaction 
furthermore studies data gathered interior network study host view 
bears similarity network tomography terms combining observations multiple network paths deduce internal state network 
key difference tomography techniques analysis fine grained correlations typically involved active probing multicast unicast packets 
coarse grained passive tomography depends active probing discover network topology 
summary distinguished previous terms focus characterizing broad range internet faults passive client observations transactions correlation lack thereof data gathered multiple sites 
vii 
client characterization toend internet faults 
prior studies internet faults approach correlating passive observations faults distributed set clients 
gathered failure data period month heterogeneous collection client hosts downloading content diverse set websites 
wide range failure rate transactions 
correlation methodology analyze failure data gathered different clients 
methodology able classify failures due server side client side problems 
failures seen data caused dns problems rest due inability client establish tcp connection remote web server 
vast majority dns failures inferred due clientside problems majority connection problems inferred due server side problems 
direct validation inferences difficult able indirect validation 
findings indicate promise cooperative approach monitoring diagnosing internet faults 
clients observations failure transactions involved information multiple clients combined arrive complete picture extent cause faults 
currently building system 
planetlab individuals provided access client hosts study ramana lakshminarayanan liu ant rowstron rajesh rao sethi qian zhang zhou 
alexa web top 
www alexa com site ds top 
dig tool 
www dns net tools html tool dig 
tcpdump tool 
www tcpdump org 
wget tool 
www gnu org software wget wget html 
tool 

broadband penetration report june 
www com bw 
allman eddy ostermann 
estimating loss rates tcp 
performance evaluation review dec 
andersen balakrishnan kaashoek morris 
resilient overlay networks 
sosp 
banerjee griffin 
interdomain connectivity planetlab nodes 
pam april 
caceres duffield horowitz towsley 
multicast inference network internal loss characteristics 
ieee transactions information theory november 
chandra dahlin gao 
wan availability 
ieee acm transactions networking april 

chang govindan heidemann 
temporal characteristics bgp path changes 
icnp november 
duffield paxson towsley 
inferring link loss striped unicast probes 
infocom 
feldmann mao berger maggs 
locating internet routing instabilities 
sigcomm september 
fielding gettys mogul frystyk masinter leach berners lee 
hypertext transfer protocol 
rfc june 
gummadi gribble levy wetherall 
improving reliability internet paths hop source routing 
osdi 
iannaccone 
chuah bhattacharyya diot 
analysis link failures ip backbone 

jung sit balakrishnan morris 
dns performance effectiveness caching 
ieee acm transactions networking october 
padmanabhan qiu wang 
server inference internet link 
infocom 
padmanabhan padhye 
profiling wide area networks peer cooperation 
iptps february 
paxson 
routing behavior internet 
ieee acm transactions networking october 
paxson 
internet packet dynamics 
ieee acm transactions networking june 
paxson floyd 
wide area traffic failure poisson modeling 
ieee acm transactions networking jun 
savage anderson aggarwal becker cardwell collins hoffman snell vahdat voelker zahorjan 
detour case informed internet routing transport 

seshan stemm katz 
spand shared passive network performance discovery 
usits 
simpson riley 
neti home distributed approach collecting network performance measurements 
pam april 
wolman voelker sharma cardwell karlin levy 
scale performance cooperative web proxy caching 
sosp 
zhang zhang pai peterson wang 
internet path failure monitoring characterization wide area services 
osdi 
zhang breslau paxson shenker 
characteristics origins internet flow rates 
sigcomm august 
zhang duffield paxson shenker 
constancy internet path properties 


