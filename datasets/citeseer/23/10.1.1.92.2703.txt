design wireless assisted pedestrian dead reckoning system navmote experience lei fang panos antsaklis luis brett michael sun hui fang ioannis martin min xie xie combine inertial sensing sensor network technology create pedestrian dead reckoning system 
core system lightweight sensor embedded device called navmote carried pedestrian 
navmote gathers information pedestrian motion integrated magnetic compass accelerometers 
navmote comes range sensor network composed downloads compressed data network 
network relays data information center data processed estimate pedestrian trajectory dead reckoning algorithm 
system details including navmote hardware software sensor network middleware services dead reckoning algorithm provided 
particular simple effective step detection step length estimation methods implemented order reduce computation memory communication requirements motes 
static dynamic calibrations compass data crucial compensate heading errors 
dead reckoning performance enhanced wireless telemetry map matching 
extensive testing results show satisfactory tracking performance relatively long operational time achieved 
serves brief survey pedestrian navigation systems sensors techniques 
index terms pedestrian navigation system dead reckoning wireless sensor network 
ability locate position user essential part applications electronic travel aids blind visually impaired context aware guidance systems exhibition touring spatially applications wearable computer public safety services integrated navigation systems soldier 
problem positioning open environment relatively easy global positioning system gps 
case ordinary gps receivers typically provide meters depending number satellites visible 
gps limited navigation aid inability provide static heading lack availability obstructions terrain man presence jamming 
necessary develop positioning system complement gps gps compromised areas 
difficulties pedestrian navigation systems pns authors dept electr 
eng univ notre dame notre dame 
mail antsaklis nd edu 
llc granger 
honeywell az 
supported darpa nest program af national science foundation ccr ecs 
lake paved road map database buildings mote network fig 

pedestrian navigation system concept navmote accelerometer digital compass include resource design constraints size weight power due mobile man portable nature accuracy availability wide range operational conditions restricted choice technologies due environment constraints 
instance frequent gps receiver may allowed significantly decreases operational time battery powered pedestrian navigation devices 
advances computation communication sensing capabilities large scale sensor distributed environments emerging predominant mobile computing infrastructure 
hundreds thousands small inexpensive low power sensors berkeley motes quickly deployed monitor vast field 
combine mobile infrastructure inertial sensing build pedestrian navigation system pns capable working indoors outdoors 
fig 
illustrates system concept 
typical scenario involves reconstruction space time path subject taken initial final location 
approach relies custom built device navmote includes sensors memory processor rf communication capabilities 
navmote carried subject range network uses flash memory store accelerometer compass data 
custom algorithms provide compensation adverse sensor orientation calibration collection possible compression data 
subject re enters radio range network data captured navmote extracted automatically wireless communication deposited network nodes 
data distributed network multi hop transmissions sent designated special relay destination mote processing 
dead reckoning dr algorithm detects occurrence steps calculates distance traveled uses direction movement distance traveled generate trajectory points appropriately displayed 
trajectory correction manual operation provided graphical user interface gui recognition judgment human vision map matching 
challenges system design navmote side resource poor mote prevents computationally expensive algorithms size weight cost constraints need met 
network side large amount data need downloaded navmote unreliable forwarded error prone wireless channels 
remaining organized follows 
section ii serves brief survey pns 
techniques commonly sensors various existing systems reviewed 
describe advantages limitations various techniques discuss limitations overcome combining improving techniques 
particular advent wireless networks opens new perspectives navigation applications 
observations pns developed section iii 
system details including navmote hardware software sensor network middleware services dead reckoning algorithm provided 
experimental results navigation performance section iv 
section concludes 
ii 
pns techniques sensors systems pedestrian navigation systems able tell users current position absolute coordinate system relative landmarks known system 
example gps uses absolute measurement approach 
hand dead reckoning odometry relative measurement approach fundamental idea integrate incremental motion information time 
competing technologies vary greatly range physical characteristics spatial temporal accuracy affected properties environments 
reader referred complementary survey 
common design criteria pns dictate system portable inexpensive little hindrance natural walking pattern 
systems smart environment approach acquire location information environment smart supply location information users special infrastructure enhancing existing communications infrastructure 
examples systems include infrared systems systems various computer vision systems physical contact systems radio frequency rf systems 
large scale wide area cellular network infrastructure global scale gps system establish smart environments provide location information users 
triangulation proximity measuring scene analysis major techniques determine location 
furthermore location information derived communication users instance location adjacency relationships priori knowledge user behavior 
table summarizes properties location technologies representative systems 
systems place burden infrastructure unfortunately operate independent external assets 
systems unstructured environment rely modifying environments fit needs pns 
example military application possible prepare battlefield 
alternatively local sensor methods working right support positioning unstructured environment 
contrast smart environment mobile devices usage environments 
context positioning task performed exploiting set wearable sensors include sensors accelerometer gyroscope electronic compass fluorescent light detector camera temperature sensor commonly wearable sensors discussed detail give clear view roles various systems 
discussion emphasis placed sensor functionality error characteristics 
care taken sensors placement subject 
accelerometer accelerometers gyroscopes called inertial sensors measure rate acceleration rotation respectively 
survey commercially available accelerometers gyroscopes innovative applications 
field robotics center carnegie mellon university provides list commercial sensors 
measurements integrated twice gyroscopes yield position 
inertial sensors advantage self contained need external 
output rate inertial sensors faster gps 
principal application shortfall inertia sensors integration accelerometer gyroscope drift noise results errors accumulate quickly 
theoretical study errors caused noise accelerometer 
recommendations regarding calibration accelerometers prior 
methods kalman filtering employed reduce errors due random bias drift 
dead reckoning dr relying inertial navigation de facto back method generate position absence gps signals 
gyroscopes intrinsic part inertial navigation systems ins accelerometers considered function measuring velocity requirements dr progress development integrated trial product technique accuracy weakness strength active badge active bat diffuse infrared cellular proximity ultrasound time fight lateration room size cm easyliving vision triangulation variable smart floor radar gps pathfinder pocket physical contact proximity rf scene analysis triangulation uplink time difference arrival tdoa radio time flight lateration spacing pressure sensors differential correction sunlight fluorescent light interfere infrared dead spots po compromises user privacy required ceiling sensor grid tightly controlled centralized architecture hard maintain expensive camera processing demanding line sight problem scale high incremental cost performance degradation due noisy license free band multipath fading wireless nics required expensive infrastructure multi path problem mobile phone needed indoors urban canyon high power consumption expensive infrastructure table positioning tracking systems smart environments mechanical systems mems surface technology enabling new form factors price points function 
accelerometers find wide spectrum applications mobile robot land vehicle navigation 
test results mobile robot navigation generally poor due extensive drift poor signal noise ratio lower accelerations 
obtain acceptable performance accelerometers bias accuracies orders magnitude better commonly available today required 
accelerometers sensitive uneven ground disturbance perfectly horizontal position cause sensor detect component gravitational acceleration 
situation lot worse distance measurement pedestrian navigation accelerometer attached subject body 
axis accelerometer pitches rolls walk measurement acceleration heavily affected gravitational acceleration 
way mitigate drift problem take advantage fact zero velocity updates leg swings 
integration inertial measurement performed swing legs velocity errors reset step true velocity zero ins known stationary 
obtain maximum benefit zero velocity updates inertial measurements close ground possible sole heel boot velocity influenced body 
local ground noise coupling foot motion inertial sensors minimized time zero state maximized 
experimental results show accurate distance estimation obtained cost extensive computation careful system calibration extra hardware long wiring foot unit module carried body 
calculate walked distance alternative approach totally avoid integration measurements walk dynamics contained accelerometer signals frequency maximum minimum amplitude ease deployment target orientation information simultaneously usable number different applications unencumbered user intelligent environment cataloging room contents detecting occupants unencumbered user uses existing network consistent performance various environments absolute accuracy case inertial sensors may located waist pack 
people walk vertical movement body step 
intuitive way measure distance walked vertical axis acceleration signal determine steps taken multiply number steps taken average step length 
common algorithm step counting uses manner peak detection 
unfortunately fixed value stride length result low accuracy system 
important feature human walking pattern correlation step length step frequency 
specifically linear relationship step size walking speed apparent relationship breaks person transitions walking jogging running 
simple algebraic manipulation express step size terms step frequency easily computed step detections 
number step models biological characteristics 
detailed account step length estimation models error analysis step length estimate see 
particularly walking speed strongly influences amplitudes acceleration signal 
step length approximated minimum latency simple formula step length amax amin amax amin maximum minimum vertical acceleration single stride constant 
assumption leg lever fixed length foot ground 
model differential acceleration measurement results reduced sensitivity drift 
importantly easier implement online calibration algorithms parameter model multi parameter model cf 

parameter user specific test results show vary person person 
case accelerometer attached subject ankle formula similar derived 
addition velocity distance measurement accelerometers measure degree tilt inclination 
acceleration sensors dc response accurately measure gravitational force 
sensor static quasi static accelerometers indicate roll pitch device 
information useful azimuth calculation electronic compass readings illustrated 
gyroscope gyroscopes measure yaw angular rate picking signal generated electromechanical oscillating mass deviates plane oscillation force effect submitted rotation axis perpendicular plane oscillation 
gyroscopes relatively immune environmental disturbances widely accepted automotive aerospace defense medical industrial applications 
foremost problem gyroscopes errors mainly caused bias drift noise lowcost gyroscopes measurement errors integrate heading errors rate powerful signal processing filtering necessary cancel drift artifacts signal 
excellent discussions nature error sources 
thorough treatment types gyroscopes theoretical experimental evaluation gyroscopes mobile robots provided 
compared accelerometers gyroscopes relatively higher cost larger size higher sensitivity temperature shock making favorable pedestrian navigation 
systems gyroscope directly calculate distance traveled subject 
miyazaki integrated hz high pass filtered piezoelectric rate gyroscope leg determined hip flexion extension angle step length simple step model 
method considers thigh unique segment error reaches subject dependent calibration 
method wavelet transforms proposed compute values step parameters angular velocity lower limbs 
estimation error velocity step length method computationally expensive hard implement micro processor 
gyroscope attached toe compensate rotation accelerometer estimated angular velocity foot integrated estimate pitch angle 
gyroscope located subject waist determined body orientation 
gyroscope operation principle completely different compass plays major role filtering azimuth 
case magnetic disturbance turn gyroscope remains compass indicates turn 
sensors comparing respective azimuth rate change indicate turn time turn considered magnetic disturbance detected 
stage gyroscope output compute azimuth displacement 
data coherent merged kalman filter 
zero velocity updates needed time time order avoid divergence caused integration gyroscope measurements 
electronic compass heading dr navigation solution normally obtained magnetic compass 
earth magnetic field electronic magnetic forward earth fig 

earth field coordinates right heading azimuth inclination angle fig 

compass tilt referenced earth horizontal plane taken sensors provide heading information requiring modification environment 
earth magnetic field component parallel earth surface points magnetic north 
component determine compass direction 
angle magnetic field surface earth called inclination angle see fig 

direction true north magnetic north deviate significantly proper declination angle needs added subtracted correct true north 
declination defined angle true north magnetic north 
declination data locations world wide 
finding compass heading azimuth step process determine hx hy horizontal components earth magnetic field second correct true north declination data 
generally implemented sensor hall effect sensor set orthogonal coils referred compared sensors technology offers cost effective solution 
due higher sensitivity sensors superior hall elements pedestrian navigation 
determination horizontal component earth magnetic field requires implicitly knowledge horizontal vertical plane 
commonly done sensing gravity vector rest accelerometers 
compute azimuth walk constantly compute attitude sensor order correct measured magnetic values scheme called tilt compensation see fig 

magnetic readings transformed horizontal plane hx hy applying rotation equations hx cos sin sin cos sin hy cos sin turns azimuth error depends inclination angle pitch angle azimuth written tan cos tan sin azimuth error inclination angle pitch angle 
relation explains error determining attitude angles affects directly azimuth effect strongly depends azimuth 
tan degree error tilt cause nearly degrees heading error 
complete error model provided 
independently errors earth field compass may superimposed magnetic fields distorted nearby materials 
efficient compensation effects required order achieve reliable azimuth readings 
errors caused deterministic interference sources compensated 
basically deterministic interference categorized types hard iron soft iron effects 
hard iron effects caused objects fixed position respect compass 
example type batteries strongly closeness compass avoided 
soft iron effects occur due distortion earth field materials 
presence human body distorts magnetic field compass 
compensate effects rigorous approach require determination parameters known elevations feasible pedestrian navigation application 
simplified approach consisting determining corrections horizontal plane convenient 
parameters scale factors offset values 
hx hy values compute azimuth hx hx hy hy azimuth atan hy hx hx hy tilt corrected magnetic values 
atan function computes principal value arc tangent hy hx signs arguments determine quadrant return value 
non deterministic error signals package material shield effectiveness magnetic interferences earth magnetic field desirable 
fact lower frequencies harder shield means earth field gets shield 
performance various materials different frequencies source locations summarized shielding effectiveness tables 
steel appropriate material behavior wide range frequencies 
example mm thick steel outside magnetic field hz magnetic interference inside shield times lower 
hand basic pre filtering technique proves effective compensation scheme random disturbances 
compensation methods depend measurements sensors systems gyroscope gps 
continuous knowledge altitude opens possibilities dimensional positioning 
pedestrian navigation altitude changes slopes stairs elevators changes air pressure measured attached human body 
determination altitude changes complicated due facts 
natural air pressure changes weather building conditions 
second air pressure changes slightly vertical movement mb output needs amplified exceedingly 
sensor resolution electrical noise may cause oscillations altitudes flat ground 
third vibration human body change output 
band pass filter bpf constructed reject slowly varying components noisy components signal 
vertical movement derived integrating output bpf calibrating mean value subjects 
estimation error 
improvement sensor resolution possible detecting situations slopes stairs elevators followed appropriate pressure treatment 
barometric station available differential viable 
tests shown precision better cm absolute altitude maintained kilometers station changing weather conditions 
vision sensor vision sensors cameras successfully past provide motion estimates consecutive image frames mobile robot aeronautical applications see 
common computer vision algorithms include mesh modeling classification simple shape fitting feature extraction tracking shape volume approximation 
algorithms computationally demanding unable deliver high quality motion capture data real time current processing power 
vision algorithms suffer lack robustness 
camera rotations image noise cause vision tracking failures instabilities 
operation principle visual odometer incremental stereo ego motion uses stereo vision system correlate common features images briefly described 
features images obtained left right cameras detected matched 
known geometry cameras positions features relative cameras calculated 
displacement distance direction cameras estimated difference position tracked features successive frames 
pedestrian navigation major shortcoming technology cameras attached walking subject wheeled robot helicopter shaking rotations cameras considerably degrade performance feature tracking 
addition cameras find wide spectrum applications augmented reality context awareness navigation system blind 
track orientation recognize locations detect obstacle steps zebra crossings 
images transmitted back human operator navigation service center 
sensors newer inertial devices compact lower precision sensors available years 
group instruments called motion sensors times costly standard ins 
weak standalone accuracy poor run run stability devices usable sole navigation systems 
integration motion sensor navigation system supporting device requires development non traditional approaches algorithms 
sensors useful pedestrian navigation applications including light sensors microphones humidity temperature sensors pressure sensors chemical sensors ultraviolet sensors fluorescent light sensors extracting hz component signal aimed ceiling useful indoor environment 
utility workers find chemical sensors save lives blind appreciate road information provided microphones 
users different situations find set sensors best meets needs 
sole solution discussion clear single tracking technology appears offer complete solution pedestrian navigation 
wide range strengths weaknesses different navigation technologies different circumstances approach combine set complementary technologies ways advantage technology compensates drawback provide acceptable performance 
common practice integrate gps dr kalman filter control navigation error growth 
optimal setting filter parameters trivial requires intensive testing investigations system preferably predefined surroundings trajectories pedestrian needed 
intelligent methods decide fuse data useful 
various methods attempted improve navigation performance dr unusual motions handled analyzing pattern acceleration signals 
addition mechanics walking completely changes slope greater 
step model level longer valid walking slope stairway 
ability distinguish various activities subject sitting level downhill uphill walking jogging helps develop adaptive step length estimation methods 
knowledge environment constraints imposes navigation serve important source information correct inaccuracies system 
concept known map matching 
difficulty reconcile inaccurate locational data inaccurate map 
see 
position information transmitted properly working communication channel especially health care related applications 
appropriate communications function desirable pns 
ultimate goal pns support robust accurate tracking arbitrary environments conditions indoors outdoors user wants go 
worth mentioning type positioning systems different considerations electronic travel aids eta systems 
eta concerned globally directing user desired target local obstacle avoidance 
case commonly technologies include inter alia optical triangulation ultrasonic ranging auditory localization mobile robotics technology active beacon positioning 
new perspectives advancement mems technologies wireless networks consisting tiny sensor devices hold promise sensing wide range application domains flexibility low cost ease deployment 
common devices today berkeley motes manufactured crossbow integrate computation communication sensing single small device 
peer peer networks scale thousands devices emerge advanced behavior 
motes run operating system called tinyos fosters event execution model supports flexible component modules 
constrained computation power battery power storage capacity communication bandwidth tiny devices pose challenging problems design deployment systems 
exciting application provided wireless sensor networks distributed detection tracking moving objects 
central idea utilize decentralized processing network build better picture going locally reporting results centrally 
notion relies collaboration sensors reduces false alarms avoids sending sensor measurements back centralized processing unit 
accurate personnel vehicle tracking achieved wireless sensors 
magnetometer sensors micro power impulse radar mir sensors detect classify track various types objects variety applications 
emphasis placed location aware data routing conserve system resources energy bandwidth 
project wireless sensor network unique way pedestrian navigation mainly communication network 
envisioned wireless sensor networks integral part live personal computers 
addition accurate position users known pns 
characteristics mobile environments enable development generally context sensitive applications 
wireless link fig 

system architecture navmote mote network wlan rs wireless link map database gui iii 
navmote system description overview objective system involves dead reckoning module dr module self organizing wireless ad hoc networks sensor mote network information center map database 
dr module consists dmc sx axes accelerometer magnetic compass ag married generic wireless controller board radio processing power storage integrated 
controller board dr module network nodes open source berkeley motes tinyos operating system 
network plays critical role navmote calibration trajectory data collection 
information center responsible trajectory generating displaying map matching purposes 
specific objective demonstrate effectiveness architecture shown fig 
feasibility building navmote hardware software cooperates sensor network mote network middleware 
power network comes ability navmote communicate may come range 
network commercially popular grow 
vision shared system design bring wireless sensors everyday life 
note application differentiates traditional sensor network applications ways see detailed discussion 
side system mainly track monitor user position potential security applications provide high level interactive travel aids systems interested reader referred 
particular navmote maintain kind rough position estimate contact network 
information center computes accurate pedestrian trajectory information relayed back navmote 
necessary navmote reset new tracking task wireless telemetry starting new initial position known information center 
design means restrictive positioning core functionality navigation systems system augmented user know position 
berkeley mote fig 

navmote hardware interface board flash memory serial protocol buffer serial protocol dmc sx technical approach navmote hardware software navmote uses special mobile sensor mote collect data process data automatically downloaded mote network proximity 
fig 
shows building blocks navmote digital magnetic compass interface board berkeley mote 
manufacture housing case 
separated components battery placed pocket subject 
resulting design allows substantial cost saving flexibility change components considerable redesign efforts 
navmote compact shown fig 

weight including battery navmote unobtrusive fixed middle waist subject 
sequel axes denote forward right directions navmote respectively 
core navmote digital magnetic compass dmc sx consists mems accelerometers producing azimuth accuracy sigma accelerometer range range typical resolution 
dmc weighs measures mm 
incorporates amplification signal conditioning temperature compensation internal voltage regulation small package 
dmc outputs accelerations magnetic field directions compute azimuth bank elevation 
accelerations detect step events 
dmc functions volts mote volts 
devices operating period depends sensor power saving mode 
navmote works lithium volt battery hours continuously 
navmote incorporates berkeley mote provide processing power temporary storage communications network 
central processor atmel mega bit processor running mhz 
microcontroller kb programmable flash memory kb external flash memory 
mote provides radio communication mhz 
radio channels capable transmitting data rate range ft radio transmission range may affected ground absorption effects 
interface board mb flash memory circular buffer miscellaneous components 
pin connector interface mote 
sensor data tri axial magnetic tri axial dmc sx dmc sx interface board flash memory antenna power cord mica board connector fig 

inside view navmote acceleration stored mbytes flash memory allows operation time hours sampling frequency hz 
circular buffer structures task driven write read processes minimize blocking interrupt driven processes 
navmote works away 
range navmote exchange information 
example pre processed sensor data download navmote 
hand transmit calibration data navmote 
preliminary data processing performed onboard navmote just sending data network 
fifo buffer stores samples data come dmc sx 
sampling data buffer analyzed detection extremum points maximum minimum detection axis acceleration signal 
extremum detected data buffer averaged transmitted measurements 
transmission data associated extremum points greatly reduces amount data needs downloaded network 
results great energy saving energy cost transmitting single bit order magnitudes expensive executing single instruction 
detailed description trajectory reconstruction algorithm subsection iii 
network middleware services navmote downloads trajectory data network stationary net motes logged eeprom 
stream logged data accessed user reconstruct subject trajectory 
software supporting application communication network called middleware 
essentially middleware software lies application operating system services providing highlevel abstraction network communication easily application services 
software supporting pedestrian navigation application written tinyos nesc 
software organized stack see fig 
consisting layers application middleware operating system os layers 
primary application services 
services 
coordinator service manages interaction application services 
dump service downloads trajectory data navmote eeprom 
service streams data eeprom network base station 
primary middleware services 
services 
ping navmote uses service determine vicinity 
backbone service builds maintains robust minimum hop spanning tree 
clock synchronization service maintains global clock variable nodes network 
localization service initializes maintains variable representing physical position 
telemetry service periodically sends packets network backbone 
telemetry packets contain information network current configuration 
service build picture routes connectivity entire network 
os services software components interfacing directly mote physical resources uart radio sensors clock random number generator eeprom logger 
services middleware layer responsible setting maintaining network infrastructure required recover data navmote flexible reliable fashion 
soon reset starts middleware services specific order 
clock synchronization localization services started order initialize mote clock location variables 
services stabilized signal issued starts backbone service 
service automatically builds minimum hop spanning tree 
service designed detect changes link quality adversely effect network connectivity 
detecting changes backbone service reconfigures spanning tree restore network connectivity 
backbone service stabilized issues signal starts telemetry service 
telemetry service simply sends packets provide user global view network connectivity 
application layer dump middleware layer backbone telemetry localization operating system layer coordinator ping radio clock uart rand logger sensor fig 

software stack consists layers navmote uses ping service find network 
finding network uses application layer dump service download trajectory data network 
dump service works opportunistic manner dumping data possible nearest available eeprom 
download switches download original dump stream interrupted 
having multiple store data desirable single may eeprom store trajectory data subject may moving close closer different 
service transmit data logged eeprom 
coordinator ensures dump service operate mutually exclusive manner 
way service download navmote stopped 
starting service begins reading data stored eeprom storing line buffer 
buffer full service issues request send rts nexthop backbone spanning tree 
nodes sender hop hearing rts immediately set dormant state establishing basic service cell bsc sender hop communicate little interference 
receiving clear send cts hop service begins transmitting buffered data line line hop 
transmitted line explicitly acknowledged ack hop 
sender ack nexthop expected message issue clear clr message resets basic service cell ready rts message 
service essentially streams data logged data 
observed transmission rates mica motes lines data bytes line minute link 
trajectory data transmitted service follows spanning tree telemetry service packets 
final destination accelerometer enhanced trajectory map matching heading step detection step length estimation sensor network dead reckoning trajectory fig 

signal flow wireless assisted dead reckoning algorithm message streams 
caught packets forwarded uart pc running java graphical user interface gui called 
gui displays telemetry packets forwarded network 
data contained packets allow gui display navmote position neighborhoods 
data allows gui display routes connectivity 
dumps decoded data packets file subsequent postprocessing 
help monitor operations network listener necessary 
listener interfere network operations data packets sent navmote dumps decoded packets file 
file contains raw data navmote downloaded network compared file received diagnostic purpose 
listener displays location coded provides controls restart adjust radio power 
sensor mote network mainly communication network project framework allows easy extension 
network middleware provides method situ calibration berkeley sensors 
sensor mote network localization services provide absolute position fixes transmitted navmote 
position fixes smoothed raw data provide auto calibration navmote sensor field 
wireless assisted dead reckoning algorithm approach dr acceleration signal pattern detect step occurrences magnetic compass provide continuous azimuth information 
simplified kinematic model person gait walked distance provided summing size step step count 
static dynamic calibrations essential compensating azimuth error caused body offset walking 
dr combined wireless telemetry map matching improve navigation performance 
currently sensor network provides initial position fix navmote map matching automated executed human operator 
fig 
illustrates signal flow algorithm 
step count step length estimation require normalized acceleration raw fir filtered acceleration signal fir filtered acceleration signal raw acceleration signal axis time fig 

raw acceleration signal solid vs fir filtered acceleration signal dashed accurate robust step detection method 
show step reliably detected acceleration signal axis 
due complicated walking dynamics raw signal az double triple peaks step shown fig 

normal walking natural frequency hz turns low pass fir filter simply moving average applied smooth az 
filter output az calculated az az sampling time 
general recommended user limit bandwidth lowest frequency needed application maximize resolution dynamic range accelerometer 
fig 
demonstrates pseudo peaks removed az resulting smoother signal az 
extreme values az conventional extremum detection algorithm 
fig 
shows extremum points detected simply checking sign order backward difference signal az sgn az az 
detection rule sign changes positive negative local maximum sign changes negative positive local minimum 
rule chosen facilitate realtime extremum detection 
extremum data points recorded resulting factor data reduction 
sampling frequency hz extremum points recorded second assuming step frequency hz 
false detections observed rule avoided checking additional conditions maximum minimum acceleration threshold values time maximum minimum detection greater minimum period maximum minimum detection alternate 
conditions true system increases step count records maximum minimum acceleration amplitudes 
acceleration false detection pre processed acceleration data time fig 

false detections simply checking sign order backward difference az subject leg length nominal value table ii constant factor different subjects extrema detected step length calculated 
technique shown measure distance walked subject variety subjects different leg lengths see tables ii iii iv 
close coupling accelerometer body important maintain accuracy 
note biased distance estimation table iv caused artificial track surface generally results percent higher acceleration amplitude walking surface 
experimental results demonstrate factor set constant subject large accuracy penalty 
gps wireless sensor networks subject normal slow fast table iii estimate distance different walking patterns straight walking cement sidewalk est 
dist err 
err 
err 

tilt 
total 
mean std table iv dead reckoning performance mean standard deviation calculated tests walking normally olympic stadium acceleration acceleration signals max min occurrence instant time fig 

amplitudes change subject changes pace compass signals moving average fig 

compass data low passing filtering localization capability combined obtain accurate step length estimation 
normal slow fast walking different surfaces 
fig 
reports amplitudes filtered acceleration signal change subject changes pace slow walking fast walking 
expected step length differs different 
generally shorter distance obtained fast walking larger variance obtained soft surfaces 
errors mainly result violation assumption leg fixed length 
adaptive algorithm learns user walking characteristics improve accuracy significantly 
main source error dr comes errors azimuth determination 
low pass filtering compass data proves effective removing random disturbances shown fig 

addition dynamic tilt static calibrations needed compensate compass errors dynamic tilt calibration dynamic calibration necessary compensate individual errors caused walking 
low pass filtering acceleration signals eliminates typical oscillations walking 
filtered vs fig 

body effect magnetic values tion signals estimate pitch roll angle navmote 
pitch roll angles provide attitude values find horizontal projection plane 
steps compute tilt compensated magnetic values hx hy follows moving average raw compass readings get moving average raw acceleration signals ax ay az get compute wx wy wx compute hz wx wy wz hy wy wz hx wx hz static calibration axis magnetic sensor rotated horizontal plane disturbances output plot hx vs hy form circle centered origin 
human body distort circle resulting ellipsoid centered origin plotted fig 

plot data collected subject walking small circle 
method proposed slight modification determine offset scale factor values 
max hy hy hx hx max hx hx hy hy hx hx hx hy hy hy hx hx hy hy th percentile th percentile hx hy obtained calibration experiments respectively 
factor introduced avoid compensation 
azimuth calculated 
declination angle applied adjust magnetic north true north 
effect total calibration dynamic static calibration shown table iv 
heading error north tilt total east fig 

effects azimuth calibration obtained total calibration compared heading error calibration 
fig 
depicts effects different calibration phases 
step length heading estimation hand entire trajectory reconstructed piecing segments displayed map region 
implementation step detection done navmote computations done workstation connected 
stage map matching automated done human operator prior information match pieces estimated trajectory certain features maps wall boundaries building entrance indoor environment satellite photos outdoor environment 
adjustable parameters starting positions step size factor compass offset values 
detailed discussion map matching algorithms scope 
refer reader 
iv 
navmote field experiments system examined indoor outdoor environments 
experimental results show navigation performance satisfactory provided indoor environment hostile navmote terms magnetic disturbances 
fig 
shows trajectory odd hook subject went inside room hall university notre dame 
attractive features gait model works frequently changing walking patterns 
fig 
shows subject went doors building 
generated stopping open doors easily identified 
events separate seconds 
difficult step frequency step length models correctly estimate step length events accurate step frequency obtained time 
experiment took place olympic stadium 
subject circled track times 
shown fig 
starting point point error trajectory fig 

test outdoor indoor environments step length open st door open nd rd doors time fig 

subject went doors building 
stepsize generated stopping open doors 
total distance 
operation time experiment minutes demonstrating reproducibility tracking error short operation time 
system tested swamp terrain 
subjects took minute minute walks test course 
subjects returned vicinity sensor mote network data automatically network 
data received processed generate subject trajectory 
trajectory plotted aerial view area shown fig 

offset scale factor boxes provided gui human operator manipulate values get enhanced tracking performance human knowledge environment 
describe development pedestrian navigation system uses axes accelerometer magnetic compass berkeley north east fig 

repetitions trajectory olympic stadium fig 

minute walk swamp terrain letters nd clearly seen motes 
implementing innovative commercial theshelf cots approach direct alternative traditional methods project development 
summarize system functional point view 
navmote software implements compensation adverse sensor orientation calibration filtering collection data sensors storage nonvolatile memory retrieval data memory processing transmission detection sensor mote network data download pre processing raw sensor data data download 
sensor mote network services provide synchronization establishes global time backbone generation establishes min hop routes streaming service streams large blocks data download service streams large blocks data navmote 
trajectory post processing implements java programs pc connected reassembly data packet compensation missing data reconstruction complete trajectory display trajectory area map 
satisfactory system performance obtained distance accuracy subject heading accuracy download time navmote minute data file minutes download time time minute data file minute time size currently limited sensor battery sizes system performed plenty room improvement 
outdoor environments typically pose problems developed dr algorithm indoor passages may critical 
mainly due method heading determination relying magnetic azimuth measurement 
way solve problem integrate gps gyroscope magnetic compass 
addition download time need reduced improvements navmote hardware software network middleware 
latest design slave processor added perform sensor acquisition algorithm memory management data pre processing tasks differential data compression 
speed download greatly reduced 
minute walk seconds download time navmote network seconds time typical 
number practical challenges remain including network security privacy authentication mobility management provisioning key services 
believe development offers vision mobile environments may emerge ubiquitous wireless coverage available 
abbott powell land vehicle navigation gps proc 
ieee vol 
pp 

weinberg adxl personal navigation applications application notes analog devices online 
available www analog com application notes pdf akyildiz su wireless sensor networks survey comput 
networks vol 
pp 

kanade fujita visual odometer autonomous helicopter flight robotics autonomous syst vol 
nos 
pp 

ph 
robert schutz level downhill uphill walking identification neural networks electronics letters vol 
pp 


ph 
robert spatiotemporal parameters gait measured ambulatory system miniature gyroscopes vol 
pp 

aoki real time personal positioning system wearable computers trans 
info 
processing society japan vol 
pp 

kr ger bag navigator bbn advanced pedestrian navigation system aims nottingham uk 
available cs uni sb de aims pdf bahl russell wang balachandran voelker miu pawns satisfying need ubiquitous secure connectivity location services ieee wireless commun vol 
pp 

durrant whyte inertial navigation systems mobile robots ieee trans 
vol 
pp 

bat ultrasonic location system laboratories cambridge online 
available www uk research att com bat benjamin laser cane bulletin research pp 

bieber personal mobile navigation systems design considerations experiences comput 
graphics vol 
pp 

borenstein everett feng mobile robot positioning sensors techniques robotic syst vol 
pp 

borenstein experimental evaluation fiber optics gyroscope improving dead reckoning accuracy mobile robots proc 
ieee int 
conf 
leuven belgium pp 

brooks ramanathan distributed target classification tracking sensor networks proc 
ieee vol 
pp 

cannon nayak low cost ins gps integration concepts testing navigation vol 
pp 

application sensors navigation systems sensors actuators sae sp pp 

cho park modeling error compensation walking navigation system trans 
korean inst 
electr 
eng vol 
pp 

scott positioning gsm telephones ieee comm 
mag vol 
pp 

mcgee know ieee spectrum vol 
pp 

see www fcc gov enhanced inertial navigation urban proc 
spie vol 
pp 

everett sensors mobile robots theory application 
peters wellesley ma 
fang antsaklis sun fang xie xie wireless dead reckoning pedestrian tracking system boston ma 
available epfl ch luo files pdf farrell global positioning system inertial navigation new york mcgraw hill 
list commercial sensors cmu 
online 
available www frc ri cmu edu robotics faq html centralized kalman filter augmented gps pedestrian navigation proc 
ion gps salt lake city ut pp 

balachandran brunel navigation system blind proc 
ion gps salt lake city ut 
gartner location mobile pedestrian navigation services role multimedia cartography tokyo japan available www net html papers gartner pdf gartner location technologies pedestrian navigation gis development 
online 
available www net magazine years apr location htm hashimoto development navigation system visually impaired persons proc 
rd annual embs int 
conf istanbul turkey pp 

hightower borriello location systems ubiquitous computing computer vol pp 

hill culler mica wireless platform deeply embedded networks ieee micro vol 
pp 

horton broad pister sastry whitaker deployment ready wireless sensor networks intrusion detection classification tracking proc 
spie vol 
pp 

takano kalman filter estimate direction navigation proc 
ieee rsj int 
conf 
multisensor fusion 

syst washington dc pp 

balachandran method dead reckoning parameter correction pedestrian navigation system ieee trans 

meas vol 
pp 

balachandran visual odometer pedestrian navigation ieee 
meas 
tech 
conf anchorage ak pp 

judd personal dead reckoning module ion gps kansas city mo pp 

ppi mems pedestrian navigator handheld devices ion gps salt lake city ut 
portable traveling support system image processing visually impaired proc 
int 
conf 
image processing thessaloniki greece pp 

kaplan ed understanding gps principles applications 
artech house 
kay sonar aid enhance spatial perception blind engineering design evaluation radio 
electron 
eng vol 
pp 

kim jang 
hwang park step stride heading determination pedestrian navigation system global positioning syst vol 
pp 

konishi development autonomous personal positioning system proc 
asia gis 
krumm harris meyers brumitt hale shafer multi camera multi person tracking easy living rd ieee int 
workshop visual surveillance dublin ireland pp 

krumm williams smith graph inexpensive active badge tracker proc 
ubicomp teborg sweden pp 

krumm probabilistic inferencing location ubicomp workshop location aware computing seattle wa 
foot navigation continuous step calibration complementary recursive prediction adaptive kalman filtering proc 
ion gps salt lake city ut pp 
van sokolowski sagan digital magnetic compass gyroscope soldier position navigation nato rto meetings istanbul 
step ins gps world oct 

lee mase recognition walking behaviors pedestrian navigation proc 
ieee conf 
contr 
mexico city september pp 

lee mase adachi nakano kobayashi pedestrian tracking gps magnetic compass trans 
ieice vol 
pp 

navigation systems pedestrians basis various value added service ion gps salt lake city ut 
dmc sx digital magnetic compass operator manual ag switzerland 
koski personal positioning wireless assisted gps low cost ins proc 
ion gps salt lake city ut pp 

koski ppi error analysis step length estimation pedestrian dead reckoning proc 
ion gps portland 
liu zhao hung high accuracy magnetic heading system composed microcomputer proc 
ieee national 
electron 
conf 
dayton oh pp 

lobo lucas dias de almeida inertia navigation system mobile land vehicles ieee int 
symp 
ind electron athens greece pp 

wan quartz rotational rate sensor inertial applications proc 
ieee 

conf aspen pp 

margaria biomechanics muscular exercise 
oxford clarendon press 
developing navigation system visually impaired optical beacons proc 
rd annual embs int 
conf pp 

narayanan distributed detection tracking sensor networks asilomar conf 
signals syst 
comput pacific groove ca pp 

miyazaki long term measurement stride length walking velocity utilizing piezoelectric gyroscope ieee trans 
biomed 
eng vol 
pp 

se brady lee stereo aid visually impaired image vision computing vol 
pp 

murray wearable computers battle advances land system proc 
th int 
symp 
wearable comput atlanta ga pp 

magnetic declination national data center 
online 
available www noaa gov seg declination shtml orr abowd smart floor mechanism natural user identification tracking proc 
conf 
human factors computing systems chi hague netherlands pp 

ott noise reduction techniques electronic systems nd ed 
john wiley sons pp 

li 
kel indoor geolocation science technology ieee comm 
mag vol 
pp 

park srivastava chen muntz yuen design wearable sensor badge smart proc 
sixth int 
symp 
wearable comput seattle wa pp 

gps pathfinder pocket receiver 
online 
available www com html bahl padmanabhan radar building rf user location tracking system proc 
ieee infocom pp 

multi sensor systems pedestrian navigation proc 
ion long beach ca 
rogers land vehicle navigation filtering gps system proc 
national technical meeting institute navigation santa monica ca pp 

olson matthies schoppers stereo ego motion improvements robust rover navigation proc 
icra seoul pp 

johnson montgomery augmenting inertial navigation image motion estimation proc 
icra washington dc pp 

starner finding location omnidirectional video wearable computing platform th int 
symp 
wearable comput atlanta ga pp 

russell travel path proc 
rotterdam mobility res 
conf 
new york amer 
foundation blind 
satoh non restrictive measurement walking distance ieee int 
conf 
smc pp 

se brady vision detection steps eighth british mach 
vision conf colchester pp 

se zebra crossing detection partially sighted proc 
ieee conf 
comput 
vision pattern recog hilton head island sc pp 

sekine tamura classification signals continuous walking record med 
eng 
phys vol 
pp 

borenstein koren computerized travel aid blind mobile robotics technology ieee trans 
biomed 
eng vol 
pp 

keyes human motion navigation algorithm development ieee position location 
symp san diego ca 
song ha lee inertial sensors proc 
ieee rsj iros south korea pp 

stanford pervasive computing deliver elder care ieee pervasive computing vol 
pp 

starner kirsch swarm environmentally powered location messaging system int 
symp 
wearable comput pp 

starner wearable computing contextual awareness ph thesis mit 
wick bishop small inertial sensors miniature autonomous underwater vehicle proc 
ieee int 
conf 
contr 
mexico city pp 

stork electronic compass design philips semiconductors germany 
online 
available www semiconductors philips com acrobat download compass pdf takahashi osawa long term ambulatory monitoring system walking behaviors human proc 
spie pp 

tinyos component os networked sensor regime 
online 
available webs cs berkeley edu tos hayes gill dependence inertial measurements distance accelerometer noise meas 
sci 
technol vol 
pp 

wireless location technology 
online 
available www com inertial proprioceptive devices self motion sensing toys tools ibm syst 
vol 
nos 
pp 

want hopper falcao gibbons active badge location system acm trans 
info 
syst vol 
pp 

weston modern inertial navigation technology application electron 
commun 
eng 
vol 
pp 

white electromagnetic shielding materials performance nd ed 
don white consultants 
white bernstein map matching algorithms personal navigation assistants transport 
res 
part pp 

neumann azuma hybrid inertial vision tracking augmented reality registration proc 
ieee virtual reality tx pp 

lei fang received degree electrical engineering university china degree electrical engineering university macau macau 
currently working ph degree department electrical engineering university notre dame 
research interests include decentralized control multi agent systems information flow constraints sensor networks optimization theory algorithms applications control manufacturing systems 
panos antsaklis sm professor electrical engineering director center applied mathematics notre dame 
includes analysis behavior design control strategies complex autonomous intelligent systems 
research focuses networked embedded systems addresses problems interdisciplinary research area control computing communication networks hybrid discrete event dynamical systems 
authored number publications journals conference proceedings books edited books intelligent autonomous control hybrid systems 
addition authored research monograph supervisory control discrete event systems petri nets moody graduate textbook linear systems michel 
guest editor special issues tac proceedings ieee 
served chair major systems control conferences president ieee control systems society css 
recipient ieee distinguished member award css ieee third millennium medal recipient 
currently serves chair awards committee css ieee tac 
luis member ieee received degree electrical engineering catholic university lima 
received degree electrical engineering university notre dame notre dame ph 
currently president llc specializing design implementation wireless networked control systems 
worked design implementation industrial environmental military oriented networked embedded systems 
research interests include networked control sensing systems real time embedded systems 
brett received degree mechanical engineering university utah ut ph degrees university notre dame 
currently working honeywell az 
current vibration control systems attitude control systems symmetry analysis 
michael professor electrical engineering university notre dame 
received ph electrical computer engineering carnegie mellon university 
associate editor ieee transactions control systems technology 
dr primary research interests area control theory including hybrid control systems supervisory control discrete event systems 
currently studying decentralized control detection estimation ad hoc sensor actuator networks 
sun received degree electrical engineering china 
currently working ph degree electrical engineering university notre dame 
research interests include estimation formation control problems multiple robotic vehicle systems 
hui fang born province china 
got degree department automation university science technology china degree electrical engineering university notre dame 
working ph degree area distributed control systems networked control system communication constraints 
ioannis received degree electrical computer engineering university patras patras greece degree electrical engineering university notre dame 
currently leave absence university notre dame 
research professional interests include networked control combined wireless communications web technologies 
martin sm received dipl 
ing 
sc 
degree electrical engineering swiss federal institute technology zurich ethz 
joined signal information processing laboratory ethz teaching research assistant 
earned dipl 
nds eth post diploma degree information technology completed ph thesis analysis design optimization cellular neural networks 
postdoctoral year electronics research laboratory university california berkeley joined faculty electrical engineering department university notre dame assistant professor january 
sc 
ph theses awarded eth medal received nsf career award 
distinguished lecturer ieee circuits systems society 
scientific interests include networking wireless communications emphasis ad hoc sensor networks 
min xie received degrees electrical engineering university xi china respectively degree electrical engineering national university singapore singapore 
currently working ph degree electrical engineering university notre dame 
research interests include qos guarantees performance analysis wireless networks 
xie born china 
received degree electrical engineering chinese academy science china 
currently working ph degree electrical engineering university notre dame 
worked software engineer technologies china 
current research interest area networked control systems 
