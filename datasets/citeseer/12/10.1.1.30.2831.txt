depth discontinuities pixel pixel stereo stan birchfield carlo tomasi department electrical engineering department computer science stanford university stanford university stanford california stanford california birchfield cs stanford edu tomasi cs stanford edu proceedings ieee international conference computer vision bombay india algorithm detect depth discontinuities stereo pair images 
algorithm matches individual pixels corresponding scanline pairs allowing occluded pixels remain unmatched propagates information scanlines means fast postprocessor 
algorithm handles large untextured regions uses measure pixel dissimilarity insensitive image sampling prunes bad search nodes increase speed dynamic programming 
computation relatively fast microseconds pixel disparity workstation 
approximate disparity precise depth discontinuities horizontal vertical boundaries shown stereo images containing textured untextured fronto parallel slanted objects 
cartoon artists known perceptual importance depth discontinuities long time 
create illusion depth paint character background different layers careful ensure crisp delineation character 
similarly human stereo vision depth discontinuities perceived help carve distinct objects elucidate distance relations 
method detecting depth discontinuities stereo pair images 
approach inverts traditional role stereo algorithm knowledge depth discontinuities compute disparity accurately compute rough disparity map order get crisp discontinuities 
previous algorithms algorithm uses form dynamic programming match epipolar scanlines independently detecting occlusions depth discontinuities simultaneously disparity map 
postprocessing step propagates information scanlines supported nsf iri aro muri daah aro nsf graduate student fellowship gift charles lee powell foundation 
refine disparity map depth discontinuities 
process windows preprocessing intensities matching individual pixels image pixels image 
stereo algorithm approach contains novelties 
image sampling problem overcome measure pixel dissimilarity insensitive sampling 
secondly algorithm handles large untextured regions challenge existing stereo algorithms 
search nodes pruned reduce dramatically running time dynamic programming 
combination avoiding subpixel resolution pruning bad nodes fast postprocessing results efficient algorithm takes microseconds pixel disparity workstation making candidate real time implementation 
stereo formulation section formulate stereo problem describe cost function 
pixels image explicitly matched pixels image occluded pixels remain unmatched 
correspondence encoded match sequence match ordered pair pixels signifying intensities images scene point 
denotes pixel left scanline denotes pixel right scanline 
unmatched pixels occluded subsequence adjacent occluded pixels bordered non occluded pixels non occluded pixel image boundary called occlusion 
example match sequence extremely short scanline shown 
disparity ffi pixel left scanline matches pixel right scanline defined usual way gamma disparities pixels occlusion assigned disparity farther neighboring objects 
depth discontinuity pixels labelled pixels border change occlusions correspond roughly belhumeur half occluded regions 
delta delta delta delta phi phi phi phi phi phi phi phi phi phi phi phi phi phi phi phi phi phi phi phi gamma gamma gamma gamma pixel match sequence middle matches correspond near object 
levels disparity lie far object 
expense losing true depth discontinuities threshold allows handle slanted objects explicitly detecting slant 
cost function match sequence associate cost fl measures describes true correspondence 
deriving maximum posteriori map cost function bayesian formulation done propose simple cost function justified solely empirical evidence 
cost match sequence defined constant penalty occlusion constant reward match sum dissimilarities matched pixels fl occ occ gamma nm nm occ constant occlusion penalty constant match reward dissimilarity pixels occ nm number occlusions number occluded pixels matches respectively cost function prefers piecewise constant disparity maps 
possible object assigned single disparity object depth varies actuality case cylindrical surface 
behavior sacrifices accurate scene reconstruction facilitates precise localization depth discontinuities change disparity object boundaries case objects cylinders depth tapers ends 
addition simplicity cost function easy understand implement evaluate 
occlusion penalty match reward technically occ interpreted amount evidence terms mismatched pixel intensities necessary declare change disparity interpreted maximum amount pixel dissimilarity generally expected matching pixels 
terms act occlusion penalty dependent length occlusion 
keep terms separate constant occlusion penalty central method pruning search space described section 
implementation occ measured gray levels 
pixel dissimilarity term measures images scene point 
dissimilarity measured simply difference done image sampling cause difference large vicinity intensity edges 
typically problem alleviated working subpixel resolution adding robustness window matching 
subpixel resolution computationally expensive algorithms explicitly search possible disparities windows degrade precision depth discontinuities depth discontinuities violate fundamental assumption windows 
propose linearly interpolated intensity functions surrounding pixels measure dissimilarity method provably insensitive sampling 
understand dissimilarity measure detail consult shows intensity functions incident corresponding scanlines left right cameras respectively 
functions sampled discrete points image sensor adjacent points pixels shown scanline 
discussion chosen pixels dissimilarity measured 
define linearly interpolated function sample points right scanline 
try measure intensity fits linearly interpolated region surrounding define quantity min gamma yy ji gamma dissimilarity pixels computed minimum quantity symmetric counterpart minf definition symmetrical 
extreme points piecewise linear function breakpoints computation straightforward 
see 
compute gamma gamma gamma linearly interpolated intensity halfway neighboring pixel left analogous quantity gamma max min gamma gamma definition computation 
ir 
min min gamma max max gamma 
quantities defined maxf gammai max min gammai computation takes small constant amount time absolute difference intensities 
quantity insensitive sampling sense noise distortions closest sampling point value corresponding restriction continuous intensity function incident sensor concave convex vicinity interested readers find theorems proofs 
practice inflection points cause problem regions surrounding approximately linear linear functions concave convex 
cost function works long intensity function varies slowly compared pixel spacing sensor long aliasing occur 
slightly defocus lens ensure condition 
contrasts dissimilarity measure absolute difference intensity 
intensity function nearly constant disparity scanlines close integral number pixels approaches yield similar results sampling effects negligible 
remaining areas absolute difference large measure remains behaved 
hard constraints addition measuring likelihood match sequence cost require match sequences satisfy certain constraints 
set constraints enables algorithm handle untextured regions second set facilitates systematic efficient search 
intensity variation accompanies depth discontinuities ambiguity untextured regions stereo algorithms require texture images 
fact uncommon scene artificially altered placing textured background objects pixel intensity pixel right scanline dissimilarity gray levels pixel right scanline absolute difference gray levels top portion match sequence 
viewing clarity left scanline shifted right scanline shifted right 
middle dissimilarities matched pixels computed measure 
values zero 
bottom dissimilarities computed absolute value difference intensity 
interest order scene amenable particular stereo tested 
demonstrate untextured nearly fronto parallel surfaces handled quite nicely long assumption remains true intensity variation accompanies depth discontinuities 
similar assumptions 
threshold declaring intensity variation small trying place depth discontinuities strong intensity edges merely preventing cost function making poor decision region information 
previous algorithms exploited full potential assumption 
assumption constrain depth discontinuity lie near intensity variation specifies side variation discontinuity lie 
see note intensity variation occurring depth discontinuity result intensity difference near object far object disparity near object see 
fact hard see realizes physical origin intensity variation boundary near object regardless geometry far object 
intensity variation declared roughly follows set adjacent pixels difference maximum minimum gray levels 
think weak intensity edge 
camera black wall white wall left right camera occluded pixels variation occluded pixels variation assumption change intensity boundary near far objects intensity variation lie right occlusion left scanline 
top physical setup 
middle match sequence appears feasible violates assumption 
bottom match sequence consistent assumption 
fore camera moves laterally intensity variation moves projection near object 
example notice pixels left scanline occluded far object projection left near object 
occluded pixels come far object intensity variation part near object occlusion lie immediately left intensity variation 
likewise occluded pixels right scanline lie immediately right intensity variation 
require occlusion accompanied intensity variation appropriate side 
constraints related search stereo algorithms impose limit amount disparity allowed ffi delta 
enable dynamic programming impose monotonicity constraint forbid simultaneous left right occlusions constraint equivalent requirement match theta theta theta theta theta theta theta theta search grid match sequence theta cells 
matches white cells immediately precede match striped cell 
matches immediately follow match 
matched 
searching epipolar scanlines structure cost function technique dynamic programming find optimal match sequence conducting exhaustive search 
illustrates search grid scanlines having pixels maximum disparity pixels delta 
disparity limit cells grid disallowed shown black cells 
algorithm searches best possible path stretching left hand side right hand side 
example match sequence shown cells marked theta 
notice column row contain theta corresponds occluded pixel 
dual optimal algorithms standard dynamic programming algorithm find best path iterating cells search grid computing best path cell 
equivalent algorithm computes best paths cell 
time cell encountered paths cell possible cells computed 
example cell cells 
path better previously computed path path updated 
basically looking backward cell looks forward 
concept tricky explain hard understand 
algorithm important computation identical standard algorithm 
standard algorithm worth cell known computation performed cell 
contrast alternate algorithm best informally terms path match sequence interchangeably terms cell match 
optimality retained rightward expanded assuming fl fl 
path cell computed cell expanded 
search space pruned refusing expand cells best path 
faster algorithm consider match possible match right occluded pixels shown 
suppose match left row best path lower cost 
possible preceding match evident best path better best path occlusion penalty constant 
need expand matches row possible preceding match 
similar argument conclude fruitless expand matches adjacent column lower cost match 
light observations algorithm sacrificing optimality refuse rightward expand match lower cost match left downward expand match lower cost match 
running time reduced difficulty determining lower cost match left match 
algorithm refuses rightward expand match lower cost match row downward expand match lower cost match column 
pruning brings running time delta number pixels scanline approximately delta log delta evident 
propagating information scanlines processing scanlines independently computationally attractive straightforward formulate take advantage dependence disparities scanline 
common way incorporate information extend dimensional cost function dimensional cost function minimized 
minimizing function computationally efficient manner straightforward standard algorithm pruning algorithm computing time seconds maximum disparity pixels computing time vs delta algorithm solid standard algorithm dashed 
task 
extension uncommon computing time increase 
result approaches avoid extension altogether 
devised method postprocessing disparity map propagating reliable disparity values regions unreliable disparity values 
postprocessing global nature quite effective propagating background disparities regions little intensity variation 
fast increasing processing time 
pixel assigned level reliability determined number contiguous pixels column agreeing disparity 
idea disparities pixels adjacent rows computed independently agree correct case described shortly 
pixels quantized categories category subsumes previous ones slightly reliable moderately reliable highly reliable 
think moderately reliable pixels aggressive changing values neighbors slightly reliable pixels defensive resisting change 
moderately reliable pixel propagates column changing disparities pixels encounters reaches intensity variation slightly reliable region lower disparity 
regions higher disparity overrun matter reliability reliability indication disparities correct background little intensity variation 
example initial processing rows incorrectly agree lamp concavity assigned disparity lamp 
distinction moderately highly reliable pixels allowed overrun neighbors change disparity just pixel 
rule preserves slanted surfaces table boxes figures 
pixels propagated columns process repeated rows 
reliability determined number contiguous pixels row agreeing disparity disparities propagated horizontally 
step theoretical justification previous helps fill remaining gaps 
vertical horizontal propagation step begun disparity map cleaned removing isolated disparity values surrounded values agree propagation steps finished disparity map cleaned mode filtering 
experimental results results algorithm stereo pairs shown 
images taken single camera lens slightly remove aliasing translated baseline mm 
results demonstrate algorithm ability compute approximate disparity map accurate depth discontinuities wide variety situations textured untextured objects textured untextured backgrounds curved planar surfaces specular matte surfaces fronto parallel slanted surfaces 
particularly striking result depth discontinuities nearly perfect 
notice discontinuities correctly placed edges table support lamp cord texture little door hinge 
table recovered series constant disparity strips disparity decreases table 
shows similar performance somewhat noisy textured background 
results worth noting 
algorithm generally assumes fronto parallel surfaces explicit representation slanted surface depth discontinuities recovered presence horizontal vertical slant 
images easy see power drawback ignoring level disparity transitions labelling depth discontinuities 
false transitions ignored slanted tables right box true transitions improperly forgotten back edge table 
important note principle problem eliminated completely impossible determine discontinuities continuous function sampled version 
probably main drawback algorithm brittleness 
emphasis speed preserving sharp changes disparity algorithm heavily dependent local information 
example boundary accompanying intensity variation scanlines row boundary see example triangular wedge cap left bottle 
similarly moving lamp slightly side cause middle lamp post assigned disparity background lack intensity variation boundaries 
brittleness evident subsampled images increased baseline cause intensities images look different 
theta images maximum disparity delta set silicon graphics indy workstation took seconds match scanlines independently additional seconds postprocessing 
indigo extreme needed sec respectively 
comparison previous instructive imagine stereo algorithms handle image 
intensity algorithms belhumeur mumford cox geiger intille bobick mechanism preferring place depth discontinuities near intensity variation place discontinuities contour lamp 
methods incorporate information scanlines fill concavity lamp region table support lamp cord argued methods fare better respect 
similar reason algorithms luo burkhardt jones malik able find lamp boundary 
algorithms fua cochran medioni try align depth discontinuities intensity edges clear perform image initial disparity map far true solution due untextured regions algorithms dependence local information initial matching 
methods baker binford ohta kanade probably match intensity edges correctly yielding sparse disparity map 
interpolating disparity untextured regions method preserve sharp depth discontinuities 
edge detectors difficulty dealing weak edges recorder column 
algorithms directly detect depth discontinuities computing dense correspondence 
approaches little toh forrest local information find depth discontinuities contains little texture 
wixson algorithm similar toh forrest matches nearly vertical edges images correlating regions side edge 
edge texture sides contour right side lamp nearly horizontal table edge 
detecting depth discontinuities important problem rarely emphasized stereo matching 
algorithm sacrifices usual goal accurate scene depth crisp discontinuities 
algorithm fast able compute disparities depth discontinuities situations previous algorithms fail 
results largely independent amount texture image 
significant limitations point way research algorithm brittleness somewhat ad hoc nature postprocessor replaced principled approach sacrificing speed 
baker binford 
depth edge intensity stereo 
ijcai pp 

belhumeur mumford 
bayesian treatment stereo correspondence problem regions 
cvpr pages 
birchfield tomasi 
depth discontinuities pixel pixel stereo 
technical report stan cstr stanford university july 
cochran medioni 
surface description binocular stereo 
ieee trans 
pattern analysis machine intell 
cox hingorani rao maggs 
maximum likelihood stereo algorithm 
comp 
vision image understanding 
fua 
combining stereo monocular information compute dense depth maps preserve depth discontinuities 
ijcai pages 
geiger yuille 
occlusions binocular stereo 
international journal computer vision 
intille bobick 
disparity space images large occlusion stereo 
proc 
rd european conf 
comp 
vision pages 
jones malik 
computational framework determining stereo correspondence set linear spatial filters 
image vision computing 
little 
direct evidence occlusion stereo motion 
image vision computing 
luo burkhardt 
intensity cooperative bidirectional stereo matching simultaneous detection discontinuities occlusions 
intl 
journal computer vision 
ohta kanade 
stereo intra search dynamic programming 
ieee trans 
pami 

toh forrest 
occlusion detection early vision 
iccv pages 
wixson 
detecting occluding edges computing dense correspondence 
proceedings darpa image understanding workshop 
left image disparity map depth discontinuities 
figures available world wide web vision stanford edu 
