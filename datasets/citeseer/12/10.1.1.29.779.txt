review bandwidth estimation techniques james curtis tony mcgregor department computer science university waikato hamilton new zealand cs waikato ac nz 
internet changing rapidly 
consequences change growing need higher quality service 
corollary need higher quality service need accurate extensive measurement including need measure bandwidth 
currently accurate bandwidth measurement techniques directly measure fastest rate traf sent network 
wide scale deployment heavy weight bandwidth tests overwhelm network test trac 
accurate measurement bandwidth dicult simple large data volume techniques current research area 
describe existing techniques attempt estimate bandwidth links paths attempting small quantity data possible 
techniques operate points connection require specialist software deployed core network 
explain theory popular bandwidth estimation techniques single packet packet pair techniques 
discussion includes goals techniques problems encounters 
describe improvements suggested 
explain di erences current techniques goals trying achieve give early proposal describing areas plan develop 
keywords bandwidth estimation active network measurements bottleneck bandwidth network performance measurement 
increase internet people nding dependent 
just happened telephone system early century business people nding requirement internet communication gathering information operate 
increasingly business models solely internet 
growth dependency internet demands placed performance network 
users require consistent monitoring performance carried order detect faults quickly predict provision growth network 
measuring internet dicult reasons described 
isp forthcoming details loading performance network 
support isp complexity network means normally multiple providers involved connection hosts 
situation monitoring performance isp nearly impossible 
inability users con dent performance network causing demand tools enable users asses performance assistance 
tools need quickly easily measure performance network placing anymore load network absolutely necessary 
extra load may restrict times measurement may depending charging system create large extra trac charges 
possible way meet need deployment special software hardware router network 
solution just practical 
cost time security problems outweigh gains type instrumentation 
cost solution involved man hours spent upgrading software routers network charges software vendor price upgrade older routers unable run software 
sort upgrade going instantaneous 
time required upgrading software router entire network huge 
leave substantial time inconsistencies network may possible measure paths 
alternative approach software run hosts 
allows measurement run users discretion allows simple deployment 
approach requires software infer characteristics links involved able directly measure link individually 
explains discusses current research techniques solving demand 
discussed motivation involved area early proposal approach plan take 
rest organised follows 
section ii discusses explains multiple de nitions different groups apply common terms area 
clarity de nition terms 
section iii presents interest area 
sections iv vii describe techniques proposed example implementations 
section viii explains techniques investigating meet objectives 
conclude section ix 
ii 
bandwidth specialist research areas bandwidth measurement estimation speci terms need router router link bandwidth packet link latency link 
bandwidth latency 
explained 
unfortunately terms di erently di erent authors 
section clari es main terms de nes 
names components network 
hosts points packet originates destined 
router machine network connections forwards packets connection get packet closer destination 
link refers single connection routers routers hosts 
path collection links joined routers carries packets source destination host 
paths di erent intermediate router di erent 
shows link routers 
link latency time takes time rst byte packet placed medium time rst byte taken medium 
delay caused rate signals propagated link electrons cable distance medium 
link bandwidth rate bits inserted medium 
faster bandwidth bits placed medium time frame 
important thing note computer network routers normally store forward routers 
means byte packet received link placed bu er router router start send destination link 
packets arrive router faster sent appropriate output port packet queue form port 
queue discipline fifo queue 
sections go detail di erent variations terms latency bandwidth latencies separate latencies network system 
values describe 
transmission delay time takes packet placed medium 
time proportional packet size bandwidth link 
time time rst byte placed network time byte sent 
transmission time considered combination link latency transmission delay 
transmission time time rst byte placed medium byte taken sum link latency transmission delay 
path latency sum individual transmission times queueing time inside routers 
time takes sender issuing packet destination receiving 
path latency referred way delay path latency hard measure requires distributed synchronised clock timestamp time packet sent time packet received 
clocks need synchronised sending time timestamped senders clock reception timestamp destination machines clock 
common measurement round trip time rtt latency 
sum path latency forward reverse directions measured easily timing sending packet destination machine respond packet immediately original sender timestamp return packet 
unfortunately forward reverse paths path latencies may di er rtt latency di erentiate forward reverse delay 
bandwidths latency variants term bandwidth 
section discuss 
latencies link bandwidths sum result path bandwidth 
path bandwidth de ned minimum link bandwidths fastest trac path 
path bandwidth known path capacity 
bandwidth path shared trac consideration trac 
reduces amount bandwidth available hosts 
trac referred cross trac 
available bandwidth amount bandwidth left cross trac 
link lowest available bandwidth necessary link lowest capacity 
dovrolis refer link restricts paths capacity narrow link link restricts available bandwidth tight link iii 
motivation large amount money time currently spent implementing high speed generation networks 
networks constructed order support large growth internet enabling high bandwidth services run network people 
increasing demand know performance obtained networks expected 
performance network complicated issue variables ecting di erent trac di erent ways 
poor values performance metrics may strong ect performance small number applications metrics universally signi cant types trac 
bandwidth latency commonly quoted performance metrics 
rtt measurements simplest metrics measure 
easy suitably accurate specialist hardware place light load network measured 
research projects take regular frequent rtt measurements large diverse range hosts internet 
amp project nlanr active measurement project amp 
february amp consisted approximately machines connected high speed research networks vbns abilene placed usa 
machine takes regular rtt measurements machine resulting measurements approximately paths 
results collected available web real time enabling network operators users network view current state rtt performance path history rtt measurements back far months 
amp group wish extend information provide users including regular available bandwidth measurements paths 
concern measurements available bandwidth create large quantity trac ect users network results bandwidth rtt measurements machines 
iv 
existing techniques number techniques proposed area bandwidth estimation 
concentrate measuring values individual link bandwidths path capacity path 
general techniques classi ed groups 
single packet packet pair techniques 
names refer number packets single probe 
measurement link path consist multiple probes case implementations order mb data individual probes measure hop path 
sections detail theory techniques improvements suggested example implementations 
single packet techniques single packet techniques concentrate estimating individual link bandwidths opposed properties 
techniques observation slower links take longer transmit packet faster links 
known long packet takes cross link bandwidth link calculated 
calculations take account latency varies link 
discussed xii gure latency dependent packet size bandwidth link time signal takes travel path 
transmission time packet packet size measurements packet size bytes slope bandwidth fixed latency transmission time sec 
calculating slope graph forms basis single packet techniques estimate bandwidth 
determined packet size bandwidth link plus xed latency value 
time packet size known equation rearranged give bandwidth 
latency xed particular link latency considered xed set 
transmission time multiple varied sized probe packets taken graph gure produced 
probe packet plotted packet size vs transmission time 
bandwidth calculated graph performing linear regression nd slope points inverse value estimated bandwidth 
addition problems conducting measurements real world 
issue measuring time takes packet cross link network path separately rst hurdle 
avoid need special router instrumentation single packet implementations take advantage ip time live ttl eld eld decremented router packet passes 
ttl decremented zero packet discarded router send icmp ttl expired error message original packet source 
setting ttl expire router link measured sender record rtt packet link back recording sent time packet return time icmp error message 
example measurement seen gure 
example host measuring path host speci cally gure depicts measurement second link path sake clarity term time live historical 
originally eld referred time packet expired 
eld refers number hops links packet expires time value 
measurement packet ttl measurement packet ttl host host icmp error message path ttl expired 
ip ttl eld host measurements router needing specialist software omitted show measurement rst link successive links 
ttl measurement packet set leaves machine 
ttl decremented rst router second router 
router generates icmp error message returned host error message may may follow path return host reason displayed dashed line 
ect return path di ering forward path discussed section 
ttl eld allows measurements points special software deployed router path causes number problems 
way considering link exception rst link path independently 
measurements reported rst link include ects previous links 
problem solved representing link sum results previous links plus component link 
latency single link equation 
summing links derive means latency link measured calculated subtracting latency measured previous links 
bandwidth link calculated subtracting slope previous links slope link inverse value 
process disadvantage errors accumulate links measurements 
problem results limit accuracy expected measurements distant links long hop count paths 
problems single packet techniques encounter 
possibly signi cant problems ect trac link cross trac 
packet experiences delays due cross trac link estimation time ected proportionally volume trac 
jacobson addresses issue assuming cross trac increase delay seen packet 
packets sent eventually get minimum time 
packets said shortest observed round trip time discussed downey 
graph shown earlier gure considered just plotting values ignoring delayed packets appear measurement 
graph showing measurement packets discussed shown gure 
packets required discover distant links 
results links away source combined ects previous links packet experience queueing delay node just node measured 
single packet techniques diculties number common problems area network measurement strongly ect bandwidth estimate results 
asymmetric routing issue 
term asymmetric routing refers path node di erent delay direction di erent 
cause problems types active passive measurement analysis 
case single packet bandwidth estimation techniques asymmetric routing causes problems 
reason icmp error packet need timing may come back di erent path error packet xed size sized measurement packets 
assuming route doesn change time takes return path xed packet sizes 
distinguish added packet delay due congestion forward reverse paths 
means packet experience zero delay routers forward reverse paths 
means need send packets discover 
asymmetric routing cause problems latency estimation described earlier 
return path may change speed di erent hops subtraction previous delay times longer hold true 
result incorrect estimation latency added link 
example shown gure 
measurement packets returned router travel low latency link compared links measurement travel 
example latencies shown gure measurement link combined latency paths summing ms case 
measurement link carried ms paths back ms paths ms path 
gives sum ms rtt 
estimated rtt latency link ms ms ms 
compared correct value ms link ms rtt latency 
link measurement packets link measurement packets low speed high latency link high speed low latency link host host ms ms ms ms ms 
latency errors caused asymmetric routing issue causing problems latency estimation caused time taken router generate icmp error message 
icmp form denial service attack router 
reduce risk routers place low priority creation icmp packets avoid overloading routers cpu 
means latency observed include extra time seen packet traveling router 
ect bandwidth estimation long router consistent time introduced packet sizes 
router handles packets di erent sizes di erently introduce errors slope calculation calculate bandwidth 
combination problems means technique doesn scale higher hop counts 
amount trac required accurately nd reduces usefulness method busy paths 
noise introduced measurement cross traf problems discussed larger di erence transmission smallest packet bytes largest packet normally bytes 
downey discusses measurements difference largest smallest packet size measurements approximately largest outlier tted slope xed latency set link order ms climb easily ms long haul links 
links new zealand usa reach rtt ms greater 
implementations number example implementations single packet techniques 
common implementation jacobson pathchar 
independent clones jacobson pathchar tool clink pchar 
slightly di erent algorithms decide discovered uses basic algorithm described 

packet pair measurement limiting link 
vi 
packet pair models packet pair models attempt estimate path capacity link capacity discovered single packet techniques 
techniques bolot estimate path capacity france usa 
able quite accurately measure capacity time kbps 
packet pair techniques referred packet dispersion techniques 
name descriptive 
packet experiences serialisation delay link due bandwidth link 
packet pair techniques send identically sized packets back back measure di erence time packets arrive destination 
simplicity initially ignore cross trac discuss ects section 
modi ed shows packet pair measurements diagrammatically 
shown links path source destination packets shown link 
link twice capacity capacity limiting link path 
rst packet arrives router forwarded queueing delay trac 
lower speed second packet arrives rst packet sent queued 
soon rst packet transmitted second packet begins sent 
soon rst packet received router router forward 
rst packet nished sent second packet fully received second router faster 
soon router nish receiving second packet forward 
spacing changed slower link de ned capacity limiting slowest link spacing remain destination machine 
spacing equal time router limiting link spent receiving second packet rst received 
rst packet sent soon fully received router wait second packet fully arrived sent 
value equal transmission delay 
transmission delay proportional packet size capacity link 
note di erence equation 
single packet techniques take account latency link calculations 
packet pair techniques need estimate latency link packets absence cross trac canceling 
cross trac ects obvious serious problem ect packet pair measurements 
cross trac delays rst packet compress spacing packets bandwidth estimation high 
referred time probe compression 
cross trac arrives queue rst second packet spacing expanded resulting underestimation bandwidth 
research packet pair techniques focused ltering compressed extended measurements provide closest estimation capacity path 
lai carter propose statistical methods ltering results estimate bandwidth 
approaches assume compression extension values random actual bandwidth appear common measurement 
current research suggests may case may common values actual bandwidth 
result focus current research packet pair techniques 
vii 
techniques lai baker follow describing design implementation measurement tool 
technique call packet considered combination single packet pair techniques 
technique aims discover link path capacities 
derivation formulas form basis discussed detail outside scope 
project aimed obtain link capacity measurements limiting factors single packet techniques 
issues asymmetric routing routers delaying return icmp error messages rate limiting icmp packets ects added return path problems avoids 
basic measurement technique follows 
packets back back packet pair techniques rst packet larger second second packet keep catching rst packet 
transmission delay rst packet larger second 
means smaller packet ready sent instantly router rst packet sent 
larger rst packet set expire ttl method discussed xv link measured second smaller packet released delays cause bigger packet 
latency experienced smaller packet change link larger packet set expire packet size rtt latency ms scatterplot round trip times times log scale 
example data single packet measurement 
changes 
link bandwidth inferred inspecting change latency 
details process contained 
viii 
proposed research major techniques described xv xvi focused nding actual bandwidths paths links 
values interesting administrators wish discover topology network wish investigate bandwidth allocated paying 
values probably going interesting user 
simply want know fast connection go stated xiii amp project focuses giving users network information current performance network 
amp group interested focus proposed research estimating available bandwidth link path capacities 
direction project aims investigate 
major di erence goals objectives current research current proposed techniques aim give results network prior knowledge 
allows tools general purpose 
amp wishes deploy tool current research infrastructure 
distant history performance network measured current tools available 
primary goal investigate measurements aid support bandwidth estimation 
example amp measurements give information long term stability rtt measurements stability paths may useful bandwidth estimation process 
bandwidth estimation running consistently allowing constantly change adapt network changes small snapshot current methods take program collecting data 
data calculate results 
single packet pair techniques probes nd small number probes interested discard rest 
example gure graph rtt vs packet size single link measurement taken downey 
packets obvious baseline discarded bandwidth estimation 
propose investigate relationship distribution extra data available bandwidth path 
similar methods proposed packet pair techniques 
ix 
demand performance internet grows requirement tools accurately measure performance 
growing demand means solutions place large load network scale 
creating need tools accurately estimate various types bandwidths creating large volumes trac 
summary current techniques bandwidth estimation 
compared single packet techniques packet pair models 
explained areas methods provide suitable accuracy 
existing suggestions improve techniques 
outlined areas research project concentrate possible di erences techniques existing methods 
funded part nsf cooperative agreement 
ani 
dovrolis moore packet dispersion techniques measure proceedings ieee infocom 
active measurement project watt nlanr net feburary national laboratory applied network research san diego usa 
ripe test trac measurements www ripe net mem services index html feburary ripe ncc amsterdam netherlands 
skitter www caida org tools measurement skitter feburary caida research group san diego usa 
surveyor www advanced org surveyor feburary advanced network services new york usa 
nlanr network analysis infrastructure nlanr net feburary national laboratory applied network research san diego usa 
jacobson pathchar tool infer characteristics internet paths sciences research institute 
downey pathchar estimate internet link characteristics proceedings acm sigcomm 
downey clink tool estimating internet link characteristics rocky wellesley edu downey clink june 
mah pchar tool measuring internet path characteristics www employees org software pchar june 

bolot packet delay loss behaviour internet proceedings acm sigcomm 
lai baker measuring bandwidth proceedings ieee infocom 
carter crovella bottleneck link speed packet switched networks performance evaluation vol 
pp 

lai baker measuring link bandwidths deterministic model packet delay proceedings acm sigcomm 
