image inpainting marcelo guillermo sapiro electrical computer engineering university minnesota inpainting technique modifying image undetectable form ancient art 
goals applications inpainting numerous restoration damaged paintings photographs removal replacement selected objects 
introduce novel algorithm digital inpainting images attempts replicate basic techniques professional 
user selects regions restored algorithm automatically fills regions information surrounding 
fill done way lines arriving regions boundaries completed inside 
contrast previous approaches technique introduced require user specify novel information comes 
automatically done fast way allowing simultaneously fill numerous regions containing completely different structures surrounding backgrounds 
addition limitations imposed topology region inpainted 
applications technique include restoration old photographs damaged film removal superimposed text dates subtitles publicity removal entire objects image microphones wires special effects 
cr categories computer graphics picture image generation computer graphics graphics utilities image processing computer vision restoration image processing computer vision applications keywords image restoration inpainting isophotes anisotropic diffusion 
modification images way non detectable observer know original image practice old artistic creation 
artwork started restored early renaissance motives bring pictures date fill gaps 
practice called inpainting 
object inpainting missing damaged portions order legible restore unity 
need image unobtrusive way extended naturally paintings photography film 
purposes remain revert deterioration cracks photographs scratches dust spots film add remove elements electrical computer engineering university minnesota minneapolis mn usa ece umn edu caselles superior universitat pompeu fabra removal stamped date red eye photographs infamous political enemies 
digital techniques starting widespread way performing inpainting ranging attempts fully automatic detection removal scratches film way software tools allow sophisticated manual process 
article introduce novel algorithm automatic digital inpainting main motivation replicate basic techniques professional 
point user interaction required algorithm introduced mark regions inpainted 
number techniques exist semi automatic detection image defects mainly films addressing scope 
inpainting algorithm just restore damaged photographs remove undesired objects writings image regions inpainted marked user depend subjective selection 
concerned fill regions inpainted selected 
marked regions automatically filled structure surrounding form explained 
related contribution note classical image denoising algorithms apply image inpainting 
common image enhancement applications pixels contain information real data noise image plus noise additive noise image inpainting significant information region inpainted 
information mainly regions surrounding areas inpainted 
need develop specific techniques address problems 
mainly groups works literature related digital inpainting 
deals restoration films second related texture synthesis third significantly studied class influential related 
motion estimation autoregressive models interpolate losses films adjacent frames 
basic idea copy gap right pixels neighboring frames 
technique applied images films regions inpainted span frames 
order study robustness algorithm proposed dependent marking regions inpainted mark rough form available software 
marking regions examples reported just takes seconds non expert user 
combine frequency spatial domain information order fill region selected texture 
simple technique produces incredible results 
hand algorithm mainly deals texture synthesis structured background requires user select texture copied region inpainted 
images region replaced covers different structures user need go tremendous segmenting searching corresponding replacements picture 
part search done automatically extremely time consuming requires non trivial selection critical parameters :10.1.1.44.14
texture synthesis algorithms re create pre selected texture fill square region inpainted 
group algorithms pioneering described 
authors technique removing occlusions goal image segmentation 
basic idea connect junctions gray level minimizing curves 
technique mainly developed simple images objects constant gray levels applicable examples natural images 
morel extended ideas presenting inspiring general variational formulation particular practical algorithm entirely pde implementing ideas formulation 
algorithm performs inpainting joining geodesic curves points isophotes lines equal gray values arriving boundary region inpainted 
reported authors regions inpainted limited having simple topology holes allowed 
addition angle level lines arrive boundary inpainted region preserved algorithm uses straight lines join equal gray value pixels 
drawbacks exemplified solved algorithm 
hand note closest technique motivated part inspired 
contribution algorithms devised film restoration appropriate application normally relatively small regions rely existence information frames 
hand algorithms texture synthesis fill large regions require user specify texture put 
significant limitation approaches may seen examples region inpainted surrounded hundreds different backgrounds structure texture 
technique propose require user intervention region inpainted selected 
algorithm able simultaneously fill regions surrounded different backgrounds user specifying put assumptions topology region inpainted simplicity image 
algorithm devised inpainting structured regions regions crossing boundaries devised reproduce large textured areas 
discuss combination proposed approach texture synthesis techniques subject current research 
region inpainted considered occluding objects removing occlusions analogous image inpainting 
intrinsic general variational formulation propose specific discrete implementation perform 
digital inpainting algorithm fundamentals stand region inpainted boundary note assumption topology 
intuitively technique propose prolong lines arriving maintaining angle arrival proceed drawing inward way prolongation lines progressively prevent crossing 
presenting detailed description technique analyze experts 
minneapolis institute arts consulted clear inpainting subjective procedure different art professional 
thing way solve problem underlying methodology follows global picture determines fill gap purpose inpainting restore unity structure area surrounding continued gap contour lines drawn prolongation arriving different regions inside defined contour lines filled color matching details painted little white spots uniformly blue sky words texture added 
number lessons immediately learned basic inpainting rules professionals 
algorithm simultaneously iteratively performs steps 
progressively shrink gap prolonging inward smooth way lines arriving gap boundary inpainting algorithm need translate manual inpainting concepts expressed mathematical algorithmic language 
proceed presenting basic underlying concepts 
implementation details section 
ir discrete gray level image 
description manual inpainting techniques iterative algorithm natural choice 
digital inpainting procedure construct family ir ir ir output algorithm inpainted image 
general algorithm form written ti inpainting time pixel coordinates rate improvement andi stands update 
note evolution equation runs inside region inpainted 
equation improved version ofi improvement 
asn increases achieve better image 
need design 
suggested manual inpainting techniques need continue lines arriving boundary region inpainted see point section 
words need smoothly propagate information outside points section 
information want propagate 
propagation direction means discussion section argue steps performed separately discuss step 
propagation direction normal signed distance boundary region inpainted 
unsuccessful choice information propagation direction 
left detail original image region inpainted white 
right restoration 



measure change 
equation estimate information image compute change 
direction 
note steady state algorithm converges 

meaning exactly propagated direction 
left express propagated direction propagation 
want propagation smooth image smoothness estimator 
purpose may simple discrete implementation laplacian xx yy subscripts represent derivatives case 
smoothness estimators satisfactory results obtained simple selection 
compute change 
value order define direction information propagation 
possibility define 
normal signed distance point vector 
normal version belongs see 
choice motivated belief propagation normal boundary lead continuity isophotes boundary 
happens lines arriving curve order align 
see 
course expect 
note orientation intrinsic image geometry region inpainted arbitrary 
isophotes tend align 
best choice 
isophotes directions 
bootstrapping problem having isophotes directions inside equivalent having inpainted image easily recover gray level image direction field see discussion section 
borrowing notation continuous mathematics write 
rl 
time varying estimation isophotes direction field point discretized gradient vector ri gives direction largest spatial change degrees rotation direction smallest spatial change vector gives isophotes direction 
field 
time varying 

time varying estimation coarse progressively achieves desired continuity fixed field 
imply know directions isophotes start 
note direction field normalized norm norm gradient ofi 
choice helps numerical stability algorithm discussed subsection 
performing inpainting isophotes irrelevant obtained clockwise counterclockwise rotation ri 
cases change ofi directions minimum 
estimate variation smoothness discretization laplacian case project variation isophotes direction 
projection update value image inside region inpainted 
ensure correct evolution direction field diffusion process interleaved image inpainting process described 
steps see apply iterations image diffusion 
diffusion corresponds periodical lines avoid crossing mentioned section 
anisotropic diffusion order achieve goal losing sharpness reconstruction 
particular apply straightforward discretization continuous time continuous space anisotropic diffusion equation jri dilation ball radius euclidean curvature isophotes ofi andg smooth function andg way impose dirichlet boundary conditions equation 
discrete scheme implementation details input algorithm image restored mask delimits portion inpainted 
preprocessing step original image undergoes anisotropic diffusion smoothing 
purpose minimize influence noise estimation direction isophotes arriving image enters inpainting loop values inside modified 
values change discrete implementation inpainting procedure proceed describe 
iterations step anisotropic diffusion applied straightforward central differences implementation details see 
process repeated steady state achieved 
stand image pixels inside region inpainting time discrete inpainting equation borrows numerical analysis literature ti add diffusion additional term results similar 
filters form mathematical morphology applied results obtained equation satisfactory 


jri 
jri 

xx yy 


compute smoothness direction 


compute projection 
normalized vector 
thatis change direction 
multiply slope limited version norm gradient image jrij 
central differences realization turn scheme unstable reason slope 
denote backward forward differences respectively denote minimum maximum respectively derivative zero omitted space coordinates simplicity see details :10.1.1.46.1266
note choice non normalized field 
normalized version allows simpler stable numerical scheme see 
note inpainting algorithm arrives steady state geometrically solved smoothness meaning smoothness constant isophotes 
applying equations pixels border region inpainted known pixels outside region 
conceptually compute equations region dilation update values inside applied inside 
information narrow band propagated inside propagation information gray values isophotes directions fundamental success algorithm 
restoration loop inpainting steps diffusion 
total number steps ist number may algorithm may changes image threshold 
values 
value oft depends size note jrij jr ij 
type information propagation related applicable velocity fields extension level set techniques 
relation color model article sin sin 
considerable size multiresolution approach speed process 
color images considered set images described technique applied independently 
avoid appearance spurious colors color model similar luv model luminance chroma components 
see 
results cpu time required inpainting depends size color examples inpainting process completed minutes color planes non optimized code running pc mb ram mhz linux 
examples images available public databases internet 
main examples additional ones seen www ece umn edu users marcelo restoration html addition original inpainted images reproduced evolution process observed 
shows left synthetic image region white 
large pixels diameter contains hole 
inpainted reconstruction shown right 
notice contours recovered joining points inner outer boundaries 
reconstructed contours follow smoothly direction isophotes arriving algorithm reported fail type data 
shows deteriorated image row reconstruction second row 
examples article user supplied mask image row 
mask drawn manually program 
variables set values specified previous section number set 
multiresolution cpu time required inpainting procedure approximately minutes 
level multiresolution scheme minutes needed 
observe details nose right eye middle girl completely restored 
part due fact mask covers relevant information done high level prior information fact eye 
minor errors corrected manual procedures mentioned inpainting time reduced orders magnitude 
example tested showed robust initial conditions inside region inpainted 
shows image restoration followed example text removed image 
basically converged result lower resolution stage initialize higher classically done image processing 
synthetic example shown white 
topology issue recovered contours smoothly continue isophotes 
typical examples texture synthesis algorithms described number different regions filled large 
shows progressive nature algorithm intermediate steps inpainting procedure shown removing painted text natural scene 
shows entertainment application 
cord knot tying man legs removed 
size level multiresolution scheme 
apparent user supply algorithm masking image choice region completely subjective 
introduced novel algorithm image inpainting attempts replicate basic techniques professional 
basic idea smoothly propagate information surrounding areas isophotes direction 
user needs provide region inpainted rest automatically performed algorithm minutes 
inpainted images sharp color artifacts 
examples shown suggest wide range applications restoration old photographs damaged film removal superimposed text removal objects 
results adopted final restoration provide initial point manual restoration reducing total restoration time orders magnitude 
main problems technique reproduction large textured regions seen 
algorithm proposed currently tested conjunction texture synthesis ideas address issue 
mainly investigation combination approach reaction diffusion ideas kass witkin turk 
ideal algorithm able automatically switch textured geometric areas select best suited technique region 
investigate partial degradation 
example old photo example ideally mask binary underlying information exists degraded areas 
inpainting algorithm clearly motivated borrowed intensive partial differential equations pde image processing computer vision 
blindly letting grid go zero inpainting technique equations naively resembles third order equation boundary conditions imposed essential 
theoretical results high order equations available properties preservation image moments immediately proved corresponding equation done fur ther formal study high order equation needed see 
suggests investigation lower second order pde address inpainting problem 
split inpainting problem coupled variational formulations isophotes direction point section gray values consistent estimated directions point section 
corresponding gradient descent flows give coupled second order pde formal results regarding existence uniqueness solutions shown 
reported 
acknowledgments started authors visiting institute henri poincare paris france 
organizers quarter mathematical questions signal image processing institute hospitality partial financial support 
tom robbins elizabeth upper midwest conservation association help linking actual art restoration conservation 
amy miller photo medic kindly provided damaged photograph shown examples 
dr santiago prof stan osher prof eero simoncelli prof andrea interesting discussions feedback 
reviewers provided useful ideas 
partially supported office naval research onr office naval research young investigator award presidential early career awards scientists engineers national science foundation career award national science foundation learning intelligent systems program lis universidad de la uruguay 
walden 
image 
st martin press new york 
emile male 
handbook painting 
van nostrand reinhold new york 
king 
vanishes 
henry holt 
morris fitzgerald rayner 
detection missing data image sequences 
ieee transactions image processing 
morris fitzgerald rayner 
interpolation missing data image sequences 
ieee transactions image processing 
braverman 
photoshop handbook 
idg books worldwide 

combining frequency spatial domain information fast interactive image noise removal 
computer graphics pp 
siggraph 
efros leung texture synthesis non parametric sampling proc :10.1.1.44.14
ieee international conference computer vision pp 
corfu greece september 
heeger bergen 
pyramid texture analysis synthesis 
computer graphics pp 
siggraph 
simoncelli portilla 
texture characterization joint statistics wavelet coefficient magnitudes 
th ieee int conf 
image processing chicago il 
oct 
nitzberg mumford filtering segmentation depth springer verlag berlin 
morel 
level lines 
th ieee int conf 
image processing chicago il 
oct 

new image processing primitive reconstructing images modified flow fields 
university california santa barbara preprint 
perona malik scale space edge detection anisotropic diffusion 
ieee pami pp 

alvarez lions morel 
image selective smoothing edge detection nonlinear diffusion 
siam numer 
anal 
pp 

osher sethian :10.1.1.46.1266
fronts propagating curvature dependent speed algorithms hamilton jacobi formulations 
journal computational physics 
osher 
explicit algorithms new time dependent model level set motion nonlinear noise removal 
ucla cam report january 
rudin osher fatemi :10.1.1.46.1266
nonlinear total variation noise removal algorithms 
physica pp 

osher personal communication october 
zhao chan merriman osher variational level set approach multiphase motion computational physics pp 

mathematics moving contact lines thin liquid films 
notices amer 
math 
soc volume number pp 
june july 
turk boundary hierarchy detail preserving contrast reduction computer graphics pp 
siggraph 
chan shen mathematical models local deterministic ucla cam tr march 
caselles sapiro filling joint interpolation vector fields grey levels university minnesota ima tr april 
restoration old photograph 
restoration color image removal superimposed text 
progressive nature algorithm 
intermediate steps reconstruction shown 
cord knot tying man feet removed 
limitations algorithm texture reproduced 

