machine vision applications manuscript nr 
inserted hand compact algorithm rectification stereo pairs andrea trucco alessandro verri dipartimento di matematica informatica universit di udine delle scienze udine phone fax mail dimi heriot watt university department computing electrical engineering edinburgh uk dipartimento di informatica scienze dell informazione universit di genova genova january 
linear rectification algorithm general unconstrained stereo 
algorithm takes perspective projection matrices original cameras computes pair rectifying projection matrices 
compact line matlab code easily reproducible 
maximize usefulness implementation available www 
report tests proving correct behavior method negligible decrease accuracy reconstruction performed rectified images directly 
key words stereo epipolar geometry rectification motivations pair stereo images rectification determines transformation image plane pairs conjugate epipolar lines collinear parallel image axes usually horizontal 
rectified images thought acquired new stereo rig obtained rotating original cameras 
important advantage rectification computing stereo correspondences aggarwal simpler search done horizontal raster lines rectified images 
assume stereo rig calibrated cameras internal parameters mutual position orientation known 
assumption strictly necessary leads simpler technique 
hand reconstructing shape objects dense stereo calibration mandatory practice achieved situations algorithms torre robert 
rectification classical problem stereo vision methods available computer vision literature knowledge 
ayache ayache correspondence andrea introduced rectification algorithm matrix satisfying number constraints hand crafted 
distinction necessary arbitrary constraints unclear 
authors report rectification restrictive assumptions instance papadimitriou dennis assumes restrictive geometry parallel vertical axes camera frames 
hartley gupta robert hartley introduced algorithm performs rectification weakly calibrated stereo rig rig points correspondences images 
presents novel algorithm rectifying calibrated stereo rig unconstrained geometry mounting general cameras 
improves extends ayache 
obtain basically results compact clear way 
algorithm simple detailed 
derived simple geometrical argument proven correct analytically 
shortage easily reproducible easily accessible clearly stated algorithms rectification kit code examples instructions available www 
organized follows 
section introduces notations summarizes necessary mathematics perspective projections 
section derives algorithm computing rectifying section expresses rectifying image transformation terms 
section gives compact lines working matlab code algorithm 
section reports tests synthetic real data 
section brief discussion 
appendix gives formal proof correctness algorithm 
camera model epipolar geometry section briefly recalls mathematical background perspective projections necessary purposes 
details see faugeras 
andrea trucco alessandro verri camera model pinhole camera modeled optical center retinal plane image plane point projected image point intersection line containing 
line containing orthogonal called optical axis axis intersection principal point 
distance focal distance note model real cameras negative focal distance 
fig 

pinhole camera model camera frame depicted 
coordinates world frame fixed arbitrarily coordinates image plane pixels 
mapping coordinates coordinates perspective projection represented linear transformation homogeneous coordinates 
homogeneous coordinates respectively perspective transformation matrix arbitrary scale factor 
camera modeled perspective projection matrix henceforth ppm decomposed qr factorization product matrix depends intrinsic parameters form ff fl ff ff gammaf ff gammaf focal lengths horizontal vertical pixels respectively focal length millimeters effective number pixels millimeter axes coordinates principal point intersection optical axis retinal plane fl skew factor models non rectangular ccd elements 
camera position orientation extrinsic parameters encoded theta rotation matrix translation vector representing rigid transformation brings camera frame world frame 
write ppm qj cartesian coordinates projection writes focal plane plane parallel retinal plane contains optical center plane xy fig 

coordinates gammaq gamma written qj gamma qc optical ray associated image point line set points fw wg 
equation ray written parametric form gamma epipolar geometry consider stereo rig composed pinhole cameras fig 

optical centers left right cameras respectively 
point projected image planes points constitute conjugate pair 
point left image plane conjugate point right image constrained lie line called epipolar line 
may projection arbitrary point optical ray epipolar line projection optical ray epipolar lines image plane pass common point respectively called epipole projection conjugate optical center 
focal plane right camera right epipole infinity epipolar lines form bundle parallel lines right image 
special case epipoles infinity happens line baseline contained focal planes retinal planes parallel baseline 
epipolar lines form bundle parallel lines images 
pair images transformed epipolar lines parallel horizontal image 
procedure called rectification 
compact algorithm rectification stereo pairs fig 

epipolar geometry 
epipole camera projection optical center second camera vice versa 
rectification camera matrices assume stereo rig calibrated old known 
idea rectification define new pn pn obtained rotating old ones optical centers focal planes coplanar containing baseline 
ensures epipoles infinity epipolar lines parallel 
horizontal epipolar lines baseline parallel new axis cameras 
addition proper rectification conjugate points vertical coordinate 
obtained requiring new cameras intrinsic parameters 
note focal distance retinal planes coplanar 
fig 

rectified cameras 
retinal planes coplanar parallel baseline 
summary positions optical centers new old cameras new orientation cameras differs old ones suitable rotations intrinsic parameters camera 
resulting differ optical centers thought single camera translated axis system 
write new terms factorization 
pn gamma pn gamma intrinsic parameters matrix chosen arbitrarily see matlab code 
optical centers old optical centers computed 
matrix gives camera pose 
specified means row vectors axes respectively camera frame expressed world coordinates 
previous comments take 
new axis parallel baseline gamma jjc gamma jj 
new axis orthogonal mandatory 
new axis orthogonal xy mandatory point arbitrary unit vector fixes position new axis plane orthogonal take equal unit vector old left matrix constraining new axis orthogonal new old left formalize analytically rectification requirements appendix show algorithm section satisfies requirements 
rectifying transformation order rectify say left image need compute transformation mapping image plane image plane pn qn qn 
see sought transformation collinearity theta matrix qn gamma result applies right image 
point write ae mn pn equations optical rays rectification move optical center ae gamma nq gamma mn mn qn gamma arbitrary scale factor equality homogeneous quantities 
andrea trucco alessandro verri transformation applied original left image produce rectified image 
note pixels integer coordinate positions rectified image correspond general non integer positions original image plane 
gray levels rectified image computed bilinear interpolation 
summary rectification algorithm rectification algorithm summarized follows stereo pair images po po obtained calibration compute pn pn rectify po po see matlab code rectify images applying 
reconstruction points triangulation hartley sturm performed rectified images directly pn pn 
high diffusion stereo research applications algorithm easily reproducible usable possible 
purpose give working matlab code algorithm code simple compact lines comments enclosed understandable knowledge matlab 
function pn pn rectify po po rectify compute rectification matrices factorize old art po art po optical centers unchanged inv po po inv po po new axis direction baseline new axes orthogonal new old new axes orthogonal baseline new extrinsic parameters norm norm norm translation left unchanged new intrinsic parameters arbitrary skew new projection matrices pn pn rectifying image transformation pn inv po pn inv po function art art factorize ppm inv qr inv inv rectification kit including matlab implementation algorithm data sets documentation line experimental results ran tests verify algorithm performed rectification correctly check accuracy reconstruction decrease performed rectified images directly 
correctness tests synthetic real data 
set synthetic data consisted cloud points pair 
reasons space report examples 
shows original rectified images nearly rectified stereo rig camera translation gamma mm rotation angles roll pitch yaw shows general geometry camera translation gamma mm rotation angles roll pitch yaw real data experiments calibrated stereo pairs courtesy inria 
show results obtained nearly rectified stereo rig general stereo geometry 
right image pair shows epipolar lines corresponding points marked cross left image 
pixel coordinates rectified images constrained lie special part image plane arbitrary translation applied images bring suitable region plane output images cropped size input images 
case sport stereo pair image size theta started camera matrices www dimi rect html compact algorithm rectification stereo pairs left image right image rectified left image rectified right image fig 

general synthetic stereo pair top rectified pair bottom shows epipolar lines points marked circle images 
left image right image rectified left image rectified right image fig 

nearly rectified synthetic stereo pair top rectified pair bottom 
shows epipolar lines points marked circle images 
gamma gamma gamma gamma gamma gamma gamma gamma adding statement rectify program keep rectified image center theta window obtained rectified camera matrices pn gamma gamma gamma gamma pn gamma gamma gamma gamma accuracy order evaluate errors introduced rectification reconstruction compared accuracy reconstruction computed original rectified images 
synthetic noisy images random clouds points 
imaging errors simulated perturbing image coordinates calibration errors perturbing intrinsic extrinsic parameters additive gaussian noise 
reconstruction performed linear eigen method described hartley sturm 
std dev relative error image points position average relative error points position std dev relative error calibration parameters fig 

reconstruction error vs noise levels image coordinates left calibration parameters right general synthetic stereo pair 
crosses refer reconstruction rectified images circles reconstruction images 
std dev relative error image points position average relative error points position std dev relative error calibration parameters fig 

reconstruction error vs noise levels image coordinates left calibration parameters right nearly rectified synthetic stereo pair 
crosses refer reconstruction rectified images circles reconstruction images 
figures show average set points relative error measured point position plotted noise 
shows results stereo rig 
point plotted average independent trials 
abscissa standard deviation relative error coordinates image point calibration parameters 
dense stereo matching greatly simplified images rectified 
developed simple algorithm easy andrea trucco alessandro verri left image right image rectified left image rectified right image fig 

sport stereo pair top rectified pair bottom 
right pictures plot epipolar lines corresponding points marked left pictures 
left image right image rectified left image rectified right image fig 

color stereo pair top rectified pair bottom 
right pictures plot epipolar lines corresponding points marked left pictures 
understand 
correctness demonstrated analytically experiments 
tests show reconstructing rectified image introduces appreciable errors compared reconstructing original images 
believe general rectification algorithm material available line prove useful resource research application communities alike 

benefited discussions bruno partially supported british council murst epsrc gr 
stereo pairs courtesy inria copyright 
compact algorithm rectification stereo pairs ayache 

stereo vision robotics 
ieee transactions pattern analysis machine intelligence 
torre 

vanishing points camera calibration 
international journal computer vision 
aggarwal 

structure stereo review 
ieee transactions systems man cybernetics 
faugeras 

dimensional computer vision geometric viewpoint 
mit press cambridge ma 
roberto trucco 

efficient stereo multiple windowing 
proceedings ieee conference computer vision pattern recognition pages puerto rico 
ieee computer society press 
hartley gupta 

computing projections 
proceedings ieee conference computer vision pattern recognition pages 
hartley 

theory practice projective rectification 
international journal computer vision 
appear 
hartley sturm 

triangulation 
computer vision image understanding 
papadimitriou dennis 

epipolar line estimation rectification stereo images pairs 
ieee transactions image processing 
robert 

camera calibration feature extraction 
computer vision graphics image processing 
robert zeller faugeras ebert 

applications non metric vision visually guided robotics tasks 
aloimonos editor visual navigation biological systems unmanned ground vehicles chapter pages 
lawrence erlbaum associates 
analytical results section formulate analytically rectification requirements ii prove algorithm yields pn pn satisfies requirements 
order improve readability transpose sign scalar products omitted 
vector products scalar products noted 
definition 
pair pn pn said rectified point left image equation epipolar line right image point right image equation epipolar line left image shall write pn sj pn dj proposition 
perspective projection matrices pn pn rectified pn pn written respective optical center coordinates 
proof 
know epipolar line projection optical ray left camera parametric equation writes pn pn gamma sd gamma epipole projection conjugate optical center pn parametric equation epipolar line image coordinates sd gamma projection operator extracting ith component vector 
analytically direction epipolar line obtained derivative parametric equations respect du gamma dv gamma note denominator components affect direction vector 
epipole rejected infinity 
case direction epipolar lines right image doesn depend epipolar lines parallel vector holds mutatis mutandis left image 
epipolar lines horizontal holds 
vertical coordinate conjugate points image holds easily seen plugging 
andrea trucco alessandro verri proposition 
camera matrices pn pn produced rectification algorithm rectified 
proof 
shall prove pn pn built rectification algorithm hold 
obtain gammas gammad gammas gammad gammas gammad factorization assuming fl obtain ar ff ff construction mutually orthogonal gamma fi fi jjc gamma jj 
facts identity derived gamma fis fi ff fi ff gamma fis fi ff fi ff gamma fis fir parameter scalar account linear combination equation follows easily 
equation equivalent expanding properties external product obtain gammas gamma gamma gamma fi gamma andrea received sc 
degree computer science universit di udine italy ph computer engineering universit di trieste italy 
worked computer vision group irst italy 
research fellow dipartimento di matematica informatica di udine 
published papers real time task scheduling autonomous navigation stereo feature tracking 
research focused computer vision applications underwater robotics 
member international association pattern recognition iapr 
manuel trucco received cum laude msc research doctorate phd degree university genoa italy electronic engineering 
dr trucco active machine vision research joint research centre commission european communities italy universities genoa edinburgh 
currently lecturer department computing electrical engineering heriot watt university 
current research interests machine vision applications particularly underwater robotics 
dr trucco published refereed papers book vision 
member ieee british machine vision association bmva aisb committee member british machine vision association scottish chapter 
information www hw ac uk mtc mtc html alessandro verri received ph theoretical physics university genova 
university genova physics department fall department computer information science 
published approximately papers various aspects visual computation man machines including stereo motion analysis shape representation object recognition coauthored text book computer vision dr trucco 
visiting fellow mit international computer science institute inria irisa rennes university 
current interests range study computational problems pattern recognition computer vision development visual systems industrial inspection quality control 
article processed author style file springer verlag 
