discovering health related knowledge social media using ensembles heterogeneous features suppawong tuarob conrad s tucker marcel salathe nilam ram computer science engineering industrial manufacturing engineering department biology human development family studies pennsylvania state university university park pa suppawong ctucker salathe nur abstract social media emerging powerful source communication information dissemination mining colloquial ubiq uitous nature makes easier users express opinions preferences seamless dynamic manner epidemic surveil lance systems utilize social media detect emergence diseases proposed literature systems mostly employtraditional document classi cation techniques represent document bag n grams however tech niques optimal social media sparsity noise norms authors address limitations posedby traditional n gram based methods propose use features represent different semantic aspects data combination ensemble machine learning techniques identify health related messages heterogenous pool social media data furthermore results reveal signi cant improvement identifying health related social media content can critical emergence novel unknown disease epidemic categories subject descriptors artificial intelligence learning knowledge acquisition keywords social media machine learning classi cation introduction social media astwitter r increasingly andfacebook rbeing used tools real time knowledge discovery relating socialevents emerging threats epidemics andeven product trends forexample real time analysisoftwitter users tweet content can used detect earthquakes provide warnings identify needs e g medical emergencies food water shortages recovery natural disasters haiti earthquake track emergence speci c syndromic characteris tics uenza likeillness collect epidemic related tweets applications systems needed automatically permission make digital hard copies part work personal classroom use granted without fee provided copies made distributed pro t commercial advantage copies bear notice full cita tion rst page copyrights components work owned others acmmustbe honored abstractingwith creditis permitted tocopyotherwise orre publish post servers redistribute lists requires prior speci c permission fee request permissions permissionscikm oct nov san francisco ca usa copyright acm accurately ef ciently identify interpret health related con tent short text micro messages propose test ef cacyof ensemble methods wherein multiple base classi ers trained heterogeneous features used combination enhance performance health related message classi cation amessageis saidtobe health related least one two following conditions met message indicates author health issues e g fever backpain headache ugh message talks someone else getting sick ex presses health concern e g icompletely understand anyone try warm bath always helped w pauly drinking water traditional techniques n gram feature extraction limit ability recognize high discriminativeterms include health relatedkeywords obtain meaning topical semantics entire text hence main contribution propose use semantic enhanced features beyond traditional binary n grams address challenge identifying emerging health related terms non standard nature speci cally paper followingkeycontributions weproposetouse different featuretypeswhichextractdif ferent aspectsof semanticsfor identi cationof health related messagesin social media parameter sensitivityis studiedto nd thebest parameter con guration base classi er feature type explore use different ensemble methods allow base classi ers trained different feature types make collective decisions validate proposed methods using empirical evalua tion additionally strengthen reasons choosing proposed features showing feature type im pacts classi cation relatedworks literature text classi cation extensive hence discuss works closely related major differences tween short message microtext traditional document includes length formality language classi cation algorithms work traditional documents may succeed microtext domain due lower dimension higher noise characterizing data sriram et al pointed limitation bag word strategies tweet classi cation proposed f features primarily capture information authors reply users authorship proves potential source information dataset see section information avail able caragea et al proposed system emerse clas sifying aggregating tweets text messages haiti earthquake disaster theytrained svm classi er com bination feature sets uni grams uni grams relief fea ture selection abstractions topicwords generatedby lda since rst feature sets n gram based en counter similar limitations baseline two feature sets based groups terms partially solve disambiguation problem thekeyword recognition problem paul dredze proposed machine learning based classi cation algorithm used identifying health related tweets uni gram bi gram andtri grambinaryword featureswereusedtotrain linear kernel svm classi er used collected tweets mine public health information using lda like tech nique parameters classi er tuned obtain precision recall since classi ers higher precision preferred task collect high qual ity health related tweets besides using traditional binary n gram features train classi er point later suf cient accurate enough social media settings clas si cation modelwasbuild tuned ona small datasetof roughly thousandstwitter messages datasets consistencyand scienti c comparison use dataset consists manually labeled tweets since want minimize assumption properties social text hashtags retweets user information removed textual contentiskept future stepsof researchinvolveexpand ing data sources include kinds social media asfacebook google blogs etc may hashtags othertwitter like features thus focus common features textual information timestamps develop generic algorithm tweetisatupleof tweetidanditstextual content labelled either positiveor negative amessage pos itive health related negative otherwise dataset contains positive negative stances note although size dataset may completely capture noise lexical diversity presented social media hundreds millions tweets generated day constrain viability established ground truth data substantial proportion examining literature comparable smaller sizes manually labeled tweets often used validate models proposed manyreputable high impact works methodology even though twitter data used verify model ex pansion diverse types social media web blogs google provides broader foundation public health surveil lance need accommodate heterogeneous types data means thatitis importantforustodesignamethodthateasily generalizes across data sources different properties weproposeto combine differentbase classi ers selectedfrom differentfamiliesof classi cation algorithmsandshowntobe state art text classi cation trained different feature type explained section feature type base classi ers listed section tried using fold cross validation different feature extraction parameter con g urations base classi er parameter con guration yield highest f measureis chosenfor ensembleexperiments outlined section base classi cation algorithms feature type employ classi cation algorithms drawn different classi cationfamilies namely supportvector ma chine svm linearkernel andc naive bayes nb multinomial naive bayes nbm randomforest rf trees suggested repeated incre mental pruning produce error reduction ripper numberof foldsof andthe minimum weightof instancesof use libsvm implementation svm andweka implemen tation classi ers feature sets section discussestheextractionofthe feature sets repre senting different views dataset n gramfeatures ng n gram featureshave usedextensivelyintext classi cation learn word patterns training data let document d ordered set terms n gram sequence contiguous n terms d herewe representadocumentwithaunionofitsuni n grams three different weighting schemes areexplored binary frequency tf idf let s set training documents v v vm vocabulary extracted s t test document f t f fm bethe featurevectorofthe test document t de ne weighting schemes follows bin vi t vi v f otherwise fifreq tf vi t tf vi t s tfidf log vi t f max tf w t w t s s vi s otherwise param description possible values clean whether remove punctuation lowercase message t f stem whether apply porter s stemming algorithm message t f n max number consecutive terms form grams w weighting schemes binary freq t df table parametersforng feature extraction tf w d number occurrences term w document d since tweets conform standard english also study data cleaning stemming effects perfor mance table lists con guration parameters pos sible values ng feature extraction note features used baseline method proposedbypaul dredze uses clean f stem f n w binary con guration dictionary based compoundfeatures dc two drawbacks n gram features words multiple meaning treated ex cold can used dis ease temperature contexts importantkeywords treated normal words ex xeroderma pigmentosum disease cjlin libsvm name butmay notbe identi ed asa discriminative featurebyn gram approaches since rare disease appears documents figueiredo et al propose compound features c features text classi cation compound c terms group c terms occur document acompound c generalized de nition term co occurrence like ng features represent document union uni n grams compound features address disambiguation problem since can identify different sets term used different scenarios however featureswouldnotbeableto addressthekeyword recognition problem interpret meaning term another problem using full compound features feature set can grow large possible compounds enumerated param description possible values stem whether apply porter s stemming algorithm message t f vocab vocabularies used disease symptom anatomy n max number consecutive terms form grams c maximum number terms compound w weighting schemes binary freq t df table parametersfordc feature extraction overcome challenges propose feature selection strategy compound featureextraction call dictionary based compound features dc dc feature extraction algo rithm rst generates possible compounds fromadocument next acompound contains least one term de ned dictionary iskept ourexperiment use vocabularies disease symp tom anatomy obtain vocabularies gemina project disease symptom vocabularies contain human disease symptom names respectively used due fact high chance authors messages use termsto identify theirownor others health conditions e think m havin asthma attack wtf amitweeting feel ing better still bit headache though anatomy vocabulary contains words used name physical parts hu man body used existence body organ words may help disambiguating health related terms e ll throw pil lows couchhere knees areburning example burningcan mean either hot painful presence word knees may help identify burning actually latter meaning table lists con guration parameters possible values topic distributionfeatures td intuition behind topic modeling author set topics mind writing document atopic de ned distribution terms author chooses set terms topics compose document assumption whole document can represented using mixture different topics topic modeling strategies also applied va riety applications citation recommendation docu ment annotation andtext classi cation weemploy latent dirichlet allocation lda algorithm modelling topics work use topic distribution represent document since topicis representedbya groupof weighted terms one can thinkof asetof topicsasaformof compound features wherethe weighted terms topic represent components compound hence wehypothesize using topic distribution features can address term disambiguation problem example term cold may top terms two topics one temperature related sickness related param description possible values clean whether remove punctuation stopwords stem message t f z number topics table parametersfortd feature extraction work model topics training documents using lda algorithm implemented mallet machine learning language toolkit maximum iterations using gibbs sampling obtain topic distribution test doc ument using inference algorithm proposedby table lists con guration parameters td feature extraction sentimentfeatures st grp feature name description phys num diseasewords ratio num disease words num symptomwords ratio num symptom words num anatomywords ratio num anatomy words num healthwords ratio num health words number disease terms ratio terms number symptom terms ratio terms number anatomy terms ratio terms number health related words ratio terms emo positive emotion negative emotion num pos emoticons num negemoticons positive emotional level negative emotion level num positive emoticons e g num negative emoticons e g table features used st feature extraction divided two groups physical emotional based proposed sentiment features can divided twogroups physical emotional based physical based st features quantify explicit illness measuring frequency health re lated keywords document use sets vo cabularies section health related keywords emotional based features measure level positive neg ative emotions message using sentistrength algorithm proposedbythelwalletal table listsallthe features param description possible values stem whether apply porter s stemming algorithm message t f n max number consecutive terms form grams type types features include physical emotional table parametersforst feature extraction ourphysical basedst features also serve asa dimension reduc tion dc features c hence features potential address thekeyword recognition problem capturethe frequencyofhighlyrelevantkeywords wealsoaimto investigate whether emotional based st features can discrimi native social messages contaminated emotions con guration parameters listedintable fp n tn fn n tp misses n hits dc td st dc td st table overlaps misclassi cations misses baseline correct classi cations hits classi ers train proposed feature sets combinedfeatures cb classi er learns aspects data may helpful combined one aspect classi ers create overall classi er training base classi er combined features generated merging four feature sets discussed single feature set ensemble methods subsection weexplain motivation combining base classi ers discuss choices ensemble methods preliminary study observations wereplicated feature set usedbypaul dredze original datasetand fold crossvalidateditwithasvm classi er yields precision recall f measure later use classi cation results asa baseline post hoc examination observed manyof misclassi cations following characteristics keyword recognition problem messages containing highly dis criminative health related words swine chill burn etc classi ed non health related e g yep s ne mild case swine term disambiguation problem messages containing highly dis criminativehealth relatedwords usedina non health related context classi ed health related e g sick s snowingagain s likei livingin russia additionally trained classi ers based dc td st dc td st combined feature sets see section respectively examined classi cation results magnitude laps misses false positives false negatives produced classi er trained baseline feature set hits true positives truenegatives producedbythedc td st dc td st based classi ers seen table suggests addition features may potentially increaseoverall performanceof tweet classi cation choices ensemble methods base classi ers trained different feature types combined using standard ensemble methods listed majorityvoting vote classi er outputs either yes nal outcome majority vote classi ers weighted probabilityaveraging wpa classi er given weight sum weights classi er outputs probability estimate positive class nal output weighted average classi ers multi staging ms classi ers operate order classi er says yes nal output yes otherwise instance passed next classi er decide varying clean stem parame ters figure parameter comparison ng feature extraction maximum size grams n svm chosen ng feature type con guration clean t stem t n w tfidf f measure study parameter sensitivity ng feature extraction investigate effects document preprocessing different weighting schemes affect performance f measure svm classi er figure shows results function maximum size grams n figure compares per formance feature sets different clean stem pa rameters according results cleaning stemming data lead higher quality feature sets figure b compares results ng feature extraction different weighting schemes clearly seen features tfidf weight outperform weighting schemes dc based classi er asvm classi er con guration stem true vocab n c w tfidf yields best f measure figure shows parameter sensitivity analysis f measure functions maximum size grams n svm classi er figure compares performances different vocabular ies used evident combining three vocabularies yields best results note symptom vocabulary gives varying vocab parameters b varying weight w param eters figure parameter comparison dc feature extraction function maximum gram size n best results among individual vocabulary sets large number sickness related tweets talk symptoms headache stomachache sore throat etc without mentioning causing disease names figure b compares results achieved different weighting schemes first point note perfor mances weighting schemes decrease n increases compounds bigger grams tend generate sparse idiosyncratic features similar ng features tfidf weighting scheme outperforms others td based classi er figure parameter comparison td feature extraction function number topics z results show con guration clean f z witharandomforest classi er yield best f measure part parameter impact rf classi er vary number topics also model topics cleaned uncleaned datasets figure shows optimum number topics topics may lead broad topics hence low discriminative power whereas manytopics can result spuri ous meaningless topics consisting idiosyncratic word combina tions unexpected research nding uncleaned data gives better performance contrasting analysis ng dc st features agree cleaning data preprocess step helps remove noise boost performance one explana tion length limitation tweet can characters informality social media messages force users creative expressing opinions using variants standard languages example looooove u social media domain mean love much smiling right now standard formal language unfortunately nat ural language processing techniques treat variations noise removethem instead making use causing loss valuable information st based classi er varying type parameter b varying stem parameter figure parameter comparison st feature extraction function maximum gram size n ripper classi er con guration stem t n type yield best f measure figure shows results varying type stem parameters function maximum size grams n tested ripper classi er figure interesting see emotional based features signi cantly help increasing performance mosttwitter users tweet sicknesses always express negative feelings often times theymake messages sound humorousby adding positive emotions use positive tones e g gws ya bang p t oh m sick gotta use rest lol cb based classi er combined features include previous feature types generated chosen con gurations mentioned earlier base classi ers tried svm found perform best f measure classi cation results evaluate ensemble method using fold cross valida tion labelled dataset twittera using standard precision re call f measure f evaluation metrics unlike existing approaches literature quality retrieved data important amount aim apply algorithm disease surveillance situations ability detect non obvious health related messages e g m feeling good today prolly can tgo class also important hence treat precision recall equal importance f measure used mainly compare results method weight vectors used wpa method orderings base classi ers used ms revms methods prob ability cutoffare tuned using held data training set used train base classi ers compare proposed methods baseline features used related works trained svm base classi er tuned achieve best f measure table lists results terms precision recall f measure f measure improvement baseline ensemble strategy along base classi ers baseline classi er best performance terms f measure yielded wpa ensemble method method gives weight base classi ers learning different aspects dataset ms method gives best recall revms yields best precision since treat precision recall equal figure fold classi cation performance baseline proposed base ensemble classi ers terms precision recall f f important conclude wpa ensemble method works best task importanceof eachfeaturetype results show wpa method wherein base clas si er given decision weight yields best performance section attempts assess importance base classi er making collaborative decisions dataset split train set test set base classi ers trained train set possible weight vec tors enumerated increment tested test set best performance yielded weight vec tor ng dc td st cb precision recall f measure cb classi er given weight due exten sive view data dc classi er given twice higher weight compared td st classi ers since addresses problems posed baseline others address one problem conclusions futurework investigate using heterogeneous feature sets representing different views data machine learning ensemble methods health related short text classi cation problem analyse parameter sensitivityofthe featureextraction algorithmsin orderto obtain best possible features feature type study mutual effects feature sets combining base clas si ers trained different feature type using standard ensemble methods able outperform base line using weighted probability averaging method results promising reaf rm assumption lim itation n gram features social media domain can reducedby combining classi ers learn different characteristics data futureworks seek improve classi cation algorithm employsemi supervised methods co training technique expand training data unla beled data acknowledgments wegratefully acknowledge nancial support center integrated healthcare delivery systems cihds references asuncion m welling p smyth andy w teh smoothing inference topic models proceedingsof thetwenty fifth conference uncertaintyin arti cial intelligence uai pages arlington virginia united states auai press c m bishop pattern recognition machine learning information science statistics springer verlagnewyork inc secaucus nj usa d m blei y ng andm jordan latent dirichlet allocation j mach learn res mar blum andt mitchell combining labeled unlabeled data co training proceedings eleventh annual conference computational learning theory colt pages l breiman random forests machine learning c caragea n mcneese jaiswal g traylor h kim p mitra d wu tapia l giles b jansen etal classifyingtext messagesforthe haiti earthquake proceedings th international conference information systems crisis response management iscram w w cohen fasteffective rule induction twelfth international conference machine learning pages morgan kaufmann n collier s doan syndromic classi cation twitter messages corr abs s deerwester s dumais g furnas t landauer andr harshman indexing latent semantic analysis journal american society information science f figueiredo l rocha t couto t salles m gon alves andw m jr word co occurrence features text classi cation information systems t l grif ths m steyvers d m blei andj b tenenbaum integrating topics syntax advances neural information processing systems g h john andp langley estimating continuous distributionsin bayesian classi ers eleventh conference uncertaintyin arti cial intelligence pages san mateo morgan kaufmann s kataria p mitra ands bhatia utilizing contextin generative bayesian models linked corpus aaai t m khoshgoftaar m golawala andj v hulse empiricalstudyof learning imbalanced data using random forest proceedings th ieee international conference ontools arti cial intelligence volume ictai pages k kira andl rendell feature selection problem traditional methods new algorithm proceedingsof national conference arti cial intelligence pages johnwiley sons ltd l lopes j zamite b tavares f couto f silva andm silva automated social network epidemic data collector inforum informatics symposium lisboa c d manning p raghavan andh schtze introduction information retrieval cambridge university press newyork ny usa mccallumandk nigam acomparisonofevent modelsfornaivebayestext classi cation aaai workshop learning fortext categorization m j paul andm dredze amodel mining public health topics twitter technical report m j paul andm dredze tweet analyzingtwitter public health fifth international aaai conference onweblogs social media pages t sakaki m okazaki andy matsuo earthquakeshakes twitter users real timeevent detectionby social sensors proceedings th international conference onworld wide web www pages silvescu c caragea andv honavar combining super structuring abstraction sequence classi cation proceedings ninth ieee international conference data mining icdm pages washington dc usa ieee computer society b sriram d fuhry e demir h ferhatosmanoglu m demirbas short text classi cationin twitterto improve information ltering proceedings rdinternationalacm sigir conference researchanddevelopmentin information retrieval sigir pages m thelwall k buckley g paltoglou d cai anda kappas sentimentin short strength detection informal text j soc inf sci technol dec s tuarob l c pouchard andc l giles automatictag recommendationfor metadata annotation using probabilistic topic modeling proceedings thacm ieee cs joint conference digital libraries jcdl s tuarob l c pouchard n noy j s horsburgh andg palanisamy onemercury towards automatic annotationof environmental science metadata proceedingsof nd internationalworkshop linked science tackling big data lisc s tuarobandc s tucker fadorheretostay predicting productmarket adoption longevity using large scale social media data proc asme int design engineeringtechnical conf computers informationin engineering conf idetc cie s zelikovitz h hirsh improving short text classi cation using unlabeled background knowledge assess document similarity proceedings seventeenth international conference machine learning pages