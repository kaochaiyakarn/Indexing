fastslam improved particle filtering algorithm simultaneous localization mapping provably converges michael montemerlo sebastian thrun daphne roller ben wegbreit school computer science computer science department carnegie mellon university stanford university pittsburgh pa stanford ca cs cmu edu thrun edu koller cs stanford edu ben wegbreit com montemerlo proposed algorithm called fastslam efficient robust solution simultaneous localization mapping problem 
describes modified version fastslam overcomes important deficiencies original algorithm 
prove convergence new algorithm linear slam problems provide real world experimental results illustrate order magnitude improvement accuracy original fastslam algorithm 
simultaneous localization mapping slam highly active research area robotics ai 
slam problem arises moving vehicle mobile robot submarine simultaneously estimates map environment pose relative map 
absence global position information vehicle pose estimate increasingly inaccurate map 
maps may contain thousands entities acquiring large accurate maps challenging statistical estimation problem especially performed real time 
day research slam originates seminal smith cheeseman proposed extended kalman filter ekf solving slam 
insights errors map pose errors naturally correlated covariance matrix maintained ekf expresses correlations 
proved ekf converges linear slam problems motion model observation model linear functions gaussian noise see 
unfortunately ekf covariance matrices quadratic size map updating requires time quadratic number landmarks quadratic complexity long recognized major obstacle scaling slam algorithms maps features 
limits applicability slam algorithms problems ambiguous landmarks induces data association problem 
today robust algorithms slam unknown data association maintain multiple hypotheses tracks increase computational complexity 
consequently flurry research efficient slam techniques see 
group researchers developed techniques recursively divide maps confining computation small regions 
approaches maintain global correlations quadratic reduced constant factor 
restrict update exclusively local maps operate constant time assuming known data association 
second group researchers developed techniques represent maps potential functions adjacent landmarks similar markov random fields 
resulting representations require memory linear number landmarks 
appropriate approximations techniques shown provide constant time updating known data association 
unfortunately convergence proof exists extensions ekf generic case linear slam 
furthermore landmarks ambiguous approaches perform search find appropriate data association hypotheses adding logarithmic factor update complexity 
fastslam algorithm proposed efficient approach slam particle filtering fall categories 
fastslam takes advantage important characteristic slam problem known data association landmark estimates conditionally independent robot path :10.1.1.21.3240
fastslam uses particle filter sample robot paths 
particle possesses low dimensional landmarks 
representation requires nm memory number particles particle filter 
updating filter requires log time knowledge data associations 
number particles needed convergence unknown suspected exponential size map worst case 
proposes improved version fastslam algorithm 
modification conceptually simple proposing new robot pose essential step fastslam particle filter proposal distribution relies motion estimate case fastslam sensor measurement 
approach wasteful samples original fastslam algorithm especially situations noise motion high relative measurement noise 
obtain suitable proposal distribution algorithm linearizes motion measurement model manner ekf 
result proposal distribution calculated closed form 
extension parallels prior doucet colleagues proposed similar modification general particle filters markov chain monte carlo techniques neural networks 
similar arc reversal technique proposed particle filters applied robotics bayes networks similar van der merwe uses unscented filtering step generating proposal distributions accommodate measurement :10.1.1.32.9011
modification conceptually simple important ramifications 
key contribution convergence proof linear slam problems single particle 
resulting algorithm requires constant updating time 
knowledge best previous slam algorithm convergence shown requires quadratic update time 
furthermore observe experimentally new fastslam algorithm single particle yields significantly accurate results challenging real world benchmark previous version algorithm 
findings significance mobile robot systems plagued control noise possess relatively accurate sensors 
contradict common belief maintaining entire covariance matrix required convergence 
simultaneous localization mapping slam addresses problem simultaneously recovering map vehicle pose sensor data 
map contains features landmarks shall denoted path vehicle denoted time index st pose vehicle time state art slam algorithms calculate approximate variants posterior distribution sequence measurements range bearing nearby landmarks sequence robot controls velocities robot wheels 
usual assume loss generality single landmark observed time variables data association variables specifies identity landmark observed time initially assume known relax assumption 
calculate posterior vehicle probabilistic motion model form conditional probability distribution distribution describes control asserted time interval affects resulting pose 
additionally vehicle probabilistic measurement model denoted describing measurements evolve state 
accordance rich slam literature model models nonlinear functions independent gaussian noise 
nonlinear functions gaussian noise variables covariance respectively 
fastslam fastslam important observation posterior factored factorization exact universal slam problems :10.1.1.21.3240
states hypothetically knew path vehicle landmark positions estimated independently product 
practice course know vehicle path 
independence possible factor posterior term estimates probability path tv terms estimate position landmarks conditioned hypothetical path 
fastslam samples path particle filter 
particle attached map consisting extended kalman filters 
formally th particle contains path gaussian landmark estimates described mean covariance briefly review key equations regular fast slam algorithm refer reader 
update fastslam begins sampling new poses motion command note proposal distribution uses motion command ut ignores measurement fastslam updates estimate observed landmark posterior 
posterior takes measurement consideration constant 
posterior normalized product gaussians indicated 
non linear product gaussian general 
result gaussian fastslam employs standard ekf trick approximated linear function see 
approximation equivalent measurement update equation familiar ekf literature 
final step fastslam corrects fact pose sample generated consideration measurement 
resampling particles 
probability th particle sampled replacement variable commonly referred importance factor shown resampling operation implemented log time trees number samples number landmarks map 
number particles needed convergence remains open question 
fastslam extended slam unknown data associations 
data association unknown particle fastslam local data association decision maximizing measurement likelihood 
formula tor finding data association maximizes resulting importance weight robotics dependence factor variable explicit 
key characteristic fastslam particle local data association 
contrast ekf techniques commit single data association hypothesis entire filter 
results show empirically difference renders fastslam significantly robust noise ekf style algorithms 
fastslam new fastslam algorithm obvious inefficiency arising proposal distribution regular fast slam 
regular fastslam pose sampled accordance prediction arising motion command specified 
consider measurement acquired time measurement incorporated resampling 
approach particularly troublesome noise vehicle motion large relative measurement noise 
situations sampled poses fall areas low measurement likelihood subsequently terminated resampling phase high probability 
unfortunately real world robot systems characterized relatively high motion noise 
illustrated experimental results section waste incurred inefficient sampling scheme significant 
sampling pose fastslam implements single new idea poses sampled consideration motion measurement formally denoted sampling distribution takes measurement consideration comparison incorporating measurement sense incorporate current estimate observed landmark obtained variables included conditioning variables 
essence difference fast slam measurement incorporated 
change important ramifications 
proposal distribution reformulated follows denotes predicted predicted robot pose predicted landmark location 
matrices jacobians derivatives respect respectively ekf style approximation proposal distribution gaussian parameters updating observed landmark estimate updating step remains fastslam see 
stated previous section linearized retain gaussianity posterior 
leads update equations derivation equivalent standard ekf measurement update importance weights resampling necessary new version fast slam particles generated match desired posterior 
culprit normalizer may different different particles normalizer inverse probability measurement th particle account mismatch algorithm resamples proportion importance factor proposal distribution product factors familiar state distribution probability measurement calculating involves integration possible landmark locations unfortunately sampling directly distribution impossible general case possess closed form 
luckily closed form solution attained approximated linear function may remain non linear expression approximated gaussian linearizing mean gaussian covariance unknown data associations approach handling data association similar regular fastslam select data association maximizes probability measurement th particle robotics probability right hand side regular fast glance may tempted substitute wt slam 
consider sampled pose expression 
leads slightly different probability calculated follows 
linearization leads gaussian zt mean covariance data association variable feature management functions cases unknown data associations features created dynamically 
common slam algorithms approach creates new features measurement probability threshold 
real world data frequent outliers generate spurious landmarks rule 
approach removes spurious landmarks keeping track posterior probability existence 
mechanism analyzes measurement presence absence features 
observing landmark provides positive evidence existence observing falls robot perceptual range provides negative evidence 
posterior probability landmark existence accumulated bayes filter log odds form familiar literature occupancy grid maps log odds physical existence landmark map probabilistic evidence provided measurement 
appropriate definition rule provides simple evidence counting rule 
log odds drops predefined threshold corresponding landmark removed map 
mechanism enables particles free spurious features 
convergence key result fact new version fastslam converges tor particle restricted class linear gaussian problems kfs converge 
specifically result applies slam problems characterized linear form linear slam thought robot operating cartesian space equipped noise free compass sensors measure distances features coordinate axes 
theorem proof appendix states convergence new fastslam variant theorem 
linear slam fastslam particles converges expectation correct map features observed nitely location feature known advance 
theorem parallels similar result previously published kalman filter 
result applies kalman filter update requires time quadratic number landmarks resampling step obsolete update takes constant time 
knowledge result convergence result constant time slam algorithm 
holds features arranged large loop situation thought worst case slam problems 
experimental results systematic experiments showed fastslam provides excellent results surprisingly particles including 
experiments carried benchmark data set collected outdoor vehicle victoria park sydney 
vehicle path km long map meters wide 
vehicle equipped differential gps evaluation 
fig 
la shows map terrain path obtained raw odometry poor average rms error meters 
data set presently popular benchmark slam research community 
figs lb show result applying fastslam particle data set fig 
lb fig 
lc feature management approach described section 
cases estimated vehicle path shown robotics efficient particles particularly situations motion noise high relation measurement noise 
main contribution convergence proof fastslam single particle 
proof improvement previous formal results applied algorithms efficient current 
fact result convergence result constant time slam algorithm 
theoretical finding complemented experimental results standard benchmark data set 
new algorithm outperform previous fastslam algorithm ekf approach slam large margin 
fact single particle suffices generate accurate map challenging benchmark data set 
despite surprising result multiple particles clearly warranted situations ambiguous data association 
believe results illustrate slam solved robustly algorithms significantly efficient ekf algorithms 
rms map error regular fastslam dashed line versus fastslam solid line victoria park data simulated data 
fastslam results single particle excellent 
solid line gps information shown dashed line 
results accuracy previously achieved ekf style methods fastslam particles 
feature management rule reduces number landmarks map fig 
lb fig 
lc 
fig 
plots rms error vehicle position estimate function number particles victoria data set panel synthetic simulation data panel taken 
new algorithm approximately equally number particles regular fastslam performs poorly small particle sets 
suspect poor performance regular fastslam due fact vehicle possesses relatively inaccurate odometry see fig 
la uses low noise range finder landmark detection common configuration outdoor robotics leading generation particles low likelihood 
small number examples needed obtain state ofthe art estimation translates unprecedented efficiency new filter 
table shows results required process victoria park data set ghz pentium pc ekf sec regular fastslam particles sec fastslam particle sec comparison data acquisition required seconds 
run real time new algorithm requires vehicle trajectory time 
discussion describes modified fastslam algorithm uniformly superior fastslam algorithms proposed 
new fastslam algorithm utilizes different proposal distribution incorporates measurement pose prediction process 
doing acknowledgments supported darpa mars mars program 
daphne koller supported office naval research young investigator 
hertz foundation support michael montemerlo graduate research 
bailey 
mobile robot localisation mapping extensive outdoor environments 
phd thesis univ sydney 
bar shalom fortmann 
tracking data association 
academic press 
slam summer school www cas kth se slam de freitas niranjan gee doucet 
sequential carlo methods train neural network models 
neural computation 
newman clark durrant 
solution simultaneous localisation map building slam problem 
ieee trans 
robotics automation 
doucet de freitas gordon editors 
sequential monte carlo methods practice 
springer 

optimization simultaneous localization map building algorithm real time implementation 
trans robotics automation 

gutmann konolige 
incremental mapping large cyclic environments 
proc 

julier uhlmann 
new extension kalman fi iter nonlinear systems 
proc 
aerosense 
kanazawa roller russell 
stochastic simulation algorithms dynamic probabilistic networks 
uai 
notes icra workshop concurrent mapping localization autonomous mobile robots leonard feder 
computationally efficient method large scale concurrent mapping localization 
proc 
may beck 
stochastic models estimation control volume academic press 
thrun 
simultaneous localization mapping unknown data association fastslam 
proc 
icra appear montemerlo thrun roller wegbreit 
fast slam factored solution simultaneous localization mapping problem 
proc 
aaa 
moravec 
sensor fusion certainty grids mobile robots 
magazine 
robotics murphy :10.1.1.21.3240
bayesian map learning dynamic environments 
proc 
nips 
newman 
structure solution simultaneous localisation map building problem 
phd thesis univ sydney 

thin junction tree fi iters simultaneous localization mapping 
tr ucb csd uc berkeley 
rubin 
sir algorithm simulate posterior distributions 
bayesian statistics 
oxford univ press 
smith cheeseman 
representation estimation spatial uncertainty 
int 
robotics research 
tardos newman leonard 
robust mapping localization indoor environments sonar data 
int 
robotics research 
thrun koller ghahramani durrant whyte ng 
simultaneous mapping localization sparse extended information fi iters 
pmc 

van der merwe de freitas doucet wan :10.1.1.32.9011
unscented particle fl iter 
proc 
nips 
williams durrant whyte 
effi cient approach simultaneous localisation mapping problem 
proc 
icra 
appendix substituting back subsequently substituting gives lemma follows fact positive nite inverse contraction matrix 
larger magnitude depends sign exceed case 
qed 
particular interest result observing anchoring landmark mean landmark location known 
loss generality assume landmark lemma 
robot observes anchoring landmark pose error shrink expectation 
proof anchoring landmark zero error zero plugging get lemma similar lemma stated effect pose errors map errors proof analogous lemma reverse roles lemma 
pose error smaller error observed landmark zt magnitude observing shrinks landmark error expectation 
conversely larger landmark error may increase expectation exceed proof theorem 
denote landmark error largest magnitude landmark errors time 
lemma suggests error may increase expectation absolute robot pose error exceeds error magnitude 
expectation case limited number iterations 
particular lemma guarantees may shrink expectation 
furthermore lemma states time anchoring landmark observed error shrink fi nite amount regardless magnitude ultimately smaller magnitude expectation largest landmark error 
happened lemma states shrink expectation time landmark observed error largest 
easy see converge zero observing anchoring landmark induces fi nite reduction stated 
increase old value expectation total landmark error shrink expectation lemma 
leads eternal shrinkage total landmark error zero 
error upper bound expected pose error see lemma convergence expectation robot pose error 
qed 
robotics 
