designing mining multi terabyte astronomy archives sloan digital sky survey alexander szalay peter ani dept physics astronomy johns hopkins university baltimore md jim gray don microsoft research san francisco ca robert brunner dept astronomy california institute technology pasadena ca june revised feb technical report ms tr microsoft research advanced technology division microsoft microsoft way redmond wa acm copyright notice 
copyright association computing machinery permission digital hard copies part personal classroom granted fee provided copies distributed profit commercial advantage copies bear notice full citation page 
copyrights components owned acm honored 
abstracting credit permitted 
copy republish post servers redistribute lists requires prior specific permission fee 
request permissions publications dept acm fax permissions acm org 
sigmod record vol 
pp 
definitive copy see www acm org pubs citations proceedings mod szalay 
copy posted permission acm may redistributed 
designing mining multi terabyte astronomy archives sloan digital sky survey alexander szalay szalay jhu edu peter pha jhu edu ani pha jhu edu dept physics astronomy johns hopkins university baltimore md jim gray gray microsoft com don microsoft com microsoft research san francisco ca robert brunner rb astro caltech edu california institute technology pasadena ca generation astronomy digital archives cover sky fine resolution wavelengths rays ultraviolet optical infrared 
archives stored diverse geographical locations 
projects sloan digital sky survey sdss creating wavelength catalog square degrees sky see www sdss org 
objects multi terabyte database numerical attributes dimensional space 
points space highly correlated distributions 
archive enable astronomers explore data interactively 
data access aided multidimensional spatial attribute indices 
data partitioned ways 
small tag objects consisting popular attributes accelerate frequent searches 
splitting data multiple servers allow parallel scalable parallel data analysis 
hashing techniques allow efficient clustering pair wise comparison algorithms parallelize nicely 
randomly sampled subsets allow debugging large queries desktop 
central servers operate data pump support sweep searches touching data 
anticipated queries require special operators related angular distances complex similarity tests object properties shapes colors velocity vectors temporal behaviors 
issues pose interesting data management challenges 
keywords database archive data analysis data mining astronomy scaleable internet acm 
article appeared proceedings acm sigmod may austin tx 
permission digital hard copies part personal classroom granted fee provided copies distributed profit commercial advantage copies bear notice full citation page 
copyrights components owned acm honored 
abstracting credit permitted 
copy republish post servers redistribute lists requires prior specific permission fee 
astronomy undergo major paradigm shift 
data gathering technology riding moore law data volumes doubling months 
data sets larger homogeneous 
time data acquisition archiving designed online interactive analysis 
years easier download detailed sky map object class catalog wait months access telescope 
addition online data detail quality rival generated typical telescopes 
multi wavelength projects way sdss mass gsc poss rosat denis 
surveying large fraction sky 
yield digital sky interoperating databases 
time catalogs added linked existing ones 
query engines sophisticated providing uniform interface datasets 
era astronomers just familiar mining data observing telescopes 
sloan digital sky survey sloan digital sky survey sdss digitally map half northern sky spectral bands ultraviolet near infrared 
expected detect objects 
simultaneously measure brightest galaxies see www sdss org 
sdss successor observatory sky survey poss provided standard data set astronomy years 
subsequent archives augment sdss interoperate 
sdss project build survey hardware design implement software reduce calibrate classify index archive data scientists 
sdss revolutionize astronomy increasing amount information available researchers orders magnitude 
sdss archive large complex including textual information derived parameters multi band images spectra temporal data 
catalog allow astronomers study evolution universe great detail 
intended serve standard decades 
month operation sdss distant known dwarfs 
data exotic properties easy mine datasets 
potential scientific impact survey 
realize potential data turned knowledge 
easy information content survey larger entire text contained library congress 
sdss collaboration university chicago princeton university johns hopkins university university washington fermi national accelerator laboratory japanese participation group united states naval observatory institute advanced study princeton additional funding provided alfred sloan foundation nsf nasa 
sdss project collaboration scientists working diverse areas astronomy physics computer science 
survey carried suite tools developed built especially project telescopes cameras fiber spectrographic systems computer software 
sdss constructed dedicated meter telescope apache point new mexico usa 
telescope large flat focal plane provides degree field view 
design balances areal coverage instrument detector pixel resolution 
sdss photometric camera ccd array contains pixels 
row different filter attached 
earth rotates images migrate ccd array 
array shifts synchrony movement giving second exposure object spectral bands 
survey main components photometric survey survey 
photometric survey produced drift scan imaging square degrees centered north galactic cap broad band filters range ultra violet infra red 
effective exposure sec patch sky passes focal plane earth rotation 
photometric imaging uses array kx imaging focus 
pixel size provides full sampling sky 
data rate camera pixels megabytes second 
cameras ideal atmospheric conditions years survey expects collect terabytes data survey northern sky 
survey target objects automatically chosen photometric survey 
goal survey statistically uniform sample visible objects 
due expansion universe doppler shift spectral lines galaxies direct measure distance 
survey produce threedimensional map galaxy distribution volume orders magnitude larger current maps 
primary targets galaxies selected magnitude surface brightness limit band 
sample galaxies complemented red galaxies selected include brightest galaxies cores galaxy clusters 
automated algorithm select candidates follow creating largest uniform survey date 
selected objects catalogs taken different wavelengths rosat targeted 
observations done overlapping circular tiles 
tile centers determined optimization algorithm maximizes overlaps areas highest target density 
survey uses multi fiber medium resolution total optical fibers 
fiber seconds arc diameter providing spectral coverage 
system measure galaxy spectra night 
total number galaxy spectra known astronomers today 
nights observation sdss double 
northern galactic cap accessible sdss repeatedly image areas southern galactic cap study objects identify variable sources 
sdss developing software necessary process analyze data 
construction hardware software largely finished project entered year integration testing 
survey take years complete depending weather 
data products sdss create main data sets photometric catalog catalog bitmap images color bands spectra 
photometric catalog expected contain distinct attributes galaxies stars 
include positions fluxes radial profiles errors information related observations 
object bitmap atlas image filters 
catalog contain identified emission absorption lines dimensional spectra galaxies stars 
derived custom catalogs may included photometric galaxy cluster catalog absorption line catalog 
addition compressed tb sky map 
shown table total size products tb 
sdss release data public period thorough verification 
public archive expected standard catalog decades 
long lifetime presents design legacy problems 
design sdss archival system allow archive grow actual completion survey 
astronomical data set subsequent astronomical survey want cross identify objects sdss catalog requiring archive part dynamic carefully defined schema metadata 
table 
sizes various sdss datasets product items size raw observational data gb redshift catalog gb survey description gb simplified catalog gb spectra gb atlas images gb compressed sky map gb full photometric catalog gb sdss archives observational data telescopes shipped tapes fermi national accelerator laboratory reduced stored operational archive oa accessible personnel working data processing 
testing operations project participants astronomers public day week weeks oa tv la msa sa pa month years la pa mpa www 
conceptual data flow diagram sdss data 
telescope data shipped tapes processed operational archive oa 
calibrated data transferred master science archive sa local archives la 
data gets public archives mpa pa approximately years science verification 
servers provide data astronomy community www server provides public access 
data reduction calibration extracts astronomical objects attributes raw data 
weeks calibrated data published science archive sa accessible sdss collaborators 
science archive contains calibrated data organized efficient scientists 
sa provides custom query engine built sdss consortium uses multidimensional indices parallel data analysis 
amount data queries limited sa design scalable architecture inexpensive servers running parallel 
science archive data replicated local archives la managed sdss scientists weeks 
data moves public archives mpa pa approximately years science verification recalibration necessary 
astronomy community standardized fits file format data interchange 
fits includes ascii representation data metadata 
data exchange archive fits format 
community currently considering alternatives xml 
accessing archives professional amateur astronomers want access archive 
astronomy unique science active collaboration professional amateur astronomers 
amateur astronomers see phenomenon 
tools designed professional astronomers public internet server provide public access published data 
public able see project status see various images including image week 
science archive public archives employ tiered architecture user interface intelligent query engine data warehouse 
distributed approach provides maximum flexibility maintaining portability isolating hardware specific features 
science archive operational archive built top objectivity db commercial object oriented database system 
analyzing archive requires parallel distributed query system 
implemented prototype query system 
query received user interface parsed query execution tree executed query engine passes requests objectivity db actual execution 
node query set operation node returns bag object pointers execution 
multi threaded query engine executes parallel nodes level 
results child nodes passed tree soon generated 
case blocking operators aggregation sort intersection difference child nodes complete results sent tree 
addition speeding query processing soon possible data push strategy ensures case query takes long time complete user starts seeing results imme soon selected object tree 
pleased objectivity db ability match sdss data model 
programmer object oriented database nicely fits application data structures 
impedance mismatch 
hand disappointed tools performance 
sequential bandwidth low mbps cpu devices deliver times speed cpu overhead high 
oql useable able get odbc tools 
record time accesses 
parallel query support implement parallel query optimizer run time system 
despite sdss works objectivity db pilot today 
investigating alternatives 
designed relational schema parallels sdss schema 
doing exposed known problems sql support arrays poor support userdefined types poor support hierarchical data limited parallelism 
schema fairly simple want see better indexing scanning technology sql systems commodity platforms offset language limitations yield better solution 
order evaluate database design developed list typical queries translating sql 
database schema queries discussed section 
preliminary results indicate parallelism nature sql provides real benefits 
time tell sql oo extensions real alternative oodb solution 
see preliminary schema queries sql web site www sdss jhu edu sql 
typical queries astronomy community primary sdss user 
need specialized services 
simplest level include demand creation color finding charts position information 
searches fairly complex queries position colors parts attribute space 
astronomers learn detailed properties stars galaxies sdss archive expect define sophisticated classifications 
interesting objects unique properties area sky 
want generalize properties search entire sky similar objects 
common queries sdss database simple finding objects small sky region 
common query distinguish rare typical objects colors sizes 
types queries non local find brighter magnitude faint blue galaxy sky 
type query search gravitational lenses find objects identical colors may different brightness 
query typical high dimensional query involves metric distance sky color space 
shows need approximate comparisons ranked results 
general statements expected queries astronomers surface celestial sphere 
contrasts spatial applications operate cartesian space space 
queries require linear quadratic search single item pair wise comparisons 
queries clustering top rank queries 
queries spatial involving tiny region sky 
queries involve userdefined functions 
queries benefit parallelism indices 
may sense save computed attributes may interested 
special operators required perform queries efficiently 
preprocessing creating regions mutual attraction appears impractical objects operator input sets dynamically created predicates 
geometric data organization huge data sets traditional astronomy approach fortran access flat files feasible sdss 
non procedural query languages query optimizers database execution engines database indexing schemes replace traditional file processing 
database approach mandated computer efficiency automatic parallelism pipelining desire give astronomers better analysis tools 
data organization support concurrent complex queries 
organization efficiently processing memory bandwidth 
support adding new data sdss background task disrupt online access 
wonderful shelf object relational object oriented database system tasks 
optimistic possible years working vendors goal 
explained presently believe sdss requires novel spatial indices novel operators 
requires dataflow architecture executes queries user methods concurrently multiple disks processors 
current products provide features 
quite possible survey commercial system adequate 
spatial data structures large scale astronomy data sets consist primarily records containing numeric data maps time series sensor logs images 
vast majority data essentially geometric 
success archive depends capturing spatial nature large scale scientific data 
sdss data high dimensionality item thousands attributes 
categorizing objects involves defining complex domains classifications dimensional space corresponding decision surfaces 
sdss teams investigating algorithms data structures quickly compute spatial relations finding nearest neighbors objects satisfying criterion metric distance 
answer set cardinality large intermediate files simply created 
way analyze data sets pipeline answers directly analysis tools 
data flow analysis worked parallel relational database systems 

expect implementation data river ideas link archive directly analysis visualization tools 
typical search multi terabyte archives evaluates complex predicate dimensional space added difficulty constraints necessarily parallel axes 
means traditional indexing techniques established relational databases build index conceivable linear combinations attributes 
hand facts data geometric object point dimensional space 
data quantized containers 
container objects similar properties colors region sky 
containers stored contiguous disk pages data locality high object satisfies query object friends 
nontrivial aspects subdivide containers data large density contrasts 
containers represent coarse grained density map data 
define base index tree tells containers fully inside outside bisected query 
bisected container category searched wholly accepted rejected 
prediction output data volume search time computed intersection volume 

hierarchical subdivision spherical triangles represented quad tree 
tree starts triangles defined octahedron 
fixed subdivision specify increasingly finer hierarchy level fully contained previous 
starting octahedron base set spherical triangle recursively divided approximately equal areas 
sub area divided additional sub areas ad infinitum 
hierarchical subdivisions efficiently represented form quad trees 
areas different catalogs map directly fully contained see 
store object coordinates surface sphere cartesian form triplet values object 
numbers represent position objects sky corresponding normal vector pointing object 
guess distance tiny fraction objects catalog 
representation may increase required storage numbers object vs angles querying database objects certain areas celestial sphere efficient 
technique successfully gsc project 
coordinates celestial coordinate systems equatorial galactic constructed cartesian coordinates fly 
dimensional cartesian representation angular coordinates particularly simple find objects certain spherical distance point combination constraints arbitrary spherical coordinate systems 
correspond testing linear combinations cartesian coordinates complicated trigonometric expressions 
ideas partitioning cartesian coordinates merge highly efficient storage retrieval indexing scheme 
indexing sky great interest common frame sky different astronomical databases 
need system indicated widespread ancient constellations spatial index celestial sphere 
existence index computer friendly form ease cross referencing catalogs 
common scheme provides balanced partitioning catalogs may impossible elegant solution subdivides sky hierarchical fashion 

shows simple range query latitude spherical coordinate system parallel planes left hand additional latitude constraint system third plane 
right hand shows triangles hierarchy intersecting query selected 
hierarchical triangles cartesian coordinates spatial range queries especially efficient 
created recursive algorithm determine parts sky relevant particular query 
query represented set half space constraints connected boolean operators threedimensional space 
task finding objects satisfy query performed recursively follows 
run test query polyhedron spherical triangles corresponding tree root nodes 
intersection algorithm efficient easy test spherical triangle intersection 
classify nodes fully outside query fully inside query partially intersecting query polyhedron 
node rejected node children ignored 
children bisected triangles need investigated 
intersection test executed recursively nodes see 
sdss science archive implemented algorithm query engine 
implementing stored procedure returns table containing ids triangles containing specified area 
queries table limit spatial search joining answer sets table 
broader metadata issues issues related metadata astronomy datasets 
design data warehouse schema second description data extracted archive third standard representation allow queries data interchanged archives 
sdss project uses uml tool develop maintain database schema 
schema defined high level format automated script generator creates files classes data definition files objectivity db sql idl xml metadata formats 
years ago astronomers agreed exchanging data self descriptive data format 
format fits standing flexible image transport system primarily designed handle images 
years various extensions supported complex data types ascii binary form 
fits format supported astronomical software systems 
sdss pipelines exchange data binary fits files 
unfortunately fits files support streaming data data blocked separate fits packets 
sdss implemented ascii fits output stream blocked approach 
binary stream development 

typical complex object involving nearby stars galaxy 
expect large archives communicate standard easily interchange format 
sdss plans participate definition interchange formats xml xsl xql 
data loading operational archive exports calibrated data science archive soon possible 
datasets sent coherent chunks 
chunk consists segments sky scanned single night fields objects detected fields 
loading data science archive take long time data clustered properly 
efficiency important gb arrives night photometric observations 
incoming data organized observations taken 
science archive organized hierarchy containers defined multidimensional spatial index colors positions 
data loading bottleneck creating clustering units databases containers hold objects 
load design minimizes disk accesses touching clustering unit load 
chunk data exported binary fits file operational archive science archive 
examined construct index 
determines object located creates list databases containers needed 
data inserted containers single pass data objects 
experimental sql design sql schema translated objectivity db schema sql schema tables 
generated uml schema automated script fine tuned hand 
sql schema differences objectivity schema 
arrays represented sql server broke shorter dimensional arrays scalar fields poor indexing objectivity db forced separate star galaxy objects speedup sql able merge classes associations 
object associations converted foreign keys 
schema conversion data extraction loading remarkably easy 
detailed information data model www sdss jhu edu doc html 
tables separated broad categories 
set tables relate photometric observations 
base table called photo table contains basic photometric attributes object 
record contains attributes describing object detected survey colors position band errors quantity classification parameters 
popular attributes radial light profile array vertically partitioned separate table 
array represented blob userdefined functions access 
spirit popular attributes split tag objects objectivity db design simple queries efficient 
sql tag table object represented indexes photo table 
vertical partitioning segmented data horizontally objectivity db design 
object classification performed pipelines extended objects classified galaxies compact objects classified stars stored separate object classes typically queried separately time 
sql design unifies tables assumes clustering partitioning done dbms multiple disks servers 
created attributes internal spatial indices hash codes corresponding bit interleaved address triangular mesh tree 
particular subtlety dealing merged objects 
sky finds nearby star superimposed image distant galaxy see 
recognized 
process creates tree object relations parent object may children 
sky observed multiple times 
detections object common object identifier 
unique primary selected sky position 
photo object record marked primary secondary instances object object identifier 
set tables related hierarchy observations data processing steps 
sdss project observes approximately degree long degree wide stripes sky 
stripe runs different nights observation 
run color columns corresponding ccd columns camera see separated width 
columns overlap side woven run stripe gether form seamless mosaic degree columns field stripe 
color column split fields 
field color byte pixel image 
separate tables metadata stripes runs fields 
field carries attributes consisting precise calibration data coefficients colors 
night observation produces run colors 
columns adjacent runs overlap form strip 
stripes partitioned fields 
transformation maps pixel positions absolute sky coordinates 
chunks segments carry observation date time software version data reduction process various parameters instruments observing run 
set tables related observations 
capture process target selection eventual observation 
separate table corresponding objects selected photometry observed 
observed 
observed objects classified galaxy star blank sky unknown 
observed objects various attributes list emission absorption lines detected estimated redshift errors quality estimate stored spectro table 
object different number lines lines stored lines table 
record object identifier line type emission absorption lab wavelength rest frame wavelength line identifier line width strength fitting parameters course estimates 
plate table describing layout observation objects measured simultaneously 
table capture cross information sdss objects detected catalogs unique identification 
cross table evolve need arises 
sql queries developed set queries think characterize kinds questions astronomers ask sdss archives 
spirit sequoia benchmark 
process translating queries sql statements evaluating performance relational system 
follow queries narrative description believe evaluated 
find galaxies pixels point sky right ascension declination 
classic spatial lookup 
expect quad tree spherical triangle index object type star galaxy key spatial attributes 
lookup quad tree 
select galaxies specified point 
find galaxies blue surface brightness mag square super galactic latitude declination zero 
searches galaxies certain region sky specified brightness blue spectral band 
query uses different coordinate system converted hierarchical triangles section 
set disjoint table scans having compound simple predicate representing spatial boundary conditions surface brightness test 
find galaxies brighter magnitude local extinction 
local extinction map sky telling dust direction light absorbed dust 
extinction grid stored table square resolution half cells 
query spatial join bright galaxies extinction grid table extinction stored attribute object just scan galaxies photo table 
find galaxies surface brightness greater major axis red band ellipticity 
color bands galaxy pre processed bitmap image broken concentric rings 
rings divided 
intensity light ring analyzed recorded array 
array stored object sql blob type impoverished case 
concentric rings pre processed compute surface brightness ellipticity major axis attributes 
consequently query scan galaxies predicates precomputed properties 
find galaxies profile falloff intensity disk photometric colors consistent elliptical galaxy 
profile information precomputed concentric rings discussed 
query scan galaxies photo table predicates intensity profile color limits 
find galaxies blended star output magnitudes 
preprocessing separates objects overlap related binary star example 
process called produces tree objects attributes color intensity 
parent child relationships represented sql foreign keys 
query join galaxies photo table siblings 
siblings star galaxy identity magnitude added answer set 
provide list star objects rare color attributes 
involves classification attribute set scan find objects attributes close star occur rare categories 
find objects spectra unclassified 
sequential scan returning objects certain precomputed flag set 
find line width km redshift 
sequential scan spectro table predicate redshift line width 
spectro table objects having known spectrum known 
find galaxies spectra equivalent width main hydrogen spectral line 
join galaxies spectra table lines lines table 
find elliptical galaxies spectra anomalous emission line 
sequential scan galaxies indexed ellipticity precomputed value emission lines flagged strange precomputed value 
create count galaxies declination right ascension grid create map masks grid 
scan table galaxies group cells arc minutes side 
provide predicates color restrictions limit search portion sky defined right ascension declination conditions 
return count qualifying galaxies cell 
run query grouping predicate include objects satellites planets airplanes obscure cell 
second query returns list cell coordinates serve mask query 
mask may stored temporary table joined query 
create count galaxies htm triangles triangular mesh satisfy certain color cut mag output form adequate visualization 
query sequential scan galaxies predicates color magnitude 
groups results specified level htm hierarchy obtained shifting htm key returns count galaxies triangle key triangle 
provide list stars multiple epoch measurements light variations magnitude 
scan stars secondary object observed different time predicate light variations 
provide list moving objects consistent asteroid 
objects classified moving successive observations color bands 
select form select moving object sqrt deltax deltax deltay deltay arc seconds 
find star objects colors redshift 
scan objects predicate identify star objects predicate specify region color space distance colors indicated colors known 
find binary stars colors white dwarf 
scan photo table stars white dwarf colors child binary star 
return list unique binary star identifiers 
find objects similar colors color ratios 
magnitudes logarithms ratios 
gravitational lens query 
scan objects photo table compare objects object 
color ratios match candidate object 
may precompute nearest neighbors object speed queries 
find broad absorption line spectra galaxy 
return galaxies 
scan predicate broad absorption line spatial join galaxies arc seconds 
nearest neighbors may precomputed regular join 
galaxy bcg data set brightest color galaxy right ascension declination give count galaxies bcg 
form bcg brightest galaxy cluster table 
scan galaxies clusters cluster parent object predicate limit region sky 
galaxy test sub query galaxy cluster brighter 
spatial join table galaxies return desired counts 
analysis visualization expect astronomers know sql 
expect provide graphical data analysis tools 
analysis done spreadsheet simple equations 
complex analysis astronomers want apply programs written java javascript vb perl idl analyze objects 
answers queries visualization analysis engine sdss building vtk java 
presumably astronomer examine rendered data drill ask different data presentation steering data analysis 
spirit database query statements dozen data visualization analysis scenarios 
va generate scatter plot selected attributes 
bread butter data analysis tools 
user wants point data point drill 
important subset data regressions statistical tests data 
va generate scatter plot selected attributes point color shape size icon animation display additional dimensions 
step visualization va handling higher dimensional data 
va objects tick marks contours image 
allows analysts combine visualizations pane compare visually 
va generate plot single scalar field sky various coordinate systems 
astronomers different coordinate systems 
just affine transformations 
want polar lambert just want change fame 
just requirement visualization system supports popular projections allows new ones easily added 
va visualize condensed representations aggregations 
example compute density objects space phase space attribute space render density map 
va scatter plots objects euclidean proximity links dimensions represented 
connecting lines show objects closely linked attribute space space 
va allow interactive settings thresholds volumetric visualizations showing translucent iso surfaces functions 
kind visualization common parts explosion cad systems useful showing volumetric properties higher dimensional data spaces 
va generate linked multi pane data displays 
steering computation scientists want see windows dataset window showing displays 
analyst changes focus window windows change focus unison 
includes subsetting data zooming panning parameter space 
aai com image explorer example tool 
scalable server architectures sdss data large fit disk server 
base data objects spatially partitioned servers 
new servers added data repartition 
high traffic data replicated servers 
near term designers specify partitioning index schemes hope long term dbms automate design task access patterns data volumes change 
accessing large data sets primarily limited 
best indexing schemes queries scan entire data set 
acceptable performance achieved expensive ultra fast storage systems servers operating parallel 
exploring inexpensive servers storage allow inexpensive interactive data analysis 
reviewers pointed buy large smp servers offer gbps io 
colleagues fermi lab sgi equipment initial processing steps 
problem supercomputer mini supercomputer approach processors memory storage substantially expensive commodity servers able develop inexpensive systems deploy just processing afford 
processing memory lower high servers storage prices lower networking prices www tpc org prices 
exploring constitutes balanced system design appropriate ratio processor memory network bandwidth disk bandwidth 
appears amdahl balance law instruction bit io applies current software application sql os 
multi dimensional indexing techniques described previous section queries able select exactly data need doing index lookup 
simple queries just pipeline data images disk quickly network transport astronomer system analysis visualization 
queries complex necessary scan entire dataset repartition categorization clustering cross comparisons 
experience teach necessary ratio processor power main memory size io bandwidth system area network bandwidth 
simplest approach run scan machine continuously scans dataset evaluating user supplied predicates object 
building array nodes 
node dual intel mhz processors mb ram gb eide disks dual disk controllers tb storage instructions second 
experiments show node capable reading data mbps processor time appears node apply fairly complex sql predicates record data scanned 
data spread nodes scan data aggregate rate gbps 
system scan complete year sdss catalog minutes 
machines faster 
give near interactive response complex queries involve single object predicates 
queries involve comparing classifying clustering objects 
expect provide second class machine called hash machine performs comparisons data clusters 
hash machines redistribute subset data nodes cluster 
node processes hash bucket node 
parallel clustering approach worked extremely relational databases joining aggregating data 
believe equally scientific spatial data 
hash phase scans entire dataset selects subset objects predicate hashes object appropriate buckets single object may go buckets allow objects near edges region go neighboring regions 
second phase objects bucket compared 
output stream objects corresponding attributes 
operations analogous relational hash join name 
hash joins hash machine highly parallel processing entire database minutes 
application hash machine tasks finding gravitational lenses clustering spectral type redshift distance vector obvious bucket represents neighborhood high dimensional spaces 
envision non procedural programming interface define bucket partition function define bucket analysis function 
hash machine simple form general dataflow programming model data flows storage various processing steps 
step amenable partition parallelism 
underlying system manages creation processing flows 
programming style evolved database community scientific programming community pvm mpi 
evolved general programming model typified river system 
propose astronomers construct dataflow graphs nodes consume data streams filter combine data produce result streams 
outputs rivers go back database visualization programs 
dataflow graphs executed river machine similar scan hash machine 
simplest river systems sorting networks 
current systems demonstrated sort mbps commodity hardware gbps thousands nodes disks 
time astronomy department able afford local copies machines databases start network services 
scan machine interactively scheduled astronomer query added query mix immediately 
data qualifies sent back astronomer query completes scan time 
hash river machines batch scheduled 
desktop data analysis astronomers interested hundreds attributes object 
interested entire dataset different communities individuals interested different 
plan isolate popular attributes cartesian positions sky colors size classification parameter compact table index 
build spatial index attributes occupy space searched times faster attributes involved query 
standard technique covering indices relational query processing 
large disks available today years gb disks common 
means astronomers vertical partition sdss desktops 
convenient targeted searches developing algorithms 
full searchers faster servers io bandwidth processing power 
scan hash river machines apply vertical partitioning reduce data movement allow faster scans popular subsets 
plan offer sample gb database quickly test debug programs 
combining partitioning sampling converts tb data set gigabytes fit comfortably desktop workstations program development 
distributed analysis environment obvious multi terabyte databases intermediate data sets stored locally 
way data analyzed analysis software directly communicate data warehouse implemented server cluster discussed 
analysis engine process bulk raw data extracted archive user needs receive drastically reduced result set 
efforts server parallel distributed stupid ignore network bottlenecks analysis level 
obvious need think analysis engine part distributed scalable computing environment closely integrated database server 
division functions server analysis engine fuzzy analysis just part river flow described earlier 
pool available cpu allocated task 
analysis software able run parallel 
expected scientists relatively little experience distributed parallel programming environment need create carefully crafted application development environment aid construction customized analysis engines 
data extraction needs considered carefully 
server distributed analysis distributed system extracted data go directly servers analysis engines 
approach distribute network load better 
sky server involved building microsoft www microsoft com website giving access photographic topographic maps united states geological survey 
website popular public starting portal spatial spatially related data encyclopedia articles place 
process building analog astronomy www org 
think looking 
plan put online publicly available photometric surveys catalogs collaboration astronomical survey projects 
starting digitized observatory sky survey poss ii preliminary sdss data 
poss ii covers northern sky bands pixels bits pixel 
poss ii tb raw image data 
addition catalog approximately objects extracted poss data 
step add micron sky survey mass covers full sky near infrared bands resolution 
mass approximately tb dataset 
soliciting datasets added 
datasets online hope build seamless mosaic sky provide catalog overlays build visualization tools allow users examine compare datasets 
scientists able draw box region download source data datasets area sky 
surveys added cover parts spectrum 
summary astronomy revolutionized having detailed atlas sky available astronomers providing huge databases detailed high quality data available 
archival system sdss successful easy astronomers pose complex queries catalog get answers seconds minutes query requires complete search database 
sdss datasets pose interesting challenges automatically placing managing data executing complex queries high dimensional data space supporting complex user defined distance classification metrics 
efficiency instruments detectors observations approaching 
factor limiting resolution earth atmosphere 
large margin dramatic improvement ground instruments 
hand sdss project riding moore law data set collect today linear rate manageable tomorrow exponential growth cpu speed storage capacity 
scalable archive design able adapt changes 
acknowledge support astrophysical research consortium hsf nasa intel technology education program particular george intel 
acharya alonso franklin zdonik broadcast disks data management asymmetric communications environments sigmod conference 
arpaci dusseau arpaci dusseau culler hellerstein patterson architectural costs streaming comparison workstations clusters smps proc 
fourth international symposium high performance computer architecture hpca feb 
arpaci dusseau anderson culler hellerstein patterson yelick cluster river making fast case common pp cs berkeley edu river barclay barnes gray sundaresan loading databases dataflow parallelism sigmod record dewitt gray parallel database systems high performance database systems cacm szalay brunner multidimensional index highly clustered data large density contrasts statistical challenges astronomy ii eds 
babu wiley 
greene gsc gcs ii databases object oriented approach new horizons multi wavelength sky surveys eds 
mclean kluwer gropp mpi complete mpi extensions vol 
mit press isbn graefe query evaluation techniques large databases 
acm computing surveys hartman dell computer private communication 
intel generously provided sdss effort johns hopkins dell computers 
samet applications spatial data structures computer graphics image processing gis addison wesley reading ma 
isbn 
samet design analysis spatial data structures addison wesley reading ma 
isbn 
research microsoft com stonebraker meredith sequoia benchmark proc 
acm sigmod pp 

szalay brunner exploring terabyte archives astronomy new horizons multi wavelength sky surveys symposium eds 
mclean 

szalay brunner hierarchical sky partitioning astronomical journal submitted 
wells fits flexible image transport system astronomy astrophysics supplement series 
maier readings object oriented database systems morgan kaufmann san francisco ca 
isbn designing mining multi terabyte astronomy archives sloan digital sky survey 
