mindreader querying databases multiple examples ishikawa ravishankar number christos faloutsos users easily express queries 
example multimedia image content setting user want photographs sunsets current systems qbic user give sample query specify relative importance color shape texture 
worse user want correlations attributes example traditional medical record database medical researcher want nd mildly patients implied query weight height lb inch 
goal provide user friendly theoretically solid method handle queries 
allow user give examples optionally goodness scores propose novel method guess attributes important correlations important weight 
contributions twofold formalize problem minimization problem show solve optimal solution completely avoiding ad hoc heuristics past 
rst handle diagonal queries query 
experiments synthetic real datasets show method estimates quickly accurately hidden distance function user mind 
nara institute science technology nara japan contact author pittsburgh supercomputing center carnegie mellon university leave university maryland 
supported nsf iri 
national science foundation arpa nasa nsf cooperative agreement 
iri 
modern database applications distance similarity queries gained importance especially area multimedia databases 
easy task database user express queries appropriately terms provided features color histogram shape 
exist problems 
di cult user de ne appropriate distance function user may clear de nition distance function imperfectly mind 
second user requirement data changes time time user de ne distance function cases function necessarily di erent cases 
example consider content retrieval image databases 
suppose user simply needs sunset images 
existing image database system qbic query image content virage vir provide query mechanisms multiple image features 
ease user query formulation image database systems support query visual example hk queries interfaces sliding bars obtain user preferences features 
case user provide sample sunset images sketches assign high importance color feature medium importance shape feature sliding bars 
features texture minimal importance assigned 
unfortunately query formulation scenario holds simple queries example assume user wants nd red circles blue background 
clear assign relative importance shape color features 
similar situation appears traditional databases 
example vague system mot built relational database system supports vague queries incorporating concept data metrics attribute domains allowing similar operator compare attribute values 
method derive implied distance function apply vague query processing 
example consider example query traditional medical record database 
suppose user want retrieve mildly people gives sample records database system 
implied condition weight height lb inch 
illustrated fig 
user speci ed desirable points check marks 
multiple check marks single point indicate point extremely example user wants 
formally single check marks double check marks mean examples importance goodness level respectively 
clearly desirable points diagonal strip slope lb inch 
want system guess user need example points approximate implied query 
illustrates important concepts want diagonal queries queries query qualifying elements diagonal address space 
multi level goodness scores ideal system allow user specify example needs 
weight importance level importance level height example query mildly double check marks indicate extremely examples 
exactly focus 
wewant method guess user query combining multiple data examples automatically determining importance attribute weight height example importance correlations attributes 
method useful settings multimedia systems digital libraries handle mixed media informedia ckm nd videos kennedy face matching voice matching 
general approximate matching nearest neighbor queries traditional databases 
mentioned vague system earlier 
nearest neighbor queries attracting increasing attention researchers vendors see example proposed keyword sql ck time sequences nd stocks similar ibm stock 
di erent users di erent notions distance similarity user average year user trend third standard deviation measure similarity 
feasible translate notions distance functions involve dft coe cients stock prices cumbersome average user 
spatial databases nd gas stations close highway exit describe solution experiments prototype mindreader implemented 
structure follows section surveys related 
section describes proposed method related theorems 
section gives experimental results 
section discusses implementation user interface issues 
section gives 
related algorithms guess user desires set examples attracted lot interest 
underlying assumption user ideal point looking feature vector ideal sunset photograph try guess ideal point importance axis color versus shape versus texture detailed amount red versus blue versus green 
methods literature ideas query point movement axis re weighting 
notice ideas orthogonal combined past methods done 
query point movement method tries improve estimate ideal query point example points away bad example points 
concept example query re nement information retrieval eld relevance feedback techniques har sl 
example rocchio formula roc vector space model follows xn ri xn si har formula called standard rocchio vector initial query ri vector relevant document si vector nonrelevant document number relevant documents number nonrelevant documents 
vector space model cosine similarity typically calculate similarity values documents 
query point movement methods proposed mars multimedia analysis retrieval system rhm rhm image retrieval 
method called tf idf term frequency inverse document frequency gener ated pseudo document vectors image feature vectors directly applied rocchio formula 
techniques similarity query processing easily transform similarity values straight euclidean distances see fl eq 
shown apply distance query processing 
re weighting second approach re weighting 
example mars system mentioned proposes re nement method re weighting call standard deviation method 
idea intuitive variance examples high say th axis apparently value axis acceptable user th axis wj 
inverse standard deviation th feature values feature matrix weight wj feature wj resulting weights wj calculate new similarity values images 
gives justi cation speci choice decreasing function candidate weight log 
show proposed method includes types query re nement special cases 
ad hoc heuristics rocchio formula handle multiple level scores importantly handle diagonal queries 
give details method 
proposed method intuitively problem follows user inspects records objects images video clips employee records user scores multi level multiple examples guess implied distance function issue appropriate query basic idea major proposal distance function allows di erent weights attribute correlations 
example see straight euclidean distance circles isosurfaces weighted euclidean distance mars ellipses major axis aligned coordinate axis 
proposed distance functions result ellipses necessarily aligned coordinate axis 
method euclidean weighted euclidean isosurfaces distance functions generalized ellipsoid distance table gives list symbols discussion 
proposed distance function symbol de nition xn sample vector xi xi xin th sample vector dimension vectors number examples qn ideal query point mjk matrix gives generalized ellipsoid distance function distance function xn data point matrix vn goodness values examples xn weighted average data vectors cjk weighted covariance matrix sample vectors equivalently weighted variance th elements sample vectors table symbols de nitions nx nx mjk xj qj xk qk qn ideal point query vector xn fea ture vector corresponds entry database indicates matrix transposition 
vectors considered column vectors 
matrix mjk de nes generalized ellipsoid distance 
request symmetric matrix mjk 
obviously includes straight weighted euclidean distance special cases 
goal user selected points guess things coe cients implied distance function distance matrix best query point query point nd data points similar 
calculate new matrix query point need goodness information user 
assume user selects items items 
number selected items xi xi xin represents th item 
denote matrix xn additionally incorporate user goodness scores selected items xi user specify goodness value vi default vi 
denote vector vn theorems postulate user ideal vector mind distance sample vectors xi ideal vector generalized ellipsoid distance 
goal guess minimize penalties 
obviously important samples samples high goodness scores vi small distance problem mathematically formulated follows subject constraint min nx vi xi xi det det determinant matrix constraint zero matrix give minimum 
minimization problem solved method lagrange multipliers 
give major theorem weighted average data vectors xj xn xt ni vi ni ni vi optimal value new query point proof 
see appendix de ne weighted covariance matrix data vectors cjk cjk theorem gives formula optimal matrix nx vi xik xk xij xj theorem exists matrix minimizes eq 
proof 
see appendix de ne weighted variance det nx vi xij xj show model includes improves standard deviation mars method restrict methods 
theorem restrict matrix diagonal matrices solution proof 
see appendix proved weighting scheme mars optimal restrict diagonal matrix 
show experiments mars unable guess generalized ellipsoid distances 
case singular covariance matrix wehave seemingly di cult question covariance matrix singular non invertible 
system situation happens number feedback points number feature dimensions 
turns easily solve problem moore penrose inverse matrix pseudo inverse matrix gv 
details appendix experiments describe experiments synthetic real data 
questions want ask quickly learn diagonal queries 
better standard deviation method 
query movement quickly method estimate correct ideal query point 
method perform real data 
answer questions describe measures judge quality approximation hidden distance function 
describe experiments observations 
de nitions preliminaries order evaluate method nd hidden distance function need kind metrics 
obvious metric cd metric de ned sum actual distance top neighbors 
experiments 
speci cally retrieve top elements estimate distance de ned estimate compute sum actual distances actual matrix actual query point 
cases variations method gave identical set top neighbors 
order distinguish relative merits second metric 
mn metric matrix norm concept evaluates small di erence derived matrix hidden distance matrix hidden 
km need describe experimental set 
goodness score values automat ically generated follows actual hidden implied distance data vector ideal vector goodness score eq 
eq 

rst turn distance similarity score exp goodness score log choices speci functions justi ed appendix refer method nite levels score values 
diagonal queries rst experiment dimensional gaussian distribution points shown fig 

data points mean standard deviation 
purpose experiment examine fast method nd hidden distance function ii show di erence standard deviation mars method 
experiment scores 
shows isosurface hidden distance function shown dotted ellipse top nearest neighbors method marked standard deviation method marked 
ideal query point marked 
result shown fig 

gure plots values cd metric cumulative distance top points method standard deviation method iteration 
horizontal line bottom gure represents global minima cd metric value target query upper dotted line marked shows standard deviation method 
method 
iterations method converged hidden distance function 
hand standard deviation method nd distance function 
shows iterative re nement queries 
gure shows isosurfaces hidden distance function dotted method solid standard deviation method dashed 
initial state query issued iteration shown fig 

example point methods start euclidean distance circles iso surfaces 
goodness scores iteration method starts capturing hidden function 
iterations agreement visually perfect 
hand standard deviation method unable improvements nature 
moving query center experiments ideal query point xed examples nearby 
illustrates ability method move estimate query point theorem 
rst example point 
despite large distance ideal query point method managed locate correct center iterations align target ellipsoid distance function dotted ellipse 
real data montgomery county dataset fk points road segments montgomery county maryland fig 

solid box shown plot region experiment diagonal query data set isosurface hidden distance function speed convergence cd metric value vs 
iteration iteration iteration iteration iteration iteration iterative re nement queries iteration iteration iteration iter 
iter 
iter 
iter 
moving query center interest 
dataset normalized square 
montgomery county dataset target query nd points near magni ed road segment portion 
started samples shown fig 

notice iterations guess distance function gives isosurface shown fig 
desirable points 
iterations fig 
shows isosurface iterations 
iteration iteration iteration iteration isosurfaces road segment query starting examples shown resulting isosurface iterations isosurface iterations 
implementation issues user interface envision friendly user interface follows user starts brows ing thumbnails images keyframes video clips 
clicks desirable providing examples desires 
submits query mindreader 
notice easily allow multi level scores allowing user click multiple times desirable data item score vi th item exactly count times user clicked 
notice mindreader necessarily relevance feedback system user may give examples mindreader respond iteration need take place 
saw montgomery county dataset th iteration mindreader guess distance function just samples 
speed mentioned expect data items represented points dimensional space cities map feature vectors multimedia application 
typically data points stored spatial access method sam tree bkk sr tree ks tree bkss 
sams carefully constructed ne tuned decades research handle ciently spatial queries range nearest neighbor queries euclidean distance 
discovered indices easily support weighted euclidean distance diagonal generalized ellipsoid queries sk requiring restructuring 
user give generalized ellipsoid sams quickly retrieve qualifying points 
mindreader utilize fast solutions sk 
concern speed searching 
focused problem combining multiple examples goodness scores try guess distance function user mind 
important user need articulate desires terms predicates specify relative importance data attributes correlations 
proposed method automatically 
major contribution solved issues quadratic forms candidate distance functions 
speci cally formulated problem rigorously showed nd optimal solution showed formulation rst guess diagonal queries showed includes special cases older methods method rocchio salton roc method standard deviation rhm rhm 
method need ad hoc heuristics constants methods need 
additional bene ts approach include ability handle multiple levels scores contrast majority older meth ods avery friendly user interface user just clicks example times proportion goodness speci example fast searching developments generalized ellipsoid queries spatial access methods technology sk implemented proposed approach operational system mindreader ran experiments real synthetic data 
mindreader easily guess diagonal queries competitor goodness scores low give results intuitively examples give sooner mindreader converge correct distance function 
experiments real data query montgomery dataset just examples lead excellent rst guess mildly modi ed subsequent iterations 
mindreader batch mode addition interactive mode 
directions include mindreader search mixed media video clips audio tracks want nd video clips john kennedy face voice 
wish gong sato ellen hughes informedia project constructive feedback narayanan help datasets 
bkk stefan berchtold daniel keim hans peter kriegel 
tree index structure high dimensional data 
proceedings large data bases pages mumbai india september 
bkss norbert beckmann hans peter kriegel ralf schneider bernhard seeger 
tree cient robust access method points rectangles 
proceedings acm sigmod pages atlantic city nj may 
ck michael carey donald 
processing top bottom queries 
ieee data engineering bulletin september 
ckm christel kanade mauldin reddy stevens lar 
informedia digital video library 
communication acm april 
faloutsos barber flickner hafner niblack petkovic equitz 
cient ective querying image content 
journal intelligent information systems july 
fk christos faloutsos ibrahim kamel 
uniformity independence analysis trees concept fractal dimension 
proceedings thirteenth acm sigact sigmod sigart symposium principles database systems pages minneapolis mn may 
fl christos faloutsos king ip david lin 
fastmap fast algorithm data mining visualization traditional multimedia datasets 
proceedings acm sigmod pages san jose ca may 
gv gene golub charles van loan 
matrix computations 
johns hopkins university press baltimore london third edition edition 
har donna harman 
relevance feedback query modi cation techniques 
william frakes ricardo baeza yates editors information retrieval data structures algorithms chapter pages 
prentice hall 
hk hirata kato 
query visual example content im age retrieval 
delobel gottlob editors proceedings rd international conference extending database technology advances database technology edbt volume lecture notes computer sci ence pages vienna austria march 
springer verlag 
ks katayama shin ichi satoh 
sr tree index structure high dimensional nearest neighbor queries 
proceedings acm sigmod pages tucson arizona may 
mot motro 
vague user interface relational databases permits vague queries 
acm transactions ce information systems july 
rhm yong rui thomas huang sharad mehrotra 
content image re trieval relevance feedback mars 
proceedings ieee international conference image processing santa barbara ca october 
rhm yong rui thomas huang sharad mehrotra 
human perception tivity relevance feedback information retrieval 
proceedings spie storage retrieval image video databases vi san jose ca january 
roc joseph john rocchio 
relevance feedback information retrieval 
gerard salton editor smart retrieval system experiments automatic docu ment processing pages 
prentice hall englewood cli 
sk thomas seidl hans peter kriegel 
cient user adaptable similarity search large multimedia databases 
proceedings vldb pages athens greece august 
sl amanda spink robert losee 
feedback information retrieval 
martha williams editor annual review information science technology volume chapter pages 

vir virage home page 
www virage com 
howard wactlar takeo kanade michael smith 
intelligent access digital video informedia project 
ieee computer may 
proof theorem summation formula eq 
get nx vi xi xi constraint eq 
holds 
nx nx nx vi nx nx mjk det mjk nx mjk det mjk xij qj mjk xik qk solve minimization problem method lagrange multipliers 
de ning nx obtain vi nx qt nx xij qj mjk xik qk nx vi symmetric matrix qt mtt xit qt qt 
get translated nx nx nx vi vi vi nx nx nx nx xik qk mtt xit qt nx xik qk mt ni vi mx ni vi nx vi nx nx mjk det mjk na nx xik qk mt xij qj exists holds 
th element qk xt pni vi pni ni vi qk weighted average th elements xi 
special case vi qk average proof theorem qk ni xik eq 
xed nx vi xir qr xis qs det matrix obtained deleting th row th column 
get nx vi xir qr xis qs det pni vi xir qr xis qs det inverse matrix jk represented jk det det det pni vi xik qk xij qj pni vi xik qk xij qj cjk matrix cjk vi xik qk xij qj det det get det det theorem new optimal query point optimal matrix cjk terms new query point cjk proof theorem nx vi xik xk xij xj special case theorem easily prove cjk de ne cjk diagonal matrix get say det ni vi xij xj nx det vi xij xj ny diag ny diag case singular covariance matrix calculate svd decomposition covariance matrix de ned eq 

symmetric matrix get orthonormal matrix diag diagonal matrix 
de ne diag 
matrix called moore penrose inverse matrix pseudo inverse matrix ofc gv 
eq 
det conversion distance values goodness values formalize concepts distance similarity goodness scores follows similarity ranges best match typically cosine similarity goodness ranges best match user scores distance ranges best propose formulas translate distances similarities exp similarity corresponds roughly likelihood pdf gaussian distribution 
earlier fl cos 
forms approximately similar 
goodness propose sigmoid function neural networks exp exp inverse log formulas need translate goodness scores distances similarities contents related proposed method basic idea method theorems case singular covariance matrix experiments de nitions preliminaries diagonal queries moving query center real data implementation issues proof theorem proof theorem proof theorem case singular covariance matrix conversion distance values goodness values 
