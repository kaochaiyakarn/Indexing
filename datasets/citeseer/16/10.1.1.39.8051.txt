parameterizable methodology internet traffic flow profiling kimberly claffy hans werner braun george polyzos parameterizable methodology profiling internet traffic flows variety granularities 
methodology differs previous studies concentrated point definitions flows terms state derived observing explicit opening closing tcp connections 
model defines flows traffic satisfying various temporal spatial locality conditions observed internal points network 
approach flow characterization helps address central problems networking internet model 
route caching resource reservation multiple service levels usage accounting integration ip traffic atm fabric 
define parameter space concentrate metrics characterizing individual flows aggregate flow profile 
consider various granularities definition flow destination network host pair host port quadruple 
include measurements case studies undertook yield significant insights aspects internet traffic including demonstrating brevity significant fraction ip flows variety traffic aggregation granularities ii number host pair ip flows significantly larger number destination network flows iii schemes caching traffic information significantly benefit application information 
current internet aggregates flows traffic systems users applications 
characterizing nature flows critical accommodating increasing number diversity 
goal parameterizable methodology profiling internet traffic flows utilize results case studies demonstrate usefulness observations generated methodology research supported national science foundation ncr claffy braun applied network research san diego supercomputer center san diego ca email kc sdsc edu george polyzos computer systems laboratory department computer science engineering university california san diego la jolla ca email polyzos cs ucsd edu explicit examples methodology optimize carriage ip traffic various fabrics traditional ip routers possibly address caching optimizations ip routers connected atm network 
methodology profiling flows inspired packet train model packet arrivals jain offered describe traffic token ring local area network 
defined packet train burst packets arriving source heading destination 
spacing packets exceeds inter train gap said belong separate trains 
packet train model reflects fact network communication involves packets spaced closely time endpoints 
suggested definition flow derives different motivation need service functionality inherently datagram architecture internet 
clark proposes better building block datagram generation architecture 
general characteristic building block identify sequence packets traveling source destination assuming particular type service 
word flow characterize building block 
necessary gateways flow state order remember nature flows passing 
clark refers concept soft state potential method achieving goals survivability flexibility time doing better job dealing issue resource management accountability 
motivating factors packet train phenomenon ability support special service capabilities unrelated 
ability equip ment datagram network internet maintain soft state directly related number intensity network flows nature service require distribution geographic space locality characteristics 
understanding effect packet train phenomena router behavior vice versa essential optimizing router efficiency 
extended packet train model flows transport application layers focused tcp traffic flows offer comprehensive methodology timeout flow characterization primarily ip layer datagram environments 
particular investigate effect range flow parameters flow granularity timeout variety environments 
methodology differs previous studies concentrated point definitions tcp flows syn fin control mechanism tcp protocol 
strength tcp syn fin approach connection flow unambiguous independent location observation 
factors described section ii motivate alternative approach 
notably traffic uses transport layer protocols support syn fin functionality 
order maintain generality traffic associate flows connections define flows traffic satisfying various temporal spatial locality conditions observed internal points network 
ground definition flow appearance packets time interval entities perceived network measurement point 
approach definition characterization network flows address central internet problems including performance requirements routers internet hotspots route caching resource reservation multiple service levels usage accounting transport ip traffic atm fabric 
principal objective finding appropriate balance retaining vs recreating flow state leading excessive resources stale information router behavior tends intensify packet train phenomena 
syn packet serves establish virtual connections synchronize packet sequence numbers opening tcp connection 
fin packet serves clear connection 
thrashing excessively removing recreating flow state information 
principally focuses methodology demonstrating applicability measurements different locations internet fabric 
metrics fall categories metrics individual flows metrics aggregate traffic flow 
section ii formally define flows discuss aspects flow structure frame analysis 
section iii focus metrics evaluate parameter space individual flows including flow volume packets bytes flow duration 
section iv aggregate flow metrics seen network perspective include parameters flow arrival process 
applying methodology measurements yields significant insights internet traffic characteristics review section details instrumentation deriving flow information case studies included appendix describe environments apply methodology trace driven analysis procedure allows characterize flow state information specified transit points network 
ii 
parameterizable definition flows section specify definition parameterizable flows discuss aspects flow structure flow measurement subsequent analysis 
ground model flow actual traffic activity transmission endpoints perceived network measurement point 
flow active long observed packets meeting flow specification observed separated time specified timeout value illustrates 
lower half depicts multiple independent flows thousands may active simultaneously wide area network transit points 
definition timeout similar studies timeout traffic behavior studies adopt single timeout value investigating effect varying range study 
jain originally selected investigation local network traffic timeout milliseconds 
flow timeout checkpoints flow start times flow times single flow details multiple flows packet observed flow starts flow stops flow duration flow model timeout expires fig 

defining flow timeout idle periods studies wide area traffic transport layer caceres minute timeout motivated ftp idle timeout value minutes comparison minute timeout yielded minimal differences 
estrin mitzel compared timeouts minutes little difference conversation duration values chose timeout minutes 
acharya minute timeout 
contrast case studies seeking systematically explore larger range time parameter ranging seconds seconds powers order determine effect flow characteristics accompanying tradeoff router requirements flow setup flow maintenance 
timeout flow definition allows flexibility specifies flow 
particular describe aspects flow structure flow specification directionality sided vs sided endpoint granularity functional layer 
remainder explores aspects interact timeout definition 
flow directionality define flow unidirectional bidirectional 
connection oriented tcp traffic generally exhibits bidirectionality exhibits significant asymmetries traffic profile directions 
tcp flow generates reverse flow small packets 
study define flows unidirectional bidirectional traffic show separate flows traffic traffic effect bidirectionality flows generally important investigate unidirectional flows relevant issues motivate routing optimization accounting multiplexing ip top atm substrate 
furthermore unidirectional flows partridge uses term flow specification refer data structure internetwork hosts specify nature service needed involving guarantees internetwork handle hosts traffic 
definition motivated need request services behalf distributed applications multimedia conferencing 
describe section definition different grounded requirements network user 
transformed bidirectional flows analysis process actual requirements time 
versus endpoint aggregations traffic second aspect flow related 
distinguish single double endpoint flows flows aggregated source destination traffic versus flows defined source plus destination 
example difference traffic destination network number versus traffic network number network number common network number pair 
study explore single endpoint flows 
single sided definitions specify source destination host network number sided definitions ip network number pair host pair process identifiers consisting source destination host plus source destination application identifier udp tcp port number flow endpoint granularities third aspect flow endpoint granularity extent communicating entities 
potential granularities include aspects traffic application user host ip network number administrative domain ad backbone client service provider external interface backbone node backbone node single backbone large environment different agencies 
granularities necessarily inherent order single user application straddle hosts network numbers 
example flow granularity interest derives fact ip routers forwarding decisions routing tables contain hop information destination network task implicitly grounded sided destination network layer flows granularity ip network number 
eventually policy routing issues render source destination packet relevant routing decisions issue sided flow assessment important 
furthermore new routing mechanisms utilize alternative hierarchical definitions related ip network numbers cidr masks desired granularity evolve somewhat 
network service providers may want define coarser grained flows aggregate network number pairs create virtual circuits crossing transit network example atm cloud circuits possibly bundling finer grained ip flows 
conversely detailed granularity necessary providing special service single instance application videoconference 
examples illustrate importance flexibility parameterization flow model 
ground flow specification requirements network allow point network multiple simultaneous flow specifications 
may want assume flows destination network address routing process pair accounting source address accounting policy routing destination address host network address pair bundling flows atm virtual circuits address plus precedence information flows multiple priority levels 
case studies selected granularities network host highlight certain issues ip address port quadruples 
protocol layer functional protocol layer network flow 
example define flows application layer 
alternatively transport connection syn fin packets tcp protocol support explicit connection setup teardown 
order maintain generality traffic consistently associate flows specifically virtual connections define flows packet transmission activity specified endpoints network layer 
flow definition oneto mapping active tcp connections certain conditions single flow include multiple active tcp connections tcp connection may contained multiple observed flows time 
tcp traffic may furthermore interleaved udp traffic flow may consist entirely non tcp traffic 
factors motivate decision restrict observed state model reflective circumstance internet inherently connectionless datagram environment information assumed available 
example transit points ip network equipment expected access ip level information reliance higher level information may inappropriate requirement especially network evolves new applications may utilize available technology 
example routes change lifetime connection routers carry datagrams flows observed transport layer syn syn ack packets routers see earlier datagrams flow see fin fin acks 
state information dependent data cases unavailable 
fragmentation pose problem fragment lack tcp udp port information making impossible track fragmented packets higher layer flow 
routing accounting functions occur ip layer distributed datagram network consideration transport level connections 
management independent explicit transport connections 
proposal flow labels highlights need systems identify recognize sequence packets sent particular source particular unicast multicast destination require special handling intervening routers 
flow label field obviate need strict connect data disconnect phases syn fin functionality tcp packet nth packet periodic control packets rsvp establish flow state 
flow labels reflect coarser grain aggregating multiple transport connections finer grain support different qualities service different packets single transport connection videoconference loss audio detrimental video 
flow label assumes router intelligence regarding endpoint addresses ip tcp udp address port quadruples allows improved switching time 
proposed definitions traffic flow ids network able efficiently resources decide constitutes flow 
additional constraint wide area environments today rely sampling operational flow assessment case syn fin requirements lead losing flows including high volume ones requiring timeout anyway cases lost fin packets 
new technologies link level traffic forwarding atm may access higher layer information internet related transmission decisions typically having rely ip level information 
particular toend atm reality ip gateways attached atm style networks multiplex ip traffic atm substrate 
mapping higher level ip flows underlying link level virtual circuits require effective setup maintenance timeout strategies accounting schemes critical border gateways 
requirement graceful handling idle connections regardless transport layer behavior 
service providers may charge idle connections terminating restarting circuits real time efficient 
fact measurements indicate high potential burden circuit management atm switch come non connection oriented traffic non tcp flows microscopic duration volume 
network layer flow assessment essential graceful adaptation ip atm layers microscopic flows mapped existing specifically allocating bandwidth circuits 
aspects described directionality sided vs sided aggregation endpoint granularity functional layer structure selection flow specifications examine 
iii 
metrics individual flows illustrate metric space varied parameters case studies details data collection described appendix ffl flow timeout timeouts seconds ffl traffic aggregation specification destination network dn destination host dh source host sh network pair np host pair hp ffl network environment sites measured separate hours ffl network usage information ip layer transport application information 
parameter space order isolate effects parameter investigation fix parameters values selected default vary specific interest 
values defaults timeout seconds host pair endpoint granularity uc nsf pm network environment traffic split protocol 
flow timeout shows range flow timeouts cumulative distributions flow byte volume flow packet volume flow duration 
byte values include protocol headers ip tcp udp icmp minimum size bytes example icmp messages byte ip header 
graphs host pair flow granularity aggregate host pair flows regardless application type pm data set 
data indicate th percentile flows reflects packets kilobytes data 
calculating average packet size flow data see average considerably average packet size observed internet environment due strong domination flows frequent short name server transactions 
timeout values seconds flows show packets kilobytes seconds duration 
timeout essentially infinite relative second data duration case studies flows consist single packet bytes 
list legend number flows hour long data set timeout value 
shorter flow timeouts tend split longer flows short ones naturally smaller timeouts yield larger number flows greater proportion flows smaller duration 
top line graph corresponds second timeout value 
flow aggregation specification shows cumulative distributions flow byte volume flow packet volume flow duration multiple flow aggregation specifications endpoint granularities 
graphs include source host destination host destination network network pair host pair aggregations 
uc nsf pm data set second flow timeout aggregate flows granularity regardless application flow duration flow volume bytes flows flows flows flows flow volume packets fig 

cumulative distributions host pair flow packet volumes byte volumes flow durations range flow timeout values seconds uc nsf pm type 
graphs reflect multiple host pair flows aggregate flows coarser granularities consistent environments simultaneously support flows active host pairs share common source destination ip network number backbone network entrance points 
phenomenon yields flow duration volume distributions skewed lower host pair destination networks 
indicates percentile host pair byte flow volume bytes destination network numbers kilobyte 
fact data set includes traffic direction contributes disparity ratio number sources destinations considerably lower bidirectional collection data sets see section 
example distributions bidirectionally collected ucsd campus network data set exhibit disparity distributions flows different granularities 
legend shows interesting aspect applicable wide area backbone entrance point data sets measured number host pair flows times number network pair destination network flows 
number host pair flows certainly scale order square number network number pair flows uniform matrix traffic volume connected sites imply 
reality illustrated matrix traffic sites sparsely filled 
measurements indicate maintaining host pair state internet may impose prohibitive load routers proposed internet routing reservation schemes 
flow duration seconds flow volume bytes sh flows dh flows dn flows np flows hp flows flow volume packets fig 

cumulative distributions flow packet volumes byte volumes flow durations flow aggregation specifications source host sh destination host dh destination network dn network pair np host pair hp uc nsf pm second flow timeout network environment shows network environments collected data cumulative distributions flow byte volume flow packet volume flow duration 
graphs host pair flow specification second flow timeout 
graphs confirm surprising features figures 
backbone environments approximately host pair flows consist single packet bytes 
wide area environments generally flows bytes consist packets 
distribution may imply flow cache designer implement phase timeout flows pass second threshold receive space longer term cache 
studies investigated similar questions regarding caching consider important area empirical research nature internet flows changes 
disparities environment explainable differences network usage 
lan environments tend greater proportion higher volume longer flows consistent typical long term local usage patterns workstations terminals distributed file systems print servers 
sdsc visualization laboratory data trace representing lan high performance graphics workstations connected large file entirely packets bytes udp nfs traffic 
substantial nfs traffic daytime sdsc internal network trace packets bytes amount traffic 
encapsulated ip generic protocol allow tunneling ip carrying ip packets ip packets 
flow duration seconds flow volume bytes sd nsf pm kp mb flows sd int pm kp mb flows ucsd pm kp mb flows uc nsf pm flows sd vis pm kp mb flows flow volume packets fig 

cumulative distributions host pair flow packet volumes byte volumes flow durations network environments second flow timeout contrast sd nsf uc nsf data sets inflow points backbone composed tcp small amount udp traffic ratio evening day 
ucsd campus backbone data set slightly higher proportion udp traffic closer ratio night day 
differences consistent paxson find traffic mix varies great deal day 
see significant peaks flows packets bytes sd viz pm data set top middle graphs respectively 
gain insight phenomenon isolated host pair flows consisted packets sd viz pm example application popular today creation virtual network mbone 
mbone multicast service infrastructure support multicasting 
implementation creates tunnels multicast paths unicast infrastructure multicasting replicating packets tunnel exit point create multicast effect 
data set 
host pairs responsible flows executing system program periodically exchanges byte udp timestamp packet byte icmp time request reply packets order synchronize time machines 
aggregating traffic host pair flows done graph combines udp icmp time requests single host pair flow 
environment study second timeout host pair flows consist packets kilobytes seconds duration 
measurements suggest flows short consistent findings paxson caceres studies different definitions notion flow results directly comparable 
flow duration seconds total flows flow volume bytes total mb udp dns nntp ftpdata telnet smtp www flow volume packets total kp fig 

cumulative distributions flow packet volumes byte volumes flow durations port applications uc nsf pm second flow timeout network usage information metrics shown far differentiate various network usages applications turns significant effect expected size duration flow 
example differences flow characteristics transport protocols especially see strong domination microscopic dns flows short udp transactions require overhead setup teardown tcp connections 
hand udp flows may exist long periods time high data volume real time audio video applications 
emphasis system application yield insight application layer 
shows volume duration distributions common applications internet specifically udp dns nntp ftpdata telnet smtp www 
aggregate flow types category 
legend indicates percent total packets bytes flows category contributes 
data indicate large majority single packet udp flows dns protocol unsurprising short transaction style nature dns protocol 
second timeout dns flows consist single packet 
longest average flow durations samples characterize www protocol measurements march appeared significantly uc nsf pm data set 
time www traffic quite pervasive internet absolute volume proportion www traffic nsfnet grown dramatically march nsfnet traffic byte volume month november 
distribution ftpdata flow durations sig different studies focus transport layer timeouts seconds larger approximately ftpdata flows kilobytes 
envelope presentations multi dimensional parameter space network flows rich complicating task presenting results 
method simultaneously displaying range dimensions flows envelopes 
example portray vs duration byte count vs duration space flows varying parameters explored flow timeout environment flow endpoint granularity higher layer protocol application 
top half provides example outlining packet count vs duration space internet applications shown 
diamond delineates population flows application vertices th percentile median th percentile packet count duration axes 
ftp data diamond illustrate read graph 
coordinates left right vertices ftp data diamond indicate second flow timeout ftp data flows seconds duration seconds 
coordinates points equal packets indicates median distribution packets ftp data flow 
similarly coordinates top bottom vertices diamond indicate ftp data flows data set packets packets 
coordinates vertices indicates median duration ftp data flow hour seconds 
previous figures legend indicates percent total packets bytes flows category contributes 
graph byte duration space appears similar caceres minute flow timeout bulk transfer conversations consist kilobytes data 
results slightly different consistent measurements indicate interactive conversations consist packets 
note difficulty getting picture telnet flows unidirectional traffic caceres paxson show interactive applications generate average times traffic direction 
caceres find measurements bulk transfer flows bidirectional paxson measurements show strong degree bidirectionality 
clude 
graph highlights visible differences applications especially log scaled axes 
example interactive protocol telnet exhibits large spread flow duration longest duration flows lasting longer bulk data protocols ftpdata transaction style protocols www smtp 
bulk transfer transaction protocols exhibit predictable duration consistent typical single burst usage 
extreme case packet volume distribution udp dns flows consist single packet th percentile packets 
dns zone transfers tcp protocol excluded statistic 
top half elaborates implications regarding influence packet type utility maintaining flow state 
table provides insight ranking protocols highest number flows uc nsf pm data set second timeout 
table lists number proportion rank flows packets bytes protocol 
dns constituted total packets constituted total number flows second flow timeout 
designers routing accounting tables caches may improve performance selectively choosing store information packets highly represent short flows dns gopher ntp 
flows packet duration profiles largely lower left top graph contribute cache thrashing consume valuable memory require 
disregarding higher layer information regarding nature traffic clearly imposes high opportunity cost 
data implications multiplexing ip flows wide area atm substrate virtual circuits vcs 
caceres suggests optimal multiplexing policy bulk transfer conversations packet transmission rates limited transport protocol window sizes available bandwidth ftp data smtp nntp virtual circuit conversation 
finds interactive conversations telnet share vir second timeout increased proportion 
caceres uses low interactive delay high bulk transfer throughput increasing network load metrics judge optimality 
flow duration sec unlimited flow timeout comparison udp dns nntp ftp telnet smtp www telnet unlimited telnet second smtp unlimited smtp second timeout telnet nntp ftp smtp www dns fig 

distributions packet duration space host pair flows application uc nsf second flow timeout top common application categories bottom difference packet duration space second unlimited timeout values applications telnet smtp table proportion flows packets bytes attributed major protocols uc nsf pm second timeout prot service number total rank totals flows kp mb flows pkts bytes flows pkts bytes udp dns tcp gopher tcp smtp tcp ftp data tcp ftp ctrl tcp telnet tcp finger tcp www udp ntp tcp nntp tual circuits bulk transfer conversations avoid high delays interactive conversations share virtual circuit detrimental effect 
data suggests flows fall categories dns gopher ntp unknown traffic flows require suboptimal router behavior assigning virtual circuit flow 
alternative policy tear vcs immediately waiting timeout interval 
potential technique reducing number circuits needed flows bundle destination virtual circuit 
discuss maintenance virtual circuits section iv 
application layer protocol influences interaction parameters individual flow metrics 
discuss example interaction flow timeout parameter 
showed earlier second timeout dns flows consisted single packet 
allowing infinite timeout change situation significantly flows consist single packet 
ftpdata profile depend significantly timeout value 
second timeout median number packets ftpdata flow unlimited timeout median packets 
timeout value affect packet volume duration protocols 
lower half highlights flow types timeout affects profile telnet smtp 
show flow types difference flow packet volume duration second versus infinite timeout 
telnet flows second timeout median number packets flow unlimited timeout median jumps packets suggesting telnet flows idle seconds 
similarly data set median th percentile smtp flows depend timeout th percentile timeout value single packet indicating number single packet smtp flows hosts separated seconds 
measurements indicate types network traffic timeout value affect flow assessment 
iv 
aggregate flow metrics section focus aggregate flow metrics number active flows appearance new flows arrival process 
metrics particularly relevant memory processor resource requirements keeping state information flows 
measurements illustrate flow methodology approach traffic analysis yield implementation guidelines router designers particular flow parameters affect design decisions new technologies 
simple flow state maintenance mechanisms routing caches hold entries destination addresses high imminent probability due separate smaller faster memory 
hardware cache typically considerably faster keeping referenced records software cache save time switching process search entire routing table 
discussions flow state involved extensions internet service model routers support 
discussions assume general definition flow single stream packets specified set sources specified set destinations subject single path selection constraint queueing behavior intermediate nodes 
maintaining flow state typically require holding entry active flow controls forwarding behavior packets belonging flow 
flow state important component effectively ip virtual circuits atm network 
implementing datagram service virtual circuit oriented network service atm requires setting tearing virtual circuits accounting charging actual traffic activity 
example atm service provider offer fully connected mesh permanent virtual circuits entry exit points atm cloud comparable current ip switching backbone 
atm functionality allows efficient service bandwidth allocation extending simple pvc network multiple parallel switched virtual circuits specific traffic flows allowing multiple service qualities network 
supporting real time needed requires establishing appearance traffic fit existing pvc svc 
example packet network network arrives interface atm network appropriate circuit network network exist router inflow point establish svc path tear circuit idle 
scenario imposes vc setup overhead compared flow timeout max host pair median host pair max dest 
net median dest 
net host pair median host pair dest 
net median dest 
net fig 

function timeout value top median th percentile new destination network host pair flows second bottom median maximum number active flows second uc nsf pm fully meshed pvc scenario saves resources necessary times 
reality general purpose infrastructure take incremental steps current ip switched networks atm cell switched environment 
example new federal agency wide area backbones may transition atm environment multiple fully connected meshes different priority bandwidth parameters 
parameters flows currently traverse wide area infrastructures essential engineering configurations effectively replace existing dedicated pointto point channels links 
ip precedence field signal multiple underlying service qualities example level traffic travel standard pvc traffic level precedence goes secondary pvc traffic level incur dedicated svc setup resources available 
flow timeout examine flow arrival percentile statistics course hour duration data sets 
highlight impact flow timeout parameter fixing parameters number new active flows environment 
parameters select destination network flow granularity uc nsf pm data set consider traffic protocols aggregated 
host pair flow granularity comparison destination network flows 
maintaining state router virtual circuits atm network requires memory computational resources flow 
objective router maintaining flow state optimize tradeoff maintaining state flows requires memory information search time accessing large state table packet switched maintaining state flows means short flow timeout requires memory greater cpu power memory management effort set tear flows 
timeout value low flows may time traffic endpoints stopped leading potentially large delays processing costs flow 
analogy virtual memory caching thrashing occur flow demands larger available router resources require constant closing flows 
section explore timeout value influences probability thrashing 
keshav investigate timeout strategy timeout occurs packet flow appeared time packet flow immediately preceding intra flow packet interarrival time 
ramakrishnan suggest possible strategy timeout value dynamically changes number currently active flows 
propose administratively controlled variables minimum time maximum time adaptation factor seconds available flow 
flow times idle time period equal minimum plus adaptation factor times number available circuits limited maximum time 
authors suggest administrative adjustment variables provide considerable flexibility meeting needs specific gateway offer analysis simulation empirical data test efficacy scheme 
upper graph demonstrates measure flow turnover rate bottom graph indicates number entries required state table hold entries active flows 
top graph plots single environment median th percentile number new destination network host pair flows 
bottom graph plots median maximum number active destination network host pair flows 
expected larger timeout greater number active flows smaller turnover rate measured number new timed flows 
specifically median number active destination network flows th percentile maximum distribution new flows seconds number flows establishing steady state new flows seconds skew distribution number new flows second 
similarly number timed flows flows lasted hour interval data set timed hour skewing distribution flow durations 
second second timeout data set median number new flows requiring set 
dropping second timeout required maintaining median number active destination network flows second setting median number flows second 
behavior host pair flow counts similar characterized higher means expect 
second timeout yielded average new flows second active host pair flows 
second flow timeout yielded approximately median number active flows trades greater number active flows reduced setup requirement median new flows requiring setup second maximum new flows second 
contrast values metrics host pair versus destination network flows highlights difference flow setup flow granularities 
cases show clearly tradeoff memory requirements storing flows higher timeouts versus processing requirements frequent flow setup teardown lower timeouts 
flow granularities exhibit similar behavior different parameters 
provides perspective flow timeout affect flow statistics 
note flows endpoint granularity host pair occur trace 
example uc nsf data trace unique host pair flows different numbers legend top line top graph reflect fact shorter timeouts flows reappear multiple times tally 
information better understand implications 
top graph shows total number host pair flows function flow timeout number flows recreated time interval equal timeout value 
bottom graph shows ratio flows recreated flow timeout value unique host pair flows 
timeout value unique host pair flows set torn times average hour timeout seconds brings factor 
dividing total number flows number unique flows indicative second timeout value approximately flows ones flow timeout number flows total flows recreated flows fig 

top total number host pair flows function flow timeout number flows recreated time interval equal timeout value bottom ratio flows recreated flow timeout value unique host pair flows uc nsf pm recreated seconds 
second timeout half flows recreated seconds 
graphs plot axis log scale top graph plots axis log scale 
graph consistent lower timeouts incur undue thrashing reflected ratios flow timeouts seconds 
case study optimal flow timeout router designer want empirical knowledge flow parameters target environment order determine appropriate timeout values flow setup tear 
particular needs quantify cost set tear flows versus holding open cost may involve components 
user may perceive cost delay setting flow dollar charge holding circuit open 
costs network router include number instructions required set flow memory cost holding flow open possibly search time computational burden involved maintaining flow state 
assuming normalize cost units refer cost establishing new flow holding active flow active new flows interval router operating cost aa nn 
uc nsf pm trace flow statistics shows value minimized values ratio case study flows deserving state equipment protocol designers ask related question flows state establishment pay 
possible evaluation establish state flow uc nsf pm trace flow parameters 
particular illus number packets flow constrains router create state population flows 
assuming takes instructions forward regular packet instructions forward packet special flow information exists instructions install flow flow comprises packets average maintaining flow state sense gamma theta theta 
gamma theta gamma maximize efficiency installing unproductive single packet flows ensuring 
gamma gamma example instructions instructions flow installation require instructions 
router designer take advantage empirical data discussed earlier section iii discuss section iv determine flow establishments avoid preferred pvc svc configuration atm network 
example pvc substrate offer standard service background traffic traffic flows travel dynamically established switched circuits actual flow requirements 
high priority video stream travel separate svc aggregation low priority video streams services flow profiles upper left may travel pvc network allocated background non premium traffic 
envelope presentations eventually metric simple flow count may limited measure impact flows workload specific environment 
explore interaction number flows total traffic volume depict dimensional profile mean number active flows second hour dimension mean second traffic volume packets dimension 
plots dimensional metric environment host pair flows second timeout 
expected flow traffic volume product highest uc nsf pm environment high flow counts high utilization 
ucsd pm second highest supporting host pair flows fairly high second packet rate 
dividing quadrants leaves upper right lower left 
flow traffic volume metric help assess multiple dimensions workload specific networking environment 
value representing specific environment graph moves diagonal graph compounded characteristics fairly similar just 
hand packet volume rate value stays number flows value significantly changes traffic composition changing 
measurements indicate environments studied current ip traffic consists short transaction behavior longer term flows 
short packets short flows shed doubt strategy optimizing long flows fact minority case 
section discuss trends may change situation implications operators internet components 
higher layer protocol explore flow type affects aggregate flow metrics 
differences flow profiles protocol may lead designer accounting scheme choose charge small flows maintaining records certain flow types having special cache free flows exceed certain packet volume 
small flows dramatic impact atm link level circuit multiplexing policies setup teardown costs entire flow 
section extend results aggregate flow metrics dimensional perspective show insight effect protocol router workload 
illustrate point graphs newer data set march uc nsf site order get www traffic profile behavior 
uses second flow timeout uc nsf environment plots number flows packet type versus mean number packets type flow 
graph highlights range extremely low packet volume flows dns short duration transactions smtp www heavier flows carried file transfers interactive communications 
note transaction nntp protocol exhibits relatively high average packet flow ratio 
graph include traffic profile popular protocol carrying video audio multicast flows mbone 
lower right quadrant graph emphasizes impact continuous stream protocols relatively flows packet byte volumes orders magnitude higher conventional applications 
applications lower right quadrant fundamentally change nature workloads internet environments 
proliferation different traffic types internet fundamentally different workload characteristics including transport protocol tcp delineate flow difficult define internet flow critical 
methodology profiling traffic flows internet parameterized variety aspects 
applied methodology case study packet traces multiple networking environments findings data sets 
objective derive flow metrics relevant variety applications including route caching usage accounting specialized routing resource reservation algorithms 
table ii summarizes key results case study individual flow profiles 
describing individual internet flows sufficient understanding aggregate traffic behavior systems level 
explored descriptors entire population flows 
table iii summarizes key findings study aggregate flow profiles data traces studied 
metrics quantity turnover rate flows relevant route caching strategies network switching equipment 
important characteristic measured data number host pair flows appears far proportional square number network number pair flows uniform matrix traffic volume active sites imply 
phenomenon prominent wide area environments aggregate large number users applications requiring host pair state 
traffic locality compensate somewhat brevity large proportion internet flows section iii 
note internet environments face challenging workload shift increasing real time continuous media applications tend exhibit greater volume duration products 
methodology describe form complementary approach existing operational statistics collection applied continuous spot measurements yielding insights larger issues internet evolution environments different aggregation cope resource contention changing composition volume flows 
vi 
acknowledgments express appreciation cooperation assistance received randy butler ncsa jim madden staff ucsd allowed access specific data collection points 
vern paxson lawrence berkeley laboratory fred baker advanced computer communications helpful comments earlier drafts 
jain packet trains measurement new model computer network traffic ieee journal selected areas communications vol 
pp 
september 
clark design darpa internet protocols proceedings acm sigcomm august pp 

zhang shenker clark observations dynamics congestion control algorithm effects way traffic proceedings acm sigcomm september pp 

mogul observing tcp dynamics real networks proceedings acm sigcomm august pp 

mogul network locality scale processes proceedings acm sigcomm september pp 

acharya newman wolfe chow real time hierarchical traffic characterization campus area network proceedings sixth international conference modelling techniques tools computer performance evaluation university florida 
acharya flow model computer network traffic real time measurements second international conference telecommunications systems modeling analysis march 
caceres danzig jamin mitzel characteristics wide area tcp ip conversations proceedings acm sigcomm september pp 

table ii key results individual flow profiling case study see appendix details measurements environments 
host pair flow timeout values seconds appropriate tradeoff router processing memory incurring thrashing cache vs requiring flow state entries packet flow caused creation entry router 

timeout values seconds host pair flows packets kilobytes seconds 
virtually infinite timeouts host pair flows consist single packet bytes 

large proportion flows short duration second timeout busiest backbone data set uc nsf pm host pair flows second consisting single packet 

flow volume duration correlated higher level protocol 
second timeout tcp flows consist single packet udp flows consist single packet icmp flows consist single packet 

tcp udp ports provide indication expected duration volume flow large majority single packet udp flows dns protocol unsurprising nature dns protocol 
second flow timeout dns constituted total packets constituted total number host port pair flows 

examining shorter flows function protocol evident short flows approximately third flows dns gopher ntp finger 
table iii key results aggregate flow profiling case study see appendix details measurements environments 
data sets studied number host pair flows times number network pair destination network flows 

number flows router able maintain create delete state table depends timeout value environment busy entrance point nsfnet backbone median number active host pair flows second second timeout approximately median new deleted flows second maximum new flows second 

tradeoff timing flows early allowing continue memory resources significant 
busy backbone data set timeout value unique host pair flows set torn times average hour timeout seconds brings redundancy factor 
measurements indicate environments studied current ip traffic consists short transaction type traffic longer term flows 
short packets short flows shed doubt strategy optimizing long flows fact minority case 
note new applications may change characteristic internet environments introduce traffic flows different behavior particularly real time continuous media flows tend exhibit greater duration flow volume 

data sets examined exhibited significant flow locality confirming results previous studies 
sdsc internal fddi lan chance address packet packets 
ucsd campus address history account packets 
backbone inflow points require history account percent traffic noteworthy hundreds thousands possible destination network addresses traffic san diego illinois inflow points destinations referenced previous address respectively 
measurements indicate environments wide scope conducive flow state maintenance mechanisms 
estrin mitzel assessment state lookup overhead routers proceedings ieee infocom may pp 


ahn peter danzig estrin hybrid technique simulating high bandwidth delay computer networks proceedings acm sigmetrics may 
partridge proposed flow specification internet request comments series rfc september 
laubach classical ip arp atm internet request comments series rfc january 
juha encapsulation atm adaptation layer internet request comments series rfc july 
grossman perez hoffman atm signaling support ip atm internet draft april 
ford rekhter 
braun improving routing addressing internet protocol ieee network vol 
pp 
may 
steve deering simple internet protocol plus specification available ds internic net draft ietf spec txt february 
caceres multiplexing data traffic wide area cell networks matsushita information technology laboratory technical report march 
keshav empirical evaluation virtual circuit holding times ip atm networks proceedings ieee infocom june 
claffy polyzos 
braun traffic char nsfnet backbone proceedings ieee infocom march pp 

demers keshav shenker analysis simulation fair queueing algorithm proceedings acm sigcomm september pp 

scott shenker david clark lixia zhang scheduling service model scheduling architecture integrated services packet network internet draft march 
clark shenker zhang supporting realtime applications integrated services packet network architecture mechanism proceedings acm sigcomm august pp 

sally floyd link sharing resource management models packet networks unpublished memorandum september 
zhang deering estrin shenker zappala rsvp new resource reservation protocol ieee network vol 
pp 
september 
mitzel estrin shenker zhang architectural comparison st ii rsvp proceedings ieee infocom march 
jain characteristics destination address locality computer networks comparison caching schemes computer networks isdn systems vol 
pp 
may 
david improving gateway performance routing table cache proceedings ieee infocom march pp 

riccardo measurement study diskless workstation traffic ethernet ieee transactions communications vol 
pp 
september 
mbone provides audio video internet ieee computer vol 
pp 
april 
paxson empirically derived analytic models wide area tcp connections appear ieee acm transactions networking vol 
august 
ramakrishnan gateway congestion control survey internet request comments series rfc august 
claffy 
braun polyzos tracking long term growth nsfnet backbone communications acm vol 
pp 
august 
claffy polyzos 
braun internet traffic flow profiling ucsd tr cs sdsc gaa november 
appendix data collection case study provides illustration subset internet interconnectivity 
actual implementation forms complex framework 
right half depicts table iv lists sites collected traffic data covering range internet traffic aggregation points 
collected packet traces early nsfnet backbone sites traffic going nodes backbone 
particular selected fddi interfaces nsfnet backbone node san diego urbana champaign 
data trace locations generally allow investigate recommend improvements operational statistics collection nsfnet backbone 
test traffic flow methodologies broader range environments analyzed packet traces locations internal fddi lan national supercomputing facilities san diego supercomputer center sdsc fddi campus backbone university california san diego ucsd smaller departmental subnet sdsc visualization laboratory ethernet connects workstations served common file servers 
site dedicated sgi indigo workstation capture hour traces hours night 
traces backbone environments collected data going direction utilizing fddi mac level address nsfnet node filter traffic backbone 
unidirectional collection allows assess impact inflow nsfnet backbone mirror results arts traffic characterization described operationally collects statistics inbound nsfnet traffic backbone node 
remaining data collection locations apply filters collected ip traffic lans 
table iv lists sites collected data including starting times size hour trace 
table provides basic population parameters data sets including second packet byte volumes 
graphs tables refer data sets acronyms sd nsf uc nsf sdsc ucsd sd viz 
am pm suffix identifies data set approximately am approximately pm hour collection 
preliminary comparisons data sets revealed am sets quite similar pm sets respect parameters interest flow durations volume characterized lower means flow counts traffic volume 
focus pm data sets majority graphs 
statistics composition traces see 
table iv collection sites flow profiling investigation code site layer date am start pm start sd nsf san diego fddi nsfnet backbone march uc nsf urbana champaign fddi nsfnet backbone march sdsc sdsc fddi 
ctr 
june ucsd ucsd academic fddi university march sd viz sdsc visualization lab ethernet dept subnet march table population parameters hour data sets measured second intervals total min mean max sd total min mean max sd data set sec mb kbytes sec sd nsf am sd nsf pm sdsc am sdsc pm ucsd am ucsd pm uc nsf am uc nsf pm sd viz am sd viz pm collected traces drive simulation soft flow state maintenance 
dynamically assess flows simulate state maintenance machine entry active flow defined 
simulation proceeds follows 
time see new flow create new timestamped entry 
retain entry long traffic exists associated flow 
flow garbage collection procedure executed second deletes flows longer qualify active timeout value deleted flows reports flow volume packets bytes flow duration 
flow byte volume includes ip transport protocol headers 
addition second report total number active new deleted flows second 
time flows synchronously discrete observation points second depicts record actual duration difference timestamp packet seen flow packet incurred creation flow 
flow timeout sec fig 

operating cost versus timeout value various values ratio flow setup cost maintenance cost uc nsf pm traffic data mean number packets second sd nsf am sd nsf pm sd int am sd int pm ucsd am ucsd pm uc nsf am uc nsf pm sd vis am sd vis pm fig 

mean number host pair flows versus mean second packet rates environment second flow timeout mean number packets flow total flows ftp data telnet smtp dns www nntp fig 

number flows protocol versus packet volume flow including newer protocols includes mbone www traffic uc nsf second flow timeout national backbone mid level mid level campus campus department nsfnet backbone sd nsf uc nsf ucsd sdsc sd viz measurement point fig 

hierarchical model internet interconnectivity internet locations selected characterization sd nsf san diego nsfnet node traffic going backbone uc nsf urbana champaign nsfnet node traffic going backbone ucsd uc san diego campus backbone sdsc san diego supercomputer center internal fddi lan sd viz san diego supercomputer center visualization laboratory small subnet sdsc 
