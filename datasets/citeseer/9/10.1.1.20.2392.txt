analysis link failures ip backbone iannaccone chen chuah richard bhattacharyya christophe diot today ip backbones provisioned provide excellent performance terms loss delay availability 
performance degradation service disruption case failure fiber cuts router crashes investigate occurence failures sprint ip backbone potential impact emerging services voice ip voip 
examine frequency duration failure events derived routing updates collected different points sprint ip backbone 
observe link failures occur part everyday operation majority short lived minutes 
discuss various statistics distribution inter failure time distribution link failure durations essential constructing realistic link failure model 
analysis routing service time controlled link failure scenario backbone 
results indicate disruption packet forwarding link failures depends routing protocol dynamics design routers architectures control planes 
results offer insights basic components defining network wide availability consider appropriate metric service level agreements support emerging applications 
service level slas today internet service providers isps simple metrics packet loss packet delay port availability 
computed network wide usually averaged month period 
third metric term port refers point customer link terminates isp edge router 
port availability refers fraction time port operational measures customer physical connectivity isp iannaccone com bhattacharyya com diot com sprint advanced technology laboratories ca 
chuah chuah ece ucdavis edu university california davis 
mort microsoft com microsoft research cambridge uk 
done chuah visiting sprint atl 
network 
today ip backbones engineered guarantee excellent performance metrics described 
example typical sla may guarantee average loss rate average delay msecs continental usa port availability sla may sufficient traditional internet applications email file transfer web access may support emerging applications voice ip voip 
new applications adversely affected packets dropped delayed due failures caused optical fiber cuts router reboots maintenance windows important define notion service availability applications 
loosely speaking service availability measures fraction time network provide service customer access web site voice calls 
issue availability easier understand telephone networks call admission control phone calls blocked event problem equipment failure high call volume rendering network unavailable 
situation different ip networks admission control 
network service may unavailable customer customer packets lost due heavy congestion routers inside network temporarily unable find route destination 
current ip backbones adequately provisioned extremely 
route destination may unavailable failure occurs routing protocol recompute alternate path failure 
referred routing protocol time 
step defining measuring service availability develop detailed understanding failures occur network long failure impacts packet forwarding 
unfortunately little known issues operational networks 
attempt address deficiency analyzing link failures sprint operational ip backbone 
contribution fold 
part study routing updates collected passive listener month period 
analyze frequency duration link failures re ported link state pdus 
report various statistics mean inter failure times individual links form basis realistic link failure model large network 
failure model fundamental effective network design traffic engineering 
second part examine typical link failure disrupts packet forwarding 
data study collected shutting multiple network links maintenance window 
analyze router logs routing updates listener snmp link utilization data carefully isolate identify factors contributing protocol time 
addition study impact failure experiment voice ip active probes inject network 
studying network failures service disruption typical failure provide insights aspects important defining service availability network 
rest structured follows 
section ii describe systems record routing messages method identifying failures network 
section iii presents analysis failure events section iv describes potential impact failure data traffic 
section concludes describes 
collecting updates ii 
method python toolkit collect link state pdus backbone 
includes listener collects enabled router ethernet link 
router treats listener way adjacent routers forwards listener receives rest network 
broadcasts entire network listener informed routing level change occuring network 
listener passive sense transmit router 
session listener router kept alive periodic keepalive hello messages 
receiving lsp listener prepends header format extended include timestamp granularity finer second writes file 
data collected single listener point presence pop backbone 
installed listeners different pops backbone 
listeners synchronized ntp stratum servers 
www com department ip interworking routing advantages having multiple listeners 
able cross check information collect listener 
second able determine time takes lsp reach different ends backbone 
processing isis updates ip level connectivity directly connected routers lost router independently broadcasts adjacency lsp network 
connectivity restored router broadcasts adjacency lsp 
note loss connectivity ip level may triggered variety causes optical fiber cut router interface failure protocol malfunction refer event failure event 
failure event recorded timestamp lsp received listener reports failure 
reporting loss ip connectivity may reach router listener time 
approach determining failure event lsp received conformant protocol reacts failures 
soon router receives lsp reporting adjacency considers ip connectivity lost waiting second lsp 
lsp sufficient trigger route recomputation may lead disruption packet forwarding 
failure event ends listeners receive lsp ends link 
conformant routers handle adjacency received router considers ip connectivity restored 
backbone constant evolution new links added older ones week 
link adjacency broadcast subsequent adjacency lsp 
hand ip connectivity lost due problem optical fiber restoration usually takes hours just minutes 
connectivity loss due router protocol problems usually restored hour 
order distinguish link valid failure events consider failure events subsequently receive adjacency hours 
goal study link failures focus report link failing restored failure 
note collected contain information weight changes router overload bit set reset discussion scope 
failure events failure events failure events time dec mar fig 

notifications failure events time scales day top hour middle minutes bottom iii 
study failure events limit study failure events inter pop level failures occuring links connect different pops network 
reasons 
pop pop topology stable time internal topology pop frequently modified accomodate new customers 
failure events intra pop level due planned reconfiguration addition removal links 
events relevant unplanned failure events determining improve service availability 
secondly traffic engineering policies determined primarily pop pop topology 
intra pop link failures smaller impact traffic backbone routers inside pop connected full mesh allow localization effect failure event 
temporal analysis failures shows distribution failure events occur month period period december april timescales day hour minutes observe failure events fairly spread days course single day 
days mid january number failures significantly higher particularly day accounted total number failures events 
determining reason suspect may widespread outage day due multiple fiber cuts 
possible identify factors causing failures routing updates 
duration proprietary reasons unable provide absolute numbers 
cumulative distribution frequency failure duration minutes fig 

duration failure events time day hour fig 

frequency failures hours time windows failure may provide hints possible cause 
plot cumulative distribution failure durations month period 
find failures longer minutes 
possibly caused fiber cuts equipment failures upgrades 
note longest duration failure hours disregard failure events ip connectivity restored hours section ii 
failures minute minutes 
possibly caused router reboots software problems transient equipment problems short maintenance operations optical fiber interestingly failure events minute 
cause investigation possible reason router mistakenly consider adjacency 
happen router cpu overloaded fails process keepalive messages detect loss adjacency 
furthermore possible multiple failure events single link short span time fact oscillatory effect single fault problem 
interesting compare number failure events due scheduled maintenance cumulative distribution network wide failures time failures min fig 

cumulative distribution times failures entire network unplanned accidental desirable eliminate minimize 
maintenance windows scheduled late night early morning breakup failure events time day sheds light issue 
show failures months grouped hour bins time day eastern standard time 
observe failure events occur pm est am est 
take account hour time difference east west usa time window maintenance windows scheduled 
failure events period possibly scheduled maintenance fact time period accounts half failures indicates maintenance activities account significant portion failure events observe 
note failure events period impact traffic backbone relatively lightly loaded night 
link failure model expected outcome analysis failure events construction failure model captures failures occur large operational network 
large number questions need answer order 
example distribution failure durations 
ii distribution time successive failure events 
iii links identical terms failure characteristics 
iv model failure link independently links 
section discuss issues initial results 
distribution failure durations discussed previous section 
start looking mean time failures days percentage total failures backbone link fig 

failure mean time failures link distribution time failures 
shows cumulative distribution time consecutive failure events entire network 
implies lot failures happen close 
surprising network known experience periods widespread outage multiple links network brought fiber cuts 
keeping earlier speculation oscillatory problems single link manifesting bursts short failure events 
hand mean time failures indicates links experience failures spaced apart time 
shows mean time successive failures link percentage total failures affecting link 
observe links differ widely failure characteristics 
mean time failure link may low minutes 
link experience bursts short failures quite frequently possibly due faulty router optical components 
hand links hardly fail 
show percentage failures link sorted decreasing order 
find highly failure prone links account failures 
shows analysis help network operators identifying problematic links router interfaces 
links differ widely failure characteristics link failure model account 
data may useful regard 
example network simulation study mean time failures links simulated network assigned conform distribution 
order answer question iv need develop deeper understanding causes failure events physical topology network 
link failures due router interface problems reasonable model failure process link independently 
single fiber cut potentially affect multiple links believe failures certain subsets links correlated different subsets may independent links disjoint fiber paths 
issue remains studied depth 
summarize initial results analysis link failures 
analysis provides hints possible causes link failures 
provide insights number questions central building link failure model 
operational point view analysis useful identifying fixing chronic problem points network 
deeper analysis remains done usable link failure model built 
iv 
impact typical failure important goal examine typical link failure impacts operational network control data plane 
study protocol dynamics re convergence properties response link failures 
second component refers service availability packet forwarding disrupted 
crucial determining sla performance offer voip vpn customers 
experimental setting sent way packet probes machine east coast west coast backbone network 
shortest path taken probes traverses different pops 
probes byte long udp packets sent ms dag cards capture timestamp packets way systems 
maintenance window midnight shut backbone links connecting pops path packet probes 
links brought minutes 
waited network stabilize repeated experiment shutting links connecting pops 
effect force traffic go different cities 
analyze network reacts categories events link kicking convergence procedure recompute shortest paths route entries 
traffic may lost due unresolved routes interim new alternative path 
link previously failed recovered 
routers recompute shortest paths destinations 
traffic originally carried link re routed respective alternative paths primary shortest paths 
analyze protocol dynamics collected routing data listeners described section ii 
record logs routers ends links spf log system log 
spf log tells start time duration lsp triggers specific shortest path spf computation router 
system log records control plane activities router timestamp specific interface declared stack notified 
addition packet probes traceroute run continuously experiment determine exact path followed traffic interested 
experimental results experiment study long takes network stabilize event specifically routing convergence delay service disruption duration 
routing convergence delay defined duration link failure recovery instant new routing tables available router 
service disruption time refers duration time packet forwarding stops time resumes 
authors identified components contribute convergence delay failure detection lsp propagation spf computation 
additional steps involved service restoration process depend router architecture design router control plane 
contributing factors summarized follows 
detection interface 
router may directly notified hardware may identify link due loss sequence hello packets 

initial delay stack notified link status change 
cisco routers defined carrier delay timer value 
timer filter short transient link flaps 

initial wait generate new lsp informs routers event 
determined timer lsp gen interval 
timer permits lsp message generation prevents lsp message transmission processing consuming excessive router resources 

lsp flooding network 
note lsp flooding subject router lsp gen interval 

delay arrival lsp start spf computation 
cisco routers determined spf interval timer 
role timer aggregate multiple closely spaced lsp messages perform spf computation incorporates changes 

spf computation update routing information base rib 
rib contains hop address destination prefix router knowledge bgp isis messages 
note hop may multiple hops away router 

pushing new routing entries forwarding information base fib 
fib contains specific local information serve incoming packets output interfaces destination prefix 
definition routing protocol said converged new routing table ready step convergence delay time taken complete step 
router know forward traffic step completed 
service convergence delay sum protocol convergence delay plus time taken update 
experimental results cisco default values timers parameters lsp gen interval 
interestingly results show show failure detection done hardware level takes milliseconds default carrier delay step seconds seconds 
step add insignificant delay ms step default value spf interval seconds 
spf computation takes ms topology nodes includes update rib 
putting numbers routing convergence take seconds event event 
determine service disruption time compute time needed perform step analyze sequence number arrival time packet probes 
gaps sequence number indicate packet losses 
shows sequence number versus time event links shut 
notice seconds gap packets dropped due unresolved routes link failure 
additional seconds delay traffic forwarding resumes routing protocol converged seconds 
cost updating pushing information fib 
summary timers fib update significant components contribute service sequence number east coast west coast time utc fig 

sequence number voip probe packets disruption time 
tune timer values carrier delay spf interval ms convergence time reduced seconds 
timers originally absorb transient flaps need evaluate tradeoff fast convergence network stability determine optimal timer values 
serious need revisit router architectural design implementation issues sub second fail achieved 
studied main issues form basis defining precise measure service availability sprint ip backbone 
analyzed characteristics network wide link failure events derived routing updates 
analyzed service disruption caused typical link failure event backbone 
best knowledge systematic study failure behavior operational network 
proceed directions 
aim study link failure events greater depth order define realistic failure model operational ip network 
second intend progress defining measure network service availability emerging applications voip 
require combining various kinds information statistics failure events network wide basis link basis ii impact failures data traffic iii knowledge traffic demands failed links iv knowledge primary backup paths backbone 
aim define basis point point slas network availability service pops network 
casner 
isis routing backbone recipe isis convergence 

cisco systems 
ios configuration guide 
cleary design principles accurate passive measurements 
passive active measurement workshop 

osi intra domain routing protocol 
rfc 
