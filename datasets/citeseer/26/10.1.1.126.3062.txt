exploiting network proximity distributed hash tables miguel castro peter druschel charlie hu antony rowstron microsoft research thomson close cambridge cb fb uk 
rice university main street ms houston tx usa 
purdue university ee building west lafayette usa 
self organizing peer peer overlay networks chord pastry tapestry called distributed hash tables dhts offer novel platform variety scalable decentralized distributed applications 
systems provide efficient fault tolerant routing object location load balancing self organizing overlay network 
important aspect systems exploit network proximity underlying internet 
basic approaches proposed exploit network proximity dhts geographic layout proximity routing proximity neighbour selection 
position briefly discuss approaches contrast strengths shortcomings consider applicability different dht routing protocols 
conclude proximity neighbor selection dhts routing pastry tapestry highly effective appears dominate approaches 
systems chord pastry tapestry provide self organizing substrate largescale peer peer applications 
systems viewed providing scalable fault tolerant distributed hash table dht item located bounded number routing hops small node routing table 
dhts assign live node overlay key provide primitives send message key 
messages routed live node currently responsible destination key 
keys chosen large space node assigned identifier nodeid chosen space 
node maintains routing table nodeids ip addresses nodes 
dhts routing tables assign keys live nodes 
instance pastry key assigned live node nodeid numerically closest key 
simplest case dhts store key value pairs centralized hash tables 
lookup insert operations performed small number routing hops 
overlay network completely self organizing node maintains small routing table size constant logarithmic number participating nodes 
dhts platform variety distributed applications including archival stores application level multicast :10.1.1.159.9358
algorithmic similarities proposed dhts important distinction lies approach take considering exploiting proximity underlying internet 
considering network proximity important lookup key value pair stored nearby node may routed nodes far away network different continents worst case 
basic approaches suggested exploiting proximity dht protocols geographic layout nodeids assigned manner ensures nodes close network topology close nodeid space 
ii proximity routing routing tables built network proximity account routing algorithm chooses nearby node hop ones routing table 
routing strikes balance making progress destination nodeid space chosing closest routing table entry network proximity 
iii proximity neighbour selection routing table construction takes network proximity account 
routing table entries chosen refer nodes nearby network topology live nodes appropriate nodeids 
distance traveled messages minimized increase number routing hops 
proximity neighbour selection tapestry pastry 
basic chord protocols consider network proximity 
geographic layout proximity routing considered geographic layout proximity neighbor selection currently considered chord 
background brief description dht protocols pastry tapestry chord 
pastry keys nodeids bits lengths thought sequence digits base 
node routing tables approximately rows columns 
entries row routing table refer nodes nodeids share digits node nodeid th nodeid digit node column row equals column row corresponding value digits local node nodeid remains empty 
routing pastry requires routing step node normally forwards message node nodeid shares key prefix digit longer prefix key shares node id node known message forwarded node nodeid shares prefix key long current node numerically closer key node id expected number routing hops approximately tapestry similar pastry differs approach locating numerically closest node sparsely populated nodeid space manages replication 
pastry uses overlapping sets neighboring nodes nodeid space leaf sets locate destination final routing hop store replicas data items fault tolerance 
tapestry uses different concept called surrogate routing locate destination inserts replicas data items different keys 
approach achieving network locality similar systems 
chord protocol forwards messages routing step node numerically closer key 
pastry tapestry chord forwards messages clockwise direction circular id space 
forward messages chord node maintains finger table consisting pointers live nodes 
th entry finger table node refers node smallest nodeid clockwise note entry points successor subsequent entries refer nodes repeatedly doubling distances node chord maintains set clockwise neighbors nodeid space successor list 
expected number routing hops chord routes messages dimensional space node maintains routing table entries node reached routing hops 
entries routing table nodes neighbours current node dimensional space 
pastry tapestry chord routing table grow network size number routing hops grows faster case 
choice entries routing tables chord tightly constrained 
routing table entries refer specific neighboring nodes dimension chord finger table entries refer specific points nodeid space 
tapestry pastry hand routing table entries chosen arbitrarily entire segment nodeid space impact expected number routing hops 
greatly facilitates prox neighbor selection 
geographic layout geographic layout explored technique improve routing performance 
technique attempts map dimensional space physical network nodes neighbours dimensional space routing tables close physical network 
implementation nodes measure rtt set landmark servers compute coordinates node space 
technique achieve performance disadvantage fully self organizing requires set known landmark servers 
addition may cause significant imbalances distribution nodes space lead hotspots 
considering method chord tapestry pastry additional problems arise 
whilst geographic layout provides network locality routing sacrifices diversity neighboring nodes nodeid space consequences failure resilience availability replicated key value pairs 
chord pastry property integrity routing fabric disrupted entire leaf set successor set fails 
likewise protocols replicate key value pairs neighboring nodes namespace fault tolerance 
proximity nodeid assignment neighboring nodes due proximity suffer correlated failures conspire 
proximity routing proximity routing proposed 
involves changes routing table construction maintenance routing tables built network proximity account 
node measures rtt neighbor routing table entry forwards messages neighbor maximum ratio progress dimensional space rtt 
number neighbors small average neighbors spread randomly network topology distance nearest neighbor significantly larger distance nearest node overlay 
additionally approach trades number hops path network distance traversed hop may increase number hops 
limitations technique effective geographical layout 
proximity routing version chord 
small number nodes maintained finger table entry message forwarded topologically closest node entries nodeid closer counterclockwise message key 
entries chosen specific region id space expected topological distance nearest entries larger distance nearest node overlay 
furthermore appears entries need maintained technique effective entries keys 
increases overhead node joins size routing tables 
conclude proximity routing affords improvement routing performance improvement limited fact small number nodes sampled specific portions nodeid space nodes closest network topology 
shall see structure routing tables pastry tapestry allow larger degree freedom entries significant impact routing performance 
proximity neighbour selection tapestry pastry locality properties derive mechanisms build routing tables take network proximity account 
attempt minimize distance proximity metric nodes appear node routing table subject constraints imposed nodeid prefixes 
pastry ensures invariant node routing table proximity invariant entry node routing table refers node near proximity metric live pastry nodes appropriate nodeid prefix 
result proximity invariant message normally forwarded routing step nearby node proximity metric nodes nodeid shares longer prefix key 
expected distance traveled consecutive routing step increases exponentially density nodes decreases exponentially length prefix match 
property derive distinct properties pastry respect network locality total distance traveled expected distance routing step tends dominate total distance traveled message 
result average total distance traveled message exceeds distance source destination node small constant value 
local route convergence paths pastry messages sent nearby nodes identical keys tend converge node near source nodes proximity space 
see observe consecutive routing step messages travel exponentially larger distances exponentially shrinking set nodes 
probability route convergence increases step case earlier smaller routing steps moved messages farther apart 
result significance caching applications layered pastry 
routing algorithms pastry tapestry allow effective proximity selection freedom choose nearby routing table entries large set nodes 
leads route locality properties 
join protocol allows pastry identify appropriate nearby nodes small number network probes 
analysis simulations internet topology models confirm 
proposed limited form proximity neighbor selection nodes assigned zone dimensional space 
node periodically gets list nodes neighboring zone measures rtt 
node lowest rtt chosen neighbor zone 
technique effective tapestry pastry routing table entry chosen small set nodes 
observations geographical layout may attractive approach negative impact fault tolerance properties dhts 
dhts pastry chord rely diversity neighboring nodes namespace integrity routing fabric replication keyvalue pairs 
applying geographic layout protocols raises additional concerns 
constructing layout completely self organizing fashion may prove difficult 
landmark servers need managed remain available may bottlenecks heavy load denial service attacks 
proximity routing requires changes routing table construction maintenance mechanisms proximity neighbor selection requires expensive mechanisms 
return proximity neighbor selection effective routing table entries chosen refer nearby nodes place 
proximity routing sufficient largely avoid really bad cases routing different continent returning 
effectiveness proximity neighbor selection depends routing algorithm dht 
algorithms routing table entries selected large set candidates able achieve lower average hop distance impose constraints routing table entries 
technique effective pastry tapestry 
algorithm described shows proximity neighbor selection implemented pastry low overhead effective exploiting network proximity achieves low delays rapid route convergence 
experience applications built top pastry shows important 
currently open question proximity neighbor selection effectively applied chord equally effective techniques exist exploit network proximity protocols chord 
castro druschel hu rowstron 
exploiting network proximity peer peer overlay networks 
submitted publication 
dabek kaashoek karger morris stoica 
widearea cooperative storage cfs 
th acm symposium operating systems principles oct 
oceanstore architecture global scale persistent store 
proc 
asplos november 
ratnasamy francis handley karp shenker 
scalable content addressable network 
proc 
acm sigcomm aug 
ratnasamy shenker stoica 
routing algorithms dhts open questions 
proceedings iptps cambridge usa march 
www cs rice edu conferences iptps 
rowstron druschel 
pastry scalable distributed object location routing large scale peer peer systems 
international conference distributed systems platforms middleware nov 
rowstron druschel 
storage management caching past large scale persistent peer peer storage utility 
th acm symposium operating systems principles oct 
rowstron 
kermarrec castro druschel 
scribe design large scale event notification infrastructure 
third international workshop networked group communications nov 
stoica morris karger kaashoek balakrishnan 
chord scalable peer peer lookup service internet applications 
proceedings acm sigcomm conference san diego california august 
zhao kubiatowicz joseph 
tapestry infrastructure fault resilient wide area location routing 
technical report ucb csd berkeley april 
zhuang zhao joseph katz kubiatowicz 
bayeux architecture scalable fault tolerant wide area data dissemination 
proc 
eleventh international workshop network operating system support digital audio video nossdav june 

