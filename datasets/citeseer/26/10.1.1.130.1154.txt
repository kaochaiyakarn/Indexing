ieee transactions pattern analysis machine intelligence vol 
august surfaces occlusions layered stereo michael lin carlo tomasi propose new binocular stereo algorithm estimates scene structure collection smooth surface patches 
disparities patch modeled continuous valued spline extent patch represented pixelwise partitioning images 
disparities extents alternately estimated iterative energy minimization framework 
experimental results demonstrate scenes consisting smooth surfaces proposed algorithm significantly improves state art 
index terms binocular stereo vision energy minimization graph cuts hybrid system smooth surfaces surface fitting boundary localization sharp discontinuities quantitative comparison 
foundations stereo correspondence triangulation 
images find pair left right image points correspond world point geometry readily yields dimensional position world point 
search corresponding pairs central part stereo problem 
constraints help solve correspondence 
geometric calibration epipolar constraint reduces search possible point matches dimensions 
photometric calibration color constancy narrows possibilities points look alike 
marr poggio proposed additional heuristics mitigate ill posedness stereo uniqueness states item image may assigned disparity value continuity states disparity varies smoothly constraints relatively straightforward application varies greatly :10.1.1.127.3572
propose axis categorization binocular stereo algorithms interpretation continuity uniqueness 
sections list axes category consider preferable 
continuity axis describes modeling continuity disparities smooth surface patches 
constant 
point smooth surface patch assigned disparity value 
value usually chosen finite predetermined set possible disparities set integers range set multiples fraction range 
examples prior category include traditional sum ssd correlation :10.1.1.112.6806:10.1.1.23.3536
discrete 
disparities limited discrete values multiple distinct values permitted surface patch 
surface smoothness context means surface neighboring pixels disparity values lin acuity technologies edison way building menlo park ca 
mail cs stanford edu 
tomasi department computer science levine science research center section duke university po box durham nc 
mail tomasi cs duke edu 
manuscript received june revised may accepted sept 
recommended acceptance quan 
information obtaining reprints article please send mail tpami computer org ieeecs log number 
ieee published ieee computer society cally close possible 
examples prior category include :10.1.1.40.4349
real 
disparities smooth surface patch vary smoothly real numbers 
various interpretations smoothness try minimize local second order differences disparity 
examples prior category include :10.1.1.113.1823:10.1.1.130.1154
discontinuity second axis describes treatment discontinuities boundaries surface patches penalty discontinuity examined function size jump discontinuity 
free 
discontinuities specifically penalized 
methods fail resolve ambiguity caused periodic textures textureless regions 
examples prior category include traditional ssd correlation 
infinite 
discontinuities penalized infinitely disallowed 
recovered disparity map smooth 
examples prior category include :10.1.1.113.1823
convex 
discontinuities allowed penalty imposed finite positive convex function size jump discontinuity 
resulting discontinuities tend somewhat blurred cost adjacent discontinuities single discontinuity total size 
examples prior category include :10.1.1.40.4349:10.1.1.130.1154
nonconvex 
discontinuities allowed penalty imposed nonconvex function size jump discontinuity 
resulting discontinuities tend fairly clean cost adjacent discontinuities generally single discontinuity total size 
examples prior category include :10.1.1.112.6806:10.1.1.112.6806
uniqueness third axis describes application uniqueness especially occlusions 
way 
uniqueness assumed chosen image considered 
location image assigned disparity disparities multiple locations image may point location image 
typically location image assigned exactly disparity occlusion relationships ignored 
examples prior category include traditional ssd correlation :10.1.1.112.6806
asymmetric way 
uniqueness encouraged images images treated unequally 
reasoning occlusion done occlusions accompany depth discontinuities qualitatively recovered chosen image resulting asymmetries reconstructed result 
examples prior category include :10.1.1.130.1154
symmetric way 
uniqueness enforced images symmetrically detected occlusion regions marked correspondence 
examples prior category include :10.1.1.112.6806:10.1.1.23.3536
overview propose algorithm described fully lies preferable category axes :10.1.1.130.1154
authors knowledge algorithm binocular stereo 
contend scenes consisting smooth surfaces algorithm improves state art achieving accurate localization depth surface interiors subpixel disparity estimation accurate localization image plane surface boundaries symmetric treatment images proper handling occlusions 
ieee transactions pattern analysis machine intelligence vol 
august section describes mathematical model stereo problem 
sections describe surface fitting boundary localization section summarizes algorithm 
sections experimental results concluding remarks 
preliminaries section develop mathematical abstraction stereo problem continuous domain 
discretization computational discussed subsequent sections 
mathematical abstraction layered model represent possible solutions stereo problem 
follow common practice assuming input images normalized photometric geometric calibration 
particular assume images rectified 
fp left right space image locations 
input image pair 
typically color images grayscale images 
note defined continuous domain practice interpolated discrete pixels 
model hypothesized solution consists labeling segmentation assigns point input images zero surfaces plus disparity maps assigns disparity value point input images segmentation 
ng disparity map 
ng segmentation function specifies surfaces image location belongs take belonging mean existence world point projects image location question visible images 
surface signed disparity function defines correspondence matching function image locations 
left right vice versa 
interpretation model corresponds corresponds location image desired properties abstraction evaluate hypothesized solution 
propose properties characterize solution consistency smoothness 
consistency 
correspondence bidirectional images world point corresponds corresponds 
corresponds correspond translates constraint equivalent constraint additionally constraint ideally consistency exact computationally merely maximized 
smoothness 
continuity dictates recovered disparity map consist smooth surface patches separated cleanly defined smooth boundaries 
smooth 
disparity maps continuous valued functions take smoothness mean differentiability magnitude higher derivatives relatively small 
segmentation function piecewise constant take smoothness mean simplicity boundaries separating pieces total boundary length relatively small 

solutions explain input possible 
example images interpreted views distinct surfaces shown camera trivial interpretation valid undesirable 
color constancy violated solution excessively undesirable 
expect correspondence exists color constancy holds image locations energy minimization formalize stereo problem energy minimization framework 
formulate energy terms corresponding desired properties applied disparity maps surface interiors segmentation surface boundaries total energy sum thereof 
surface fitting section consider subproblem estimating disparity maps supposing segmentation known 
context formulate discuss minimization energy terms encourage surface smoothness consistency 
surface model model disparity map surface bicubic spline 
control points spline placed image fixed uniform rectangular grid experiments 
resulting spline surface thought linear combination shifted basis functions shifts constrained grid 
mathematically restrict follows jn bicubic basis function lattice control points spacing thereof 
surface energy term called data term literature penalizes deviation color constancy 
quantify deviation scaled sum squared differences match measure certainty defined follows identity matrix shorthand outer product xx represent convolution gaussian width define vp fp fq ieee transactions pattern analysis machine intelligence vol 
august dp fp small constants 
intuitively serves normalize local contrast note energy terms defined integrals computational convenience merely take finite sum discrete pixel positions 
surface smoothness spline model ensures degree surface smoothness inherent smoothness limited spatial scale larger spline control point grid 
smoothness global scale impose additional energy term loosely speaking proportional global variance surface slope smooth smooth rd mean rd summation mean taken discrete pixel positions independent segmentation energy term attempts quantify deviations global planarity 
surface consistency perfect consistency surface left right views coincide exactly specified 
left right views simultaneously constrained form exact coincidence generally longer possible 
allow discourage propose energy term match match intuitively measures distance surfaces defined left right views 
sum taken discrete pixel positions independent segmentation surface optimization particular section subproblem minimize total energy varying holding remaining constant 
total energy sum terms shown section depend smoothly 
section remaining terms shown depend depend smoothly 
total energy function differentiable minimized standard numerical methods 
convenience matlab optimization toolbox specific algorithm chosen trust region method quadratic subproblem 
call minimizing total energy fitting step 
segmentation section consider subproblem estimating segmentation supposing disparity maps known 
context formulate discuss minimization energy terms encourage segmentation smoothness consistency 
segmentation graph cuts boykov showed certain labeling problems formulated energy minimization problems solved efficiently finding minimum cost cuts associated network graphs :10.1.1.112.6806
formally finite set labels finite set items set interacting pairs items 
methods find labeling assigns exactly label fp lto item subject constraint energy function form minimized :10.1.1.112.6806
individual energies dp arbitrary interaction energies vp metric 
generic formulation energy minimizing labeling problem maps formulation stereo problem follows labels integers possible values segmentation function items pixels input image 
contrast items pixels single image items pairs potentially corresponding pixels :10.1.1.112.6806:10.1.1.23.3536
formulation individual energies stem testing color constancy varying disparities interaction energies stem expectations smoothness consistency 
algorithm prohibits pixels split spatially surfaces constraining surface boundaries lie pixel boundaries 
representing continuous domain segmentation function finite number unknowns perform nearest neighbor interpolation discrete grid pixels defined integer lattice round round segmentation primary goal segmentation subproblem assign pixel surface fits best 
accomplished minimizing match defined consider functional constant vice versa 
note nonnegative match trivially minimized 
discourage solutions large number unassigned pixels add fixed penalty unassigned pixel unassigned unassigned underlying segmentation problem moment ignoring smoothness consistency find labeling minimizes sum match unassigned 
put form corresponds definition individual pixel preferences dp fp fp dp unassigned segmentation smoothness secondary goal encourage simple segmentation smooth boundaries surface extents 
attributes formalize notion choose minimize boundary length relatively simple optimize works fairly practice 
addition preference simple boundaries expectation boundaries generally correlated monocular image features called static cues :10.1.1.112.6806
estimate edge likelihood function gradients local contrast 
measure edge likelihood point adjust cost unit length boundaries passing point 
issue consider boundaries want minimize 
intuitively minimizing length boundary tend shorten remove protrusions indentations long thin 
sense regions correspond surfaces regions correspond occlusions occlusion regions fact usually long thin 
encourage simple segmentation define energy term surface ieee transactions pattern analysis machine intelligence vol 
august smooth adjacent ws xor adjacency connectedness image ws smooth jrij smooth constants ri evaluated 
put form smooth corresponds penalty function vp fp fq ws fp xor fq fp fq ws fp fq fp fp fq fp fq adjacent equals argument true equals 
segmentation consistency exact consistency segmentation satisfy 
quantify discourage inconsistencies formulate energy term surface match match xor approximates area regions hold 
ideally section term defined integral case naive finite sum adequate substitute subpixel disparities allowed explained :10.1.1.130.1154
take match match jm qj conjugate epipolar lines dj dj dj dj note implementation modifies rounding corners dj dj total energy remains differentiable respect 
put form match corresponds penalty function vp fp fq wc fp xor fq corresponding scanlines wc match match constant 
segmentation optimization section subproblem minimize total energy varying holding constant 
total energy sum terms independent section remaining terms written form vp verified metric 
total energy function optimized graph cut methods :10.1.1.112.6806
modified version expansion algorithm :10.1.1.112.6806
algorithm built expansion moves gets power generality moves expansion label finds best configuration reachable relabeling subset pixels precede expansion label contraction label replacing instances spatially nearest label strictly enlarges set reachable configurations 
call pair label segmentation step 
optimization section consider problem simultaneously determining surface shape form disparity maps surface support form segmentation unknown 
algorithm built surface fitting segmentation steps sections 
steps reduces total energy reasonable initial hypothesis iterating steps convergence give reasonable final solution 
course component wise optimization quite possible reach local minimum 
undesirable configurations generally types hypothesized surface spans actual surfaces hypothesized surfaces span actual surface 
algorithm currently reliably extract type local minima relies careful initialization avoid getting situations 
initial hypothesis formed placing fronto parallel surface integer disparity specified range possible disparities pixels initially unassigned 
type situation easily handled 
hypothesized surfaces span actual surface hypothesized surface eventually come dominate naturally driven extinction 
case merge step generally remedy situation 
take merge step save snapshot current state 
forcefully remove surface 
orphaned pixels relabeled immediately redistributed remaining surfaces series segmentation steps 
surface fitting segmentation steps taken total energy falls saved snapshot case merge succeeds snapshot discarded total energy plateaus snapshot case merge fails snapshot restored 
complete algorithm follows 
initialize hypothesis surfaces integer disparity 

repeat alternately apply segmentation surface fitting steps progress negligible 
surface attempt merge merge succeeds merges fail 
merges fail 

optionally fill unmatched regions neighboring matched regions see :10.1.1.130.1154
experimental results implemented algorithm combination matlab tested stereo pairs available online :10.1.1.127.3572:10.1.1.130.1154
section results experiments representative subset images compare achieved algorithms 
complete results :10.1.1.130.1154
ieee transactions pattern analysis machine intelligence vol 
august fig 

venus tsukuba stereo pairs estimated disparities disparity errors error distributions 
quantitative results evaluate accuracy algorithm general framework proposed scharstein szeliski provide sample stereo pairs ground truth describe metric comparing results ground truth tabulate results algorithms :10.1.1.127.3572
evaluate results measuring fraction unoccluded pixels estimated ground truth disparities differ pixel particular ignore estimated disparity occluded pixels 
contrast measure fraction pixels occluded unoccluded disparity error exceeds threshold 
consider range thresholds plot fraction bad pixels function thereof 
plots compare algorithm appear accurate tabulated :10.1.1.127.3572
due space limitations show results stereo pairs :10.1.1.127.3572
venus color stereo pair fig 
shows slanted planes including regions virtually texture 
surfaces joined crease edge remaining boundaries step edges 
algorithm extremely producing times fewer bad pixels nearest competition significant range disparity error thresholds :10.1.1.127.3572
largest error occurs corner shaped depth discontinuity penalty boundary length causes tip missed 
type behavior typical result minimizing boundary length regard boundary curvature junctions 
tsukuba color stereo pair fig 
shows laboratory scene consisting various planar smoothly curved nonsmooth surfaces 
long thin structures algorithm tends boundaries thereof 
notable ground truth represents surfaces fronto parallel integer disparity algorithm produces curved surfaces subpixel disparities 
particular algorithm models entire head curved surface disparity range approximately half pixel 
qualitative results verify algorithm recover crease edges needs color dense texture tested grayscale stereo pairs birchfield tomasi due space limitations show results 
original version stereo pair shows minor photometric variations left right images minor geometric distortion 
fig 
modified version photometric variations removed 
note geometric distortion left place manifests apparent curvature floor recovered algorithm 
stereo pair approximated slanted planes 
disparity edges marked intensity edges distracting intensity edges accompany disparity edges 
birchfield tomasi multiway cut algorithm images misleading intensity edges crease edges 
algorithm problem different error box represented surface 
umbrella verify algorithm reconstruct curved surfaces dense texture tested stereo pair creation 
stereo pair fig 
shows surfaces 
essentially planar strongly slanted floor low contrast fine grained texture checkerboard patterns high contrast coarse grained texture 
additionally rear surface large somewhat warped essentially textureless sheet cardboard strongly curved umbrella composed large essentially textureless panels joined high contrast color edges disparity edges 
simultaneous combination disparate features stereo pair particularly challenging 
results algorithms stereo pair note algorithms capable representing smoothly curved surfaces subpixel disparity ieee transactions pattern analysis machine intelligence vol :10.1.1.127.3572
august fig 

umbrella stereo pairs input images grayscale estimated disparities color coded estimated disparities 
trademarks remain property respective owners 
trademarks registered trademarks strictly educational scholarly purposes intent mark owners 
values fewer readily reproduce sharp discontinuities disparity map 
algorithm correctly segments scene smooth surfaces represented real valued disparity map contains creases presence strong color edges suggest 
algorithm places boundaries accurately crease edges edges accompanied significant occlusion regions qualitatively recovers curvature background umbrella little help texture 
discussion quantitative qualitative results suggest scenes consisting smooth surfaces algorithm produces accurate reconstructions subpixel disparity values explicit precise localization boundaries surfaces planar curved textured untextured low contrast color grayscale 
despite achievement room improvement 
limiting aspect current implementation model surfaces 
model works quite results overly restrictive scenes surfaces smooth 
able handle surfaces shape detail implementation finer grid control points splines define surface shape 
require refined model surface smoothness 
note parameters algorithm controlling things coarseness segmentation amount surface shape detail constant fact vary surface surface surface 
addition disparity maps segmentation parameters estimated separately adaptively surface believe algorithmic framework capable producing accurate results wider variety scenes 
baker szeliski anandan layered approach stereo reconstruction proc 
computer vision pattern recognition pp 

barnard fischler computational stereo computing surveys vol 
pp 

belhumeur bayesian approach binocular stereopsis int computer vision vol 
pp 

birchfield tomasi multiway cut stereo motion slanted surfaces proc 
int conf 
computer vision pp 
vision stanford edu birch 
bobick intille large occlusion stereo int computer vision vol 
pp 

boykov veksler zabih fast approximate energy minimization graph cuts ieee trans :10.1.1.112.6806
pattern analysis machine intelligence vol 
dec 
cox hingorani rao maggs maximum likelihood stereo algorithm proc 
computer vision image understanding vol 
pp 

darrell pentland cooperative robust estimation layers support ieee trans 
pattern analysis machine intelligence vol 
pp 
may 
aggarwal structure stereo review ieee trans 
systems man cybernetics vol 
pp 

geiger yuille occlusions binocular stereo int computer vision vol :10.1.1.112.6806
pp 

ishikawa geiger occlusions discontinuities epipolar lines stereo proc 
european conf 
computer vision vol 
pp 

kanade okutomi stereo matching algorithm adaptive window theory experiment ieee trans 
pattern analysis machine intelligence vol 
pp 
sept 
kolmogorov zabih computing visual correspondence occlusions graph cuts proc :10.1.1.23.3536
int conf 
computer vision pp 

lin surfaces occlusions layered stereo phd thesis stanford univ robotics stanford edu layered stereo :10.1.1.130.1154
marr poggio cooperative computation stereo disparity science vol 
pp 

poggio torre koch computational vision regularization theory nature vol 
pp 

roy cox maximum flow formulation camera stereo correspondence problem proc :10.1.1.40.4349
int conf 
computer vision pp 

scharstein szeliski taxonomy evaluation dense frame stereo correspondence algorithms int computer vision vol :10.1.1.127.3572
pp 
www edu stereo 
szeliski spline image registration int computer vision vol :10.1.1.113.1823
pp 

tao sawhney kumar global matching framework stereo computation proc :10.1.1.130.1154
int conf 
computer vision pp 

kanade cooperative algorithm stereo matching occlusion detection ieee trans 
pattern analysis machine intelligence vol 
pp 
july 
