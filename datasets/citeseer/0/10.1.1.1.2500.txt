power aware multimedia streaming heterogeneous multi user environments radu cornea mohapatra dutt alex nicolau venkatasubramanian dept information computer science university california irvine ca radu dutt nicolau ics uci edu streaming multimedia content heterogeneous handheld devices significant research challenge due diverse computation capabilities battery lifetimes devices 
unified framework integrates low level architectural optimizations cpu memory os power saving mechanisms dynamic voltage scaling adaptive middleware techniques admission control transcoding network traffic regulation provide significant improvements system performance user experience 
integrated framework investigate trade offs involved serving distributed clients simultaneously maintaining acceptable qos levels client 
show power savings attained cpu memory network levels aggregated increased performance 
demonstrate integrated framework supports tight coupling inter level parameters enhance user experience handheld devices 
advances processor wireless networking technology generating new class multimedia applications video streaming mobile handheld devices 
typically devices limited resources lower processing power memory display capabilities storage limited battery lifetime compared desktop laptop systems 
hand multimedia applications higher quality service qos processing requirements tend extremely resource hungry 
addition human perception multimedia quality significantly influenced device specific attributes form factor 
delivering high quality multimedia content mobile handheld devices preserving service lifetimes remain competing design requirements 
introduces key research challenges design multimedia applications intermediate adaptations lowlevel architectural improvements device 
distributed environments heterogeneous devices perform simultaneous streaming pose important challenge system designer 
distribution poses new problems related mobility shared resources qos trade offs accommodating increased number users 
years witnessed researchers aggressively trying propose optimize techniques power performance trade offs realtime applications 
different solutions proposed various computational levels architecture hardware caches memory optimizations dynamic voltage scaling dvs dynamic power management dpm system components disks network interfaces efficient compilers techniques application middleware adaptations 
interesting disconnect observed research initiatives undertaken level 
power optimization techniques developed computational level remained seemingly independent abstraction hierarchy levels potentially missing opportunities substantial improvements achievable cross level integration 
cumulative power gains observed aggregating techniques stage potentially significant requires study trade offs involved customizations required unified operation 
example decisive middleware os adaptations possible low level information optimal register file sizes cache configurations available similarly low level architectural components cpu registers caches optimized architecture cognizant higher level details specific video encoding 
interaction different layers important distributed applications combination local global information helps improves control decisions power performance qos trade offs runtime 
fig 
presents different computation levels typical handheld computer cross layer interactions optimal power performance 
purpose study develop integrate hardware architectural optimization techniques high level operating system middleware approaches fig 
improvements power savings partially supported nsf award aci 
server client client client video player tasks network management dvs scheduler network card transcoding admission control operating system applications display cache memory cpu middleware fig 
abstraction layers distributed multimedia streaming application user experience context video streaming distributed environment heterogeneous low power handheld devices 
multimedia applications heavily utilize biggest power consumers modern computers cp network display 
aggregate hardware software techniques induce power savings resources 
address challenge integrating techniques different levels hardware os middleware user adopted multi phase approach 
low level architectural tuning knobs identified combined compilation techniques optimized cpu performance ideal operating points determined video streams specific quality levels knobs study trade offs involved performing dvs low level optimization methods evaluate power gains wireless network interface adaptive middleware technique typical network multiple users noise 
start summarizing previous results 
effect multiple users system resources estimated drive integrated framework 
feedback middleware multi user power aware admission control quality power supported video transcoding study power vs quality tradeoffs context distributed network handheld computers 
experiments integrated approach withe final goal improving user experience satisfaction context streaming video handheld computers distributed environment 
integrating techniques able enhance individual user experience dynamically perform adaptation provide improved system performance users 
previous results shown architectural optimizations give energy savings cpu memory middleware techniques savings power consumption network interface card 
combined results framework able accommodate larger number users system serve clients increased level video quality devices unable stream video clip completion initially due low battery life 
system architecture assume system model depicted fig 

system entities include multimedia server proxy server utilizes directory service rule base specific devices video transcoder ethernet switch wireless access point ap users low power wireless devices 
circles represent noise access point due network traffic introduced users 
multimedia servers store multimedia content stream videos clients receipt request 
users issue requests video streams handheld devices 
communication handheld device servers routed proxy server video stream real time 
middleware executes handheld devices proxy performs important functions 
devices obtains residual energy availability information underlying architecture feeds back proxy relates video stream parameters network related control information lower abstraction layers 
proxy performs feedback multi user power aware admission control realtime transcoding video stream feedback device 
regulates video transmission network noise level video stream quality 
additionally middleware exploits dynamic global state information mobility info noise level available directory service static device specific knowledge architecture os video quality levels static rule base optimally perform functions 
rate feedbacks sent device dictated administrative policies periodic feedback 
assume network connectivity maintained times 
server directory service rule base proxy transcoder noise switch access point fig 
system model ss goal provide optimal user experience maintain acceptable utility factor system 
define acceptable utility factor obtained system stream highest possible quality video user time acceptable quality power constraints satisfied video clip runs completion quality level equal user specified 
accomplish important understand notion video quality handheld device implications power consumption 
video applications introduce notion human perception video quality important measure performance 
user perception quality significantly influenced environment viewing device pda 
example people able differentiate close video quality levels laptop desktop systems able differentiate close quality levels handheld device 
hard programmatically identify video quality parameters combination bit rate frame rate video resolution produce user perceptible change video quality noticeable shift power consumption 
previous established users distinguish different levels quality handheld device 
selected quality levels high original low chosen perceptible video degradation power variation different adjacent levels 
identified transformation parameters bit rate frame rate video resolution proxy realtime transcoding order generate different quality level videos transcoding process decoding original clip re encoding different parameters 
profiled average power consumption values perform high level coarse power aware admission control system controls users accepted system resources allocated order maintain desired qos 
similar device specific transformations portable computers 
importantly optimize low level architecture discrete video quality levels 
approach provides significant advantages real time stream quality transformations performed overheads dynamically determining quality degradation parameters ii architectural tuning optimized operating points pre determined particular video stream quality 
knowledge stream qualities low level cpu voltage scaling improved 
sections summarizes architectural middleware optimizations integrated system followed system level optimizations final integration 
optimizations multimedia streaming managing distributed multimedia streaming system complex task requires coordination different levels abstractions 
start focusing single client model identifying areas power performance optimizations performed result improved user experience 
section contains summary previous context current endeavor 
details techniques see 
hardware level adaptation hardware design techniques identify multiple modes operation dynamic reconfiguration employed attain high power performance gains cpu architecture level 
order optimize architecture delivering optimal energy performance studied low level functional units maximal impact power consumption 
identified knobs components available higher abstraction levels dynamically tuning hardware mpeg video applications 
previous shown major sources power consumption handheld device ipaq fig 
display full backlight network hardware cpu memory additional board circuits 
subsystems expose ways controlling power dissipation 
case display lcd main energy drain comes backlight predefined user setting limited degree controllability system affecting final utility 
network interface allows efficient power savings cognizant higher level protocol behavior explored subsequent section 
components mentioned cpu coupled memory subsystem poses biggest challenge 
intrinsic high dependence input data processed quality code generated compiler organization internal architecture predicting power consumption profile hard general power saving results obtained utilizing knowledge application running extensive profiling representative data input set application domain 
focused attention possible optimizations cpu level multimedia streaming application mpeg 
display network card quality driven cache reconfiguration memory cpu data cache functional units register file clock fig 
main components handheld device extensive simulation identified subcomponents cpu consume power observed power distribution inside cpu mpeg decoding 
follows internal cpu caches account largest part energy consumed processor 
relative power contribution internal units cpu vary significantly nature quality video played 
various techniques pertinent cache optimizations 
power consumption cache depends runtime access counts hits result cache access misses add penalty accessing main memory external 
fortunately applications inherent locality data means cache rate relatively low accesses external memory 
mpeg decoding exhibits relatively poor data locality combined large data sets exercised algorithm leads increase cache memory traffic 
cache reconfiguration goal optimizing energy consumption particular video quality level qk 
general cache power consumption particular configuration video quality dependent cache size associativity 
profiling function entire search space available cache configurations determine optimized operating point video quality 
video qualities operating point exists improves cache power consumption opposed configuration 
technique effectively fine tunes organization cache perfectly matches application data sets processed yielding important power savings 
mention current processors including arm core ipaq general exhibit aggressive architectural reconfigurations special purposes research projects eventually techniques incorporated processors 
integrated dynamic voltage scaling different knob controlling power drawn processor dynamic voltage scaling dvs 
voltage scaling method trading processor speed power lowering voltage operating frequency power consumption running high speed voltage larger running low speed voltage 
technique provides significant savings mpeg streaming allows tradeoffs transforming frame decoding slack time cpu idle time important power savings 
mpeg decoding frames processed fraction frame delay fd frame rate 
actual value frame decoding time depends type mpeg frame processed intra coded predicted bidirectionally predicted frames cache configuration size associativity dvs setting frequency voltage 
study assumed buffered decoding decoded frames placed temporary buffer read frame displayed 
allowed decouple decoder displaying decoding time different different frames assume average particular video stream quality 
difference average frame delay actual frame decoding time gave slack time fd performed dvs slowed cpu decrease slack time minimum computed operating frequency voltage minimized slack 
having best dvs setting cache configuration quality level looked effect integrated approach power consumption 
dvs totally independent cache reconfiguration technique cache configurations largest slack time allow higher dvs power reductions result effectively reshaped total power consumption 
simulation best operating points dvs cache reconfiguration combined approach 
architecture aware middleware adaptation gains obtained lower levels architecture amplified combined techniques higher levels middleware 
adaptive middleware framework proxy dynamically intercept doctor video stream exactly match video characteristics target architecture optimized 
additionally regulate network traffic induce maximal power savings network interface 
network traffic regulation developed proxy traffic regulation mechanism reduce energy consumption device network interface 
mechanism able dynamically adapt changing conditions network specific attributes wireless transmission bandwidth access point buffering 
packets transmitted optimized bursts video proxy control information 
wireless network cards typically consume significantly power active vs sleep mode order magnitude goal optimize video burst sizes order maximize energy savings performance costs 
user user proxy wired wired tcp ip wireless wireless device rtp udp ip access packets point fig 
wireless network analysis power saving approach performed realistic network framework fig 
presence noise ap limitations 
proxy middleware buffers transcoded video transmits frames video single burst time transmission control information 
device uses control information switch interface active idle mode sleep mode 
queueing theory analysis predict packet loss rates access point due limited buffering capacity presence multiple users packets introduced users modeled noise 
observed large values burst length result packet losses access point buffer overflows device 
acknowledged qos aware preferential service algorithm access point impact power management significantly 
analysis adaptive middleware calculate optimal burst length video stream noise level 
system level optimizations previous sections studied multimedia streaming adaptation scenario single client served proxy node 
allowed concentrate server proxy client interaction real system encompass multiple heterogeneous client devices served simultaneously proxy nodes 
today handheld devices exhibit large variation terms multimedia playing capabilities 
includes processing power display size battery life factors approach drive multimedia adaptation proxy 
order provide best user experience device able accommodate increased number clients time proxy middleware level cognizant architecture level characteristics devices served 
allows transcoder proxy better shape streaming traffic devices maximum number clients served qos requested threshold 
extending system architecture multiple users unfolds new problems network congestion proxy node resource exhaustion address problems possible solutions sections 
transcoding multiple streams performing transcoding multiple users proxy node soon saturated process cpu intensive especially real time requirement 
transcoding video stream typically involves steps fig 
mpeg format mpeg decoding transcoder raw format mpeg encoding fig 
transcoder phases decode mpeg stream raw format yuv yv ppm encode raw format back mpeg video new encoding parameters initial processing adjust frame size change frame rate bitrate encoding step demands processing power general time decoding encoding heavily dependent encoding parameters frame size 
denote average cpu processing power percentage load performing task requirement transcoding initial format fi final format ff fi ff fi ff fs fr br specify frame size frame rate bit rate respectively mpeg encoding format 
denote proxy load decoding encoding intermediary steps real time 
middleware continuously monitors system ensures resources available serve clients 
example users connected proxy total load proxy node exceed available computing resources represents load required user case li trans li trans cluster np proxies total load np 
network bandwidth limitation wireless network bandwidth limited large number users performing simultaneous video streaming may lead network congestion inability provide users acceptable quality video stream user defined threshold 
network traffic regulation discussed single user case revisited multi user context 
individual client requires burst transmission length pb bits seconds 
follows bandwidth consumption user bw ii bps client total wireless bandwidth available access point ap condition avoiding network congestion bw 
note considering average network bandwidth local communication spikes handled ap long local buffering allows 
multi user energy aware admission control stream transformations middleware proxy utilizes feedback devices continuously monitor state system 
initially client device control performs energy aware admission control identify request scheduled video streamed user requested quality level entire mpeg format length video 
subsequently monitors residual energy device streams highest quality video performing realtime video transcoding meets energy budget device maintains acceptable qos 
heterogeneous multi user environment large diversity various client devices information record maintained lists device capabilities terms power consumption hardware characteristics power management battery information 
assist control process configuration mode table created client device ci video quality qk lists information available client network proxy level architecture optimal knob configuration cache parameters dvs mode average cpu power consumption architecture level configuration network ideal burst length corresponding network level power consumption proxy load required converting initial stream quality qi access point bandwidth streaming video quality qk part information sent actual device registers rest precomputed proxy node middleware level 
table predicts effect streaming video quality qk client ci involved components client architecture cpu network card configuration power consumption proxy node load access point bandwidth 
system level admission control algorithm fig 
new client request feedback client received proxy tries determine accommodate existing users minimum acceptable quality level specified users 
client denied request 
starting minimum quality level middleware gradually increases quality levels clients long constraints related proxy load ap bandwidth available residual power individual devices satisfied 
optimized operating point system determined result process new configuration updated control system clients notified changes changes exist 
order clients chosen algorithm candidates increasing quality levels important providing improved user experience users 
possible heuristic favor clients lower current quality system tends uniform quality level coverage 
clients quality level heuristic select incurs delta change proxy load bandwidth result increase video quality level 
way possibly users served number users higher quality level provided maximized 
performance evaluation true ri received client determine qk qa pk eres compute video quality qk reject request video quality li trans bwi ap change client configurations client ci heuristic select increase quality qk qk inequalities updated hold change quality qk client ci update system new client configurations reject request video quality fig 
multi user admission control adopted multi phase methodology achieve results 
extensive experimentation profiling identified determinate video quality levels handheld 
determined dynamic video transcoding parameters 
optimized low level architecture perform optimally video streams 
identified best network transmission characteristics video streams encoded quality levels 
moving multi user environment performed experiments estimate cpu load transcoding different formats 
operating points architecture network transmission combined results transcoding proxy admission control algorithm guide streaming videos ipaq evaluate performance system 
video cache cache clock voltage original optimized savings quality size associativity frequency energy energy table architectural configurations ideal energy performance gains action clip experimental setup measurements video quality measurements compaq ipaq mhz intel strongarm processor mb rom mb sdram 
ipaq cisco series aironet mbps wireless pcmcia network interface card communication 
batteries removed ipaq experiment measured power drawn device mpeg streaming 
cpu architecture simulation implemented wattch simplescalar power simulator 
configured simulated cpu resemble typical intel xscale processor widely today mobile devices due excellent mips watt performance arm core mhz um instruction cache data cache single issue 
mpeg decoder berkeley mpeg tools 
video transcoding done commercially available transcoder 
input video decoding traces various video clips low action news content high action gta fast scene changing streams 
clips extract sequence simulated encode noticeable different levels quality level corresponds best possible quality frame size fps framerate kbps bitrate 
level differs previous parameter frame size frame rate bitrate 
way clear observable degradation quality quality level 
decoding program simulated wattch statistics extracted simulator output 
experimental results section performance architectural middleware optimizations obtained prior 
integrated framework top individual results 
improvements utility system achieved system integrated approach distributed environment 
architectural optimizations profiling short sec video clips power simulator combinations cache parameters size kb kb associativity collected total energy consumption entire duration video clip quality video quality levels able determine cache configuration minimizes energy consumption 
cache reconfiguration obtained power savings range depending nature video 
observations cache associativity produces largest shift energy consumption extreme values proving inefficient especially direct mapped caches 
best cache configurations reflect internal storage requirements different frame sizes organization decoding algorithm 
optimized knobs applying dvs combined dynamic voltage scaling technique cache reconfiguration increased effect power consumption 
combined approach gave energy savings compared initial architecture 
repeated procedure video quality levels 
cases able run cpu significant lower voltage mainly due initial high speed simulated xscale processor mhz quality code highly optimized 
energy savings obtained techniques knob values optimized configuration summarized table action video clip 
numbers serve input integrated framework 
middleware optimization video bursts video quality varied video burst time network noise level network packet size 
wired wireless ethernet bandwidths set mbps mbps effective capable higher throughput set 
transmission delay wireless access point fixed packet 
expected highest quality video small burst time compared lowest quality video 
ideal burst times ascertained frames missed deadlines device 
table shows ideal burst times corresponding power savings video stream encoded quality levels 
observe power saved nic highest quality video lowest quality video 
expected power gains diminish noise 
clearly small burst times yield gains 
interestingly additional user system new optimal burst time exists 
numbers gathered drive integrated approach 
quality level burst length power saved burst length power saved burst length power saved secs watts secs watts secs watts table optimal network video burst lengths secs corresponding power gains different quality noise levels grand theft auto action video assuming sufficient buffer available client network packet size kb transcoding results perform transcoding experiments transcoder 
original action type movie clip converted different parameters frame size bitrate frame rate 
measuring time required perform transcoding intel ghz mb internal memory observations frame size followed frame rate largest influence transcoding time proxy load 
expected amount processing required increases size frame processed 
bitrate change transcoding time significantly 
bitrate values control quantization step mpeg encoding computationally intensive 
nature video stream action vs news type slightly affects total transcoding time seen fig measured transcoding time function frame size relative original clip video type encoding time relative frame size fig 
transcoding time different frame sizes action new video proxy load action news fig 
proxy loads different videos transcoding time compute proxy load total transcoding time cpu utilization single user mode seconds cpu load proxy system multi user real time transcoder determined 
proxy loads converting original format defined quality levels fig second video sequence 
integrated framework evaluate performance integrated framework architectural middleware optimizations place fig 
order generate scenario captures problems real environments chose set constraints system sensitive changes user configuration performs new adaptation important event new user joins power change feedback mpeg stream finishes 
assume system proxy node mbps bandwidth available wireless network bandwidth 
user specifies acceptable video quality qa low quality allow larger range possible operating points 
initially users system 
available residual energy system decides initial video quality device configuration user 
time new user request join system controlled proxy 
order accommodate new client middleware decides lowering video quality rest users network seen graphs 
note video qualities equal acceptable threshold video levels 
due circumstances user consuming energy higher rate anticipated example new process started actual device 
result system lowers quality stream client able increase quality level different user example 
video quality optimizations optimizations fig 
multi user scenario time fifth user joins group 
order accept new user system lowering quality user decrease proxy node load bandwidth usage 
user finishes execution newly freed resources proxy load bandwidth allow system improve video quality nodes 
streaming finishes client resources released clients left experience video streaming higher levels 
seen graph optimizations system adaptation clients served simultaneously system 
due increased power consumption tasks user able stream entire video completion 
rest users possible video quality streamed low dynamic adaptation deliver quality time 
note situations system chose lower quality users allow better global function 
integrated approach brings significant improvement power consumption translates higher video quality streamed substantially improves user experience client 
users served dynamic adaptation able adjust streams meet current state system 
related provide acceptable video performance hardware level efforts concentrated analyzing behavior decoder software devising architectural enhancements software improvements decoding algorithm 
believed caches bring potential benefit context mpeg video decoding 
fact due poor locality data stream mpeg implementations viewed video data un cacheable completely disabled internal caches playback 
show video data sufficient locality exploited reduce cache memory traffic percent user user user user user simple architectural changes 
dynamic voltage scaling mpeg streams widely researched 
application middleware levels primary focus optimize network interface power consumption 
thorough analysis power consumption wireless network interfaces 
shenoy suggests performing power friendly proxy video transformations reduce video quality real time energy savings 
suggest intelligent network streaming strategy saving power network interface 
grace project cross layer adaptations maximizing system utility 
suggest coarse grained fine grained tuning parameters optimal gains 
resource aware admission control adaptation suggested multimedia applications optimal cpu gains 
dynamic transcoding techniques studied objective video quality assessment studied 
integrated low level hardware optimizations high level middleware adaptations enhancing user experience streaming video handheld computers distributed environment 
identified fine tuned low level hardware best perform video streams discrete quality levels 
higher level middleware approach intercept transform stream compliment architectural optimizations 
proxy adaptive network transmission mechanism developed minimize power consumption network interface card 
impact handling multiple users system resources studied 
techniques integrated system system functionality tested realistic scenario 
significant improvements observed requested video stream quality enhancing user experience substantially 
currently exploring architectural middleware system level adaptations improving power consumption displays storage devices integrating framework 
itu recommendation bt methodology subjective assessment quality television pictures 
itu geneva switzerland 
smith 
compressed domain transcoding mpeg 

david brooks vivek tiwari margaret martonosi 
wattch framework architectural level power analysis optimizations 
isca june 
chandra 
wireless network interface energy consumption implications popular streaming formats 
mmcn january 
chandra vahdat 
application specific network management energy aware streaming popular multimedia formats 
usenix annual technical conference june 
choi wei chung chen pedram 
frame dynamic voltage frequency scaling mpeg decoder 
iccad 
radu cornea mohapatra dutt alex nicolau venkatasubramanian 
integrated power management video streaming mobile handheld devices 
technical report university california irvine 
nilsson 
investigating energy consumption wireless network interface ad hoc networking environment 
ieee infocom april 
paul havinga 
mobile multimedia systems 
phd thesis university twente feb 
chung hsu ulrich kremer michael hsiao 
compiler directed dynamic frequency voltage scheduling 
lecture notes computer science 
jan jansen danny de 
quality assessment video streaming broadband era 

turner 
reduced energy decoding mpeg streams 
mmcn january 
mohapatra venkatasubramanian 
parm power aware reconfigurable middleware 
icdcs 
patel oh 
performance profile mpeg transcoding motion vector reuse mechanism 
technical report kent state university 
patel brian smith lawrence rowe 
performance software mpeg video decoder 
acm multimedia 
shenoy peter 
proxy assisted power friendly streaming mobile devices 
mmcn 
peter 
optimizing data cache performance software mpeg video decoder 
acm multimedia pages 

www net 
winkler 
issues vision modeling perceptual video quality assessment 
signal processing 
yuan nahrstedt 
middleware framework coordinating processor power resource management multimedia applications 
ieee globecom nov 
yuan nahrstedt adve doug 
jones robin kravets 
design evaluation cross layer adaptation framework mobile multimedia systems 
mmcn january 

