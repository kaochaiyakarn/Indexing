programming research group reasoning temporal relations tractable subalgebras allen interval algebra andrei peter jeavons computing laboratory university oxford uk mail peter comlab ox ac uk peter jonsson department computer information science link oping university sweden mail peter jonsson ida liu se prg rr oxford university computing laboratory wolfson building parks road oxford ox qd allen interval algebra best established formalisms temporal reasoning 
nal step classi cation complexity allen algebra 
show current knowledge tractability interval algebra complete algebra contains exactly eighteen maximal tractable subalgebras reasoning fragment entirely contained subalgebras np complete 
obtain result giving new uniform description known maximal tractable subalgebras systematically algebraic technique identifying maximal subalgebras property 
reasoning temporal constraints important task areas computer science including scheduling natural language processing planning database theory technical diagnosis circuit design archaeology behavioral psychology similar problems studied genetics 
frameworks formalizing type problem suggested see survey instance point algebra expressing relations time points point interval algebra expressing relations time points intervals famous allen interval algebra expressing relations time intervals 
allen algebra kernel formalisms extended di erent types metric qualitative constraints 
algebra extensions closely related number interval temporal logics real time system speci cation see 
reasoning certain restricted fragments allen algebra additional restriction structure problems equivalent known problems interval graph recognition problem interval order recognition problem see play important role molecular biology construction physical mapping dna 
assume np 
basic satis ability problem allen algebra np complete ecient algorithms exist reasoning full algebra 
computational diculty motivated study algorithms complexity fragments algebra subsequent search ective heuristics tractable fragments 
nebel ord horn algebra rst example maximal assuming np tractable subclass allen algebra 
research direction focused identifying maximal tractable fragments fragments extended losing tractability 
far eighteen maximal tractable fragments algebra identi ed 
complete analysis complexity allen algebra showing eighteen forms tractability algebra 
additional restriction structure problems assumed 
complete classi cation complexity certain large part allen algebra previously obtained 
result similar results achieved computer assisted exhaustive search 
noted progress theoretical studies structure allen algebra necessary method complete analysis complexity require dealing individual cases clearly feasible 
theoretical investigations structure allen algebra see consider relation algebras sense de ned tarski generally allow operations relations originally inappropriate classifying complexity interval algebra 
fact maximal tractable subalgebras interval algebra tarski relation algebra 
systematically algebraic methods similar approach taken 
rst novel element approach new uniform description maximal tractable subalgebras allen algebra identi ed table 
fully exploit algebraic properties allen algebra importing technique general algebra 
technique contexts obtain description maximal subalgebras algebra property 
rst time systematically apply technique allen algebra obtain complete classi cation complexity algebra 
main result theorem shows allen algebra contains eighteen maximal tractable subalgebras reasoning subset included np complete 
complexity theory known np exist nitely complexity classes np 
view considerable interest called dichotomy theorems state important np complete problem tractable np complete natural subproblems see 
main result obtained considered new example dichotomy theorem 
organized follows section give basic de nitions allen algebra known maximal tractable subalgebras new form state main result 
section apply result classify complexity allen algebra extended metric information 
section discuss algebraic technique obtaining results type compare computer aided method similar purpose 
sections contain proof new classi cation result section considers subalgebras allen algebra contain non trivial basic relations section contains proof subalgebras 
number np completeness results section collected appendix 
basic relation example endpoints precedes xxx preceded yyy meets xxxx met overlaps xxxx xxx includes starts xxx started nishes xxx nished equals xxxx table thirteen basic relations 
endpoint relations valid relations omitted 
allen interval algebra allen interval algebra notion relations intervals 
interval represented pair real numbers denoting left right endpoints interval respectively 
relations intervals possible unions basic interval relations shown table 
note basic relations jointly pairwise disjoint sense intervals related exactly basic relation 
sake brevity relations intervals written collections basic relations 
instance write pmf allen algebra consists possible relations intervals operations converse 
intersection composition de ned follows xr xry follows converse equal 
intersection relations expressed usual set theoretic intersection 
basic relations pairwise disjoint intersection relations consists problem satis ability propositional logic confused problem satis ability temporal constraints 
including empty relation 
pmo ods od ss ff pmods pmod oo dd ss ff pp mm oo dd ss ff table composition table basic relations allen algebra basic relations de nition composition shown fb mg composition relations determined compositions basic relations contain 
compositions possible pairs basic relations table table verify algebraic calculations forthcoming sections 
problem satis ability sat set interval variables speci ed relations deciding exists assignment intervals real line interval variables relations intervals satis ed 
de ned follows 
de nition set interval relations 
instance sat set variables set constraints form xry question satis able exists function set intervals holds constraint xry function called model example instance fx zg satis able rst constraints imply interval precede interval contradicts third constraint 
instance fx mo df zg satis able 
function model instance sat represented obvious way labelled digraph nodes variables labelled arcs correspond constraints 
way representing instances transparent 
exists polynomial time algorithm solving instances sat say tractable 
hand sat np complete say np complete 
problem sat np complete arises question identifying tractable subsets allen algebra 
subsets closed operations intersection converse composition said subalgebras 
subset smallest subalgebra containing called subalgebra generated denoted hxi 
easy see hxi obtained adding relations obtained relations operations known easy prove problem sat hxi polynomially equivalent sat 
classify complexity subsets necessary consider subalgebras obviously adding relations subalgebra increase complexity corresponding satis ability problem 
nite problem describing tractability reduced problem describing maximal tractable subalgebras subalgebras extended losing tractability 
known maximal tractable subalgebras table 
table proofs symbol interpreted follows 
condition involving means conjunction conditions corresponding corresponding example condition means hold 
main advantage symbol conciseness subalgebra conditions satis ed satis ed simultaneously needs veri ed 
order improve readability names subalgebras table changed earlier presentations way 
dsf pmod sf 
subalgebras table correspond algebras introduced subalgebras table correspond 
previous papers subalgebras table de ned ways 
cases straightforward verify de nitions equivalent original ones 
subalgebra originally de ned ord horn algebra characterized algebra pre convex relations 
description hard show de nition equivalent 
ready state main theorem 
theorem subset allen algebra np complete included eighteen tractable subalgebras table 
proof theorem sections 
interesting consequence theorem follows reasoning single relation problem sat frg np complete satis es mm relation contained pmod sf pmod 
characterisation easy check precisely individual temporal relations sat frg np complete 
allen interval algebra extended metric information section give applications theorem 
consider allen algebra combined forms disjunctive linear constraints known framework subsumes di erent types temporal reasoning problems 
examples problems including scheduling planning inde nite temporal constraint databases see information tractable disjunctive constraints 
de nition fx set real valued variables linear polynomials polynomials degree rational coecients 
linear relation expression form disjunctive linear relation dlr disjunction nonempty nite set linear relations 
dlr said horn disjuncts form problem satis ability nite sets dlrs denoted checking exists assignment variables real numbers dlrs satis ed 
said model satis ability problem nite sets horn dlrs denoted 
example linear relation sp fr pmod rg fr pmod rg fr pmod rg fr pmod rg fr pmod rg fr rg fr rg ep fr pmods rg fr pmods rg fr pmods rg fr pmods rg fr pmods rg fr pmod rg fr pmod rg pmod ff pmod ss os ds pm pm fr rg table maximal tractable subalgebras allen algebra 
disjunctive linear relation horn disjunctive linear relation 
proposition problem np complete solvable polynomial time 
de ne general interval satis ability problem metric information 
de nition instance sat set variables nite set dlrs set fv variables representing starting points points variables instance problem interval satis ability metric information set interval relations denoted sat pair 
model denote starting point point interval respectively 
instance said satis able exists model dlrs satis ed values respectively 
obviously sat problem np complete choices relation expressed terms dlrs 
sat denote sat restricted metric constraints consisting horn dlrs 
theorem sat tractable sat np complete 
proof 
sat tractable problem 
interval constraint equivalent metric constraint assume result follows immediately theorem 
obtain classi cation result restrict possible metric constraints 
de ne sat sat problem metric constraints restricted way may contain variables may relate starting points intervals 
problem sat de ned symmetrically exchanging starting points 
theorem sat tractable contained algebras sp sat np complete 
sat tractable contained algebras ep sat np complete 
proof 
prove part part similar 
contained algebras listed tractability sat follows 
interval constraints ss pmod equivalent metric constraints respectively 
assume ss pmod follows theorem sat tractable contained algebras listed problem np complete 
proof techniques section describe algebraic techniques methods proving np completeness results 
contrast earlier approaches computer assisted exhaustive search 
develop analytical method breaks proof collection simple cases extensive algebraic operations 
approach commonly general algebra identify substructures structure property hereditary substructure possesses substructure contained 
note tractability subalgebra example property allen algebra 
examples similar approach algebraic contexts see 
indicated sucient consider sets subalgebras allen algebra 
furthermore assume loss generality subalgebra contains relation union basic relations allow pairs variables unrelated 
basic relation write denote relation intersection property 
obviously relations depend clear context 
relations form extensively algebraic proofs show contained maximal tractable subalgebra 
example suppose know relation contained relation satis es see note strictly contained contradicts de nition similar argument know contained conclude pmods means proofs obvious fact establish np completeness set relations lemma 
relations de ne problem instance variables fa yg xr xr yr yr yr cg de ne instances brc brc ar cg crb ar cg 
problem instance illustrated 
problem instance lemma lemma 
satis able fr np complete 
proof 
polynomial time reduction np complete problem betweenness de ned follows instance nite set collection ordered triples distinct elements question total ordering 
arbitrary instance betweenness construct instance sat fr follows pair distinct elements add constraint ar problem known total ordering problem 
triple introduce fresh variables add henceforth refer variables correspond set basic variables variables auxiliary variables 
assume model due constraints added step intervals pairwise distinct 
relation induces total order set ff ag 
suppose triple model satis es 
instance auxiliary variables introduced step triple satis able contradiction 
help analogously rule orderings 
solution instance set 
assume exists total order required property show construct model set clearly satis es constraints added step 
assumption triple instance satis able model basic relation know precisely intervals related 
follows model adjusted moving intervals real line stretching shrinking changing relations new model assigns respectively 
fact brc satis able symmetry imply bra satis able exchanging value value vice versa doing 
triple nd values auxiliary variables sets constraints form satis ed time exists model order lemma prove np completeness xed set relations needs check satis ability small instances sat 
straightforward way nebel csp solver computer program checking satis instance sat 
example lemma set oo 
show auxiliary variables consistent values allowed cases corresponding reader encouraged prove chosen satisfactorily remaining orderings 
lemma implies oo np complete 
second method establish np completeness notion derivation 
suppose instance sat 
variables involved relation de ned follows basic relation included instance obtained adding constraint xr satis able 
case say derived noted instance yg satis able intervals model oo oo oo oo example lemma 
established follows satis able model denote exists continuous monotone injective mapping real line takes obviously maps intervals intervals change qualitative relations intervals 
combining obtain required model easily checked adding derived relation change complexity sat instance constraint involving replaced set constraints introducing fresh variables needed done polynomial time 
generally derive relations generate operations allen algebra relation generated derived follows facts relation obtained multiple derivations obtained single derivation relations derived instances xr yg zr yg respectively 
derivation essentially harder manage general operations allen algebra give advantage employing algebraic techniques 
derivations np completeness proofs 
note derivations calculated nebel csp solver 
proof technique principle duality simplify forthcoming proofs 
function reverse de ned basic relations table reverse de ned elements setting reverse reverse 
instance sat obtained replacing reverse 
easy check model model words obtained redirecting real line leaving intervals geometric objects places 
observation leads lemma 
lemma fr fr reverse 
tractable np complete tractable np complete 
example lemma note proof np say ods immediately yields proof np completeness df subalgebras non trivial basic relations section contain proof theorem 
subalgebra denote bas set basic relations assume loss generality contains relation easy show complexity polynomial time equivalence 
implies size bas odd closed converse 
proposition proved 
proposition subalgebra 
tractable contained algebras sp ep npcomplete 
subalgebra tractable sp ep np complete 
subalgebra pp pp mm tractable sp ep np complete 
shall say relation non trivial equal empty relation relation 
result shown section proposition subalgebra contains non trivial basic relation 
tractable contained algebras listed table 
np complete 
note contains non trivial basic relation combining proposition observation preceding suces consider case 
proposition suces consider cases bas sets subsections 
relation write denote relation evidently subalgebra closed operation 
symmetric part relation 
sym denote set fr rg 
case bas subsection show subalgebra bas np complete 
obtain result shall assume subsection subalgebra satisfying assumptions assumption bas assumption np complete 
assumptions obtain increasingly detailed information lemmas able show cases lemmas rely np completeness result 
lemma subsets oo pp np complete 
proof 
apply lemma oo pp respectively 
give proofs note oo dd ss ff de ned table 
lemma assumptions sym fr dd rg fr jr ss fr jr ff proof 
show sym included set npcomplete contradicts assumption 
suppose rst ss ff ss ff belongs sym 
ss ff ss ff oo dsf oo implies np complete lemma 
suppose sym pp mm oo ss ff ss ff 
consider pp mm oo dsf 
easy check non empty pp mm oo 
oo oo np complete lemma 
pp mm pp implies np complete lemma 
lemma assumptions dd ss ff proof 
assume contradiction contains relation dd empty ss ff 
relations choose minimal respect inclusion 
oo ss ff pp mm ss pp mm ff 
case 
oo ss ff assume rst argument dual lemma 
consider oo 
minimality empty empty oo 
consider pp mm oo dsf 
similar argument get oo sf 
combining results gives oo lemma get contradicts assumption 
ss ff 
sf oo contradicts lemma 
sf sf contradicts assumption case impossible 
case 
pp mm ss 
pp pp 
furthermore nonempty subrelation pp contradicts assumption lemma 
mm pp contradiction 
remains consider case mss 
pp satis es pms contradicts assumption 
case 
pp mm ff 
dual case 
lemma assumptions pmods pmod proof 
prove rst statement second dual 
note ss pmods contradicts assumption 
furthermore relations contained pmods lemma contains 
implies pmods non empty 
condition precisely means lemma assumptions contains non trivial relation ss contains non trivial relation ff proof 
cases dual consider rst 
observe ss assume ss 
ss df inverse relation pmod result follows lemma 
view lemma lemma sucient consider cases non trivial dd non empty 
lemma assumptions dd proof 
suppose rst dd 
lemma oo minimality od ff consequently ods oo dsf minimality od 
pmods od pmods pmods implies lemma dual calculations show dd pmod lemma lemma assumptions dd dd proof 
cases dual prove rst 
dd lemma ss minimality oo sff 
suppose oo non empty 
dd lemma 
suppose contrary oo 
sff od sff od od od implies dd result follows lemma 
lemma assumptions dd proof 
consider case dd case dd dual 
lemma pp pd pmm oo dss ff oo non empty lemmas easily get required result example pod implies dd pds implies dd 
may assume pd pmm dsf 
pd pd pmm dsf pp pp symmetric part pp belongs contradicts lemma get pd implies pmods pd pd lemma 
lemma assumptions dd proof 
consider case dd case dd dual 
proof previous lemma pp oo non empty get required result lemmas 
may assume md 
pd md pd pd implies pmods pd pd lemma 
lemma assumptions proof 
subalgebra satis es conditions lemmas lemma contained minimal relations satis es pmods precisely means case bas subsection show subalgebra bas np complete 
obtain result shall assume subsection subalgebra satisfying assumptions assumption bas assumption np complete 
assumptions obtain increasingly detailed information lemmas able show cases 
structure proof quite similar proof case bas 
lemmas rely np completeness result 
lemma subset dd np complete 
proof 
apply lemma dd 
proofs frequent fact note pmo relation pm belong pm pm contradicts assumption 
pmo implies pmo lemma assumptions sym fr oo rg fr jr ss fr jr ff proof 
show sym included set npcomplete contradicts assumption 
suppose rst ss ff ss ff belongs sym 
ss ff ss ff sf dd implies np complete lemma 
suppose exists sym pp mm dd ss ff ss ff 
pp mm non empty pmo pm implying belongs contradicts assumption 
dd ss ff 
easy check dd implies np complete lemma 
lemma assumptions oo ss ff proof 
assume contradiction contains relation oo empty ss ff 
relations choose minimal respect inclusion 
noted pmo implies dd ss ff 
assume rst argument dual 
consider sf 
minimality empty empty dd sf 
consider dd 
similar argument get dd 
combining results gives dd lemma get contradicts assumption 
ss ff 
dd contradicts lemma 
sf sf contradicts assumption 
proofs lemmas omitted similar proofs lemmas respectively 
lemma assumptions pmods pmod lemma assumptions contains non trivial relation ss contains non trivial relation ff view lemma lemma sucient consider cases non trivial oo non empty 
lemma assumptions oo proof 
suppose rst oo 
dd opposite contradict lemma 
minimality od ff consequently pmods sf minimality od 
pmods od pmods pmods implies lemma dual calculations show oo pmod lemma 
lemma oo proof 
ss opposite contradict lemma 
minimality dd sff 
suppose rst dd non empty 
oo lemma 
suppose contrary dd 
sff sff df dd oo result follows lemma 
lemma assumptions proof 
satis es conditions lemmas lemma contained noted subsection contained conclude contained case bas bas subsection show bas np complete contained subalgebras sp 
obvious symmetry relations immediately follows bas np complete contained ep 
obtain result shall assume subsection subalgebra satisfying assumptions assumption bas assumption np complete 
assumptions obtain increasingly detailed information lemmas able obtain result 
lemmas rely np completeness result 
lemma subset frg np complete ods pmods 
proof 
union basic relations consider instance ary variables cases ods pmods shown yg satis able basic relation satis able choice follows ods pmods derive derive relation satisfying od relation easy check pmods implies 
furthermore ss disequality relation relation ss obtained relation relations satisfy conditions lemma ss rg np complete 
relations derived single relation follows frg np complete 
lemma assumptions contains relation od satis es condition proof 
arbitrarily choose od follows od furthermore od pmod pm pm pm pm od od 
follows od od pm od means satis es condition lemma assumptions contains non trivial relation pp mm ff included sp proof 
case 
ff ff od follows satis es condition lemma 
note suppose fails satisfy condition condition conditions previous paragraph hard check relation chosen ff ff ods ff cases multiplying relations left get pmods od np complete lemma contradicts assumption 
case 
ff 
multiplying inverse get ff may assume ff 
relation fails satisfy condition impossible ff going back case 
suppose satis es condition ods od od ff implies case 
suppose od od assume relation satisfy condition pmod pmods pmods pm 
implies contradicts assumption 
relations satisfy conditions case 
mm ff mm 
loss generality may assume mm contradicts assumption 
case 
pp 
assume loss generality pp mm ods 
pp mm pp 
contradicts assumption 
pp holds pp pp mod non empty mod pp 
belongs conclude mod means sp view lemma sucient consider cases additional property holds assumption non trivial oo dd ss 
lemma assumptions oo dd ss dd proof 
case 
oo dd ss 
assumption relation satis es condition pp mm dff 
calculated 
pp mm 
minimality get pp mm 
calculating get pp 
assumption pp furthermore may assume pd 
rst case get pd contradicts assumption 

df suppose contains non empty subrelation 
non empty subrelation implying contradicts assumption 
means case 
dd suppose relation satis es dd hard verify ss contains exactly contradicts minimality ss dd implies lemma oo dd ss oo proof 
similar previous lemma 
lemma assumptions oo dd ss proof 
proof lemma obtain pp df 
po pp result follows lemma 
df df assumption non empty subrelation belongs means lemma assumptions oo dd ss od proof 
previous lemmas shown od pp mm od 
pmod oo dd ff pmod od pmod oo dd ff lemma know satis es condition suppose satisfy condition chosen ff os ff ff oo dd ff contradicts assumption 
od oo dd ff contradicts assumption 
may assume ods 
checked satis es ods pmods fr np complete lemma contradicts assumption 
proceed similarly condition fails lemma assumptions ss non trivial 
proof 
case 
ss 
ps easy check pmod 
follows pmod non empty ss 
non empty subrelation pmod belong pmod case 
ss 
proof similar case change deduce ds case 
ss 
view cases may assume os mm od ff 
easy check satis es od oo 
oo obtain od 
straightforwardly veri ed od contains pp ss contradicts assumptions 
od pmod pmod implies case 
ss 
similarly case infer case 
contained ss 
follows lemma assumptions contained subalgebras sp 
proof 
lemma suces consider case contains non trivial relation ss 
lemma assume non trivial oo dd ss suces consider cases ss ss 
claim result follows lemmas 
establish claim suppose ss satisfy conditions lemma 
oo 
oo oo dd oo implies satis es conditions lemma inclusions proper easy see oo dd lemma 
need consider cases dealt lemmas 
case ss satisfy conditions lemma similar sucient consider cases 
subalgebras trivial basic relation section consider subalgebras bas assume contains relation relation symmetric asymmetric 
choose relation minimal implies asymmetric symmetric 
consider cases subsections respectively 
asymmetric relations subsection prove proposition 
proposition subalgebra bas contains asymmetric relation 
tractable contained algebras listed table 
np complete obtain result shall assume subsection subalgebra satisfying assumptions assumption bas assumption np complete 
assumption asymmetric relation 
rst show restricted form show result holds possible cases lemmas 
relation said acyclic instance rx rx rx rx model acyclic relations characterised 
lemma relation acyclic subset relations pmod sf pmod 
proposition asymmetric acyclic frg np complete 
proof proposition subsection 
result restrict attention cases acyclic relation 
complete proof proposition consider acyclic relations 
proofs rely np completeness results 
lemma sets relations np complete oo rg dsf dd rg 
proof 
set oo rst case dd second case apply lemma 
lemma assumptions pmods pmod contained maximal tractable subalgebras 
proof 
consider rst case second dual 
lemma possible choices pmods 
relations contained consider related 
assume rst sets contained 
contained mf mf case respectively coincides assumption 
contained relations contained ep respectively 
contained remaining case ms contained contains contains ff ms ms contradicts assumption 
assume contrary relations minimal inclusion ordering 
note contained subsets consider rst case second dual 
choice empty 
contained possible choice consider case empty 
assume rst 
sf checked sf dsf belongs anyway 
minimality 
pm contradicts assumption 
contained 
may assume loss generality checked possible choices non empty proper subset contradicts minimality completes analysis case 
need consider case distinct minimal relations checked mf mm 
case non empty proper subrelation non empty proper subrelation contradicts choice mf mf contradicts assumption 
lemma assumptions contained maximal tractable subalgebras 
proof 
consider relation satis es conditions lemma 
dd dd dd dd dd get np complete lemma contradicts assumption 
pp mm oo ss ff 
relations contained 
assume rst relations contained 
contained coincides assumption 
contained relations contained contained sp ep assume contrary relations minimal inclusion ordering 
choice empty 
assume rst osf 
checked minimality 
pm contradicts assumption 
contained osf contradicts assumption 
may assume sf implies pmo dd np complete lemma contradicts assumption 
completes analysis case osf 
need consider case distinct minimal relations checked cases non empty proper subrelation contradicts choice lemma assumptions dsf contained maximal tractable subalgebras 
proof 
follows lemma pp mm oo converse ds df sf dsf ds 
cases converse satis es conditions lemma lemma 
may assume pmo 
lemma straightforwardly checked md md relation satis es conditions lemma lemma 
md md relation pmods pmod respectively 
lemma applied 
lemma assumptions contain relations dsf contained maximal tractable subalgebras 
proof 
dsf 
easy check satis es conditions lemma 
lemma assumptions dsf contained maximal tractable subalgebras 
proof 
noted proof lemma consider case ds cases similar 
ds consider relation asymmetric get required result lemmas proposition assume 
clear 
suppose ss say oo 
easy check ds implies asymmetric conclude oo ff oo ff pmods ds ff lemma 
suppose oo oo oo ff 
case oo ff impossible view oo ff ds oo ff oo 
oo np complete lemma contradicts assumption 
may consider proof oo implies ss consider relation asymmetric get required result lemmas assume 
suppose ss pp mm ff 
ff ff ff 
cases ds pmods result follows lemma 
ds pp mm pp mm pp 
get pp np complete proposition pp ds contained sp ep remaining choice 
impossible ds ds may consider proof pp implies ss similar argument shows ss result follows 
assume ss easily veri ed ff ss lemma assumptions contained maximal tractable subalgebras 
proof 
shall consider case second case dual 
note ms mo respectively 
case 
ms contradicts assumptions 
mos os may assume os 
proof similar lemma 
case 
pm pm pm assume pmo ps pms 
assume relation satisfying condition case contained implies minimal relation subcase 
pmo 
po pmo 
cases pmo satis es shown mo suppose contains non trivial relation dd ss ff 
de ne pmo sf pmo 
easily checked dd satis es conditions lemma lemma 
dd pmo dd npcomplete lemma 
may assume non trivial satis es pp mm oo consequently pp 
arbitrarily choose pp assume asymmetric 
required result follows previous lemmas assume asymmetric satis es 
suppose pp mm oo contained pmo 
loss generality assume pp mm oo pmo 
consider relation pmo dd np complete lemma relations satisfying conditions lemma contained maximal tractable subalgebras 

assumption contains non trivial subrelation sf implies 
conclude contained sp ep subcase 
ps 
ps ps satis es suppose contains non trivial relation mm oo dd ff ff veri ed relation non empty assume leads contradiction view 
case ff impossible ps ff ps 
ff ps pmods apply lemma 
may assume non trivial pp ss consequently pp 
arbitrarily choose non trivial pp suppose 
get required result previous lemmas assume asymmetric satis es 
pp ss ps 
loss generality assume pp ss ps 
consider relation ps non trivial subrelation mm oo dd ff contradicts assumptions 
pmod sf 
pp ss ps satisfy conditions easy generate non empty subrelation df lead contradiction assumptions 
conclude contained sp ep subcase 
pms 
similar previous subcases 
symmetric relations conclude proof theorem subsection prove proposition 
proposition subalgebra bas contains symmetric relation tractable contained algebras listed table 
np complete obtain result shall assume subsection subalgebra satisfying assumptions assumption bas assumption np complete 
assumption minimal symmetric relation show result holds possible choices lemmas 
lemmas rely np completeness results 
proposition symmetric relations contained ss ff fr sg np complete 
proof proposition subsection 
lemma sets relations np complete mm fr ss ff oo dd proof 
note set mm pp ss ff shown np complete 
mm mm pp ss ff mm 
pp ss ff dd consider set constraints dd ss ff ff ss derived relation oo np completeness oo dd follows proposition 
case oo similar dd replaced oo derived relation dd np completeness proposition 
lemma assumptions contains ss ff nontrivial relation ss ff contained maximal tractable subalgebras 
proof 
choose minimal 
mm np complete lemma 
shall assume mm 
ss ff dd ss ff asymmetric oo dd 
case get required result proposition shall assume symmetric 
oo dd thn ss ss ff similarly ff np complete lemma contradicts assumption 
follows oo dd 
minimal oo dd oo dd 
dd ff ss view pm pm non empty subrelation pm belong implies oo dd dd 
sf sf belong give intersected ss sf sf obtain dsf 
contradicts fact relation containing contain oo dd 
straightforward check examining composition table table easy verify exists non trivial basic relation lemmas shall fact 
lemma assumptions ss ff contained maximal tractable subalgebras 
proof 
may assume pp mm result follows proposition 
minimality non trivial relation empty 
obviously non trivial relation contains contained maximal tractable subalgebras 
shall assume contains non trivial relation 
case 
asymmetric 
apply proposition 
case 
symmetric 
follows proposition ss ff npcomplete contradicts assumption 
shall consider case ss second case dual 
note ss 
mm ff ss mm contradicts minimality contains bb ss ss 
obviously easily checked examining table ss basic relation contained bb ss contained sp contains non empty relation ss minimal 
non empty 
denote non empty relation ss 
consider minimal relation contained minimal relation symmetric asymmetric 
ff get required result proposition respectively 
ff ff ss ff apply lemma 
case 
symmetric asymmetric 
may assume minimal 
minimality 
symmetric obtain follows non empty intersection get contradiction minimality checked get contradiction relations 
pm arguing previous paragraph obtain non empty subrelation pm leads contradiction 
ss 
ss case applies 
argument dual 
lemma assumptions ss ff contained maximal tractable subalgebras 
proof 
case 
ss ff 
ss ff ss ff 
non trivial satis es ss ff suppose non trivial relation ss ff 
consider relation ss ff 
easy check non empty subrelation fact 
relation contains minimal relation symmetric asymmetric 
obtain required result lemma proposition 
case 
ss ff belong oo dd ss ff furthermore ss ss ss ff ff ff belong result follows lemma 
case 
exactly ss ff belongs assume ss ff second case dual 
ss minimal relation non trivial relation contains ss suppose exists minimal relation ss 
may assume get required result proposition lemma 
ss 
easy verify ff basic relation contained leads contradiction minimality ff ff satis es ff dd ss ss ff non empty subrelation dd belongs get required result lemma proposition 
dd satis es ss completed classi cation complexity allen algebra shown exist exactly eighteen forms tractability algebra 
applying technique general algebra previously context 
result method classify complexity temporal spatial formalisms rst application section 
strong connections analysis complexity temporal logics deserve investigation 
established maximal tractable subalgebra speed backtracking algorithms 
believe complete description tractability allen algebra may lead new methods approximate temporal reasoning uniquely loosen minimal way set interval constraints obtain instance tractable case 
considered problem satis ability temporal constraints 
important tasks temporal spatial reasoning example task answering queries di erent types constraint networks see 
method results contribute progress tackling tasks 
note constraint formalisms just temporal ones manipulating objects intrinsic structural properties captured appropriate algebra 
prompts conjecture algebraic approaches constraint manipulation taken provide appropriate reasoning tools di erent areas constraint reasoning arti cial intelligence 
research partially supported uk epsrc gr gr swedish research council engineering sciences tfr 
authors grateful andrei helpful comments earlier version 
appendix appendix contains proofs propositions 
sequel frequent implicit proposition way 
help lemma easy check relations mentioned proposition pairs relations fr sg mentioned proposition contained tractable subalgebras table 
conclude frg fr sg np complete derive set non trivial basic relation set relations np completeness shown 
recall derivation introduced section 
nebel csp solver considerably simplify calculating derivations 
recall relation obtained set derivations obtained single derivation 
model transformations subsection contains basics model transformations method proving np completeness results 
transforming solution problem solution related problem 
method times proofs propositions 
suppose mapping models sat instances set variables function set basic relations holds model sat instance set variables basic relation related related 
say model transformation description description extended handle relations obvious way 
lemma gives way proving np completeness model transformations 
lemma fr fr exists model transformation description np complete np complete 
proof 
proof direction proof direction analogous 
nite set real numbers 
minimal distance md de ned md yg model sat instance set variables de ne md md ff denote starting point interval section 
shrink expand dd dd ff ff table model transformations 
continue de ning number model transformations 
shall xed descriptions table 
de ne model transformation shrink follows 
model sat instance fx md 
shrink analogously de ne model transformation expand subtracting adding 
ordering intervals respect length obtain number useful model transformations 
de ne model transformation follows 
model sat instance fx md rename variables jf jf analogously de ne model transformation 
model transformations change endpoints interval 
de ne model transformation follows 
model sat instance fx md rename variables jf jf proof proposition show asymmetric acyclic frg np complete 
proof largely di erent derivations 
denote relation derived set constraints xra ra ry xra ra ry xra ra ry relation derived set constraints xra replaced xr ry replaced denotes relation derived xr ry xr ra xr xra ra proof need auxiliary lemma 
lemma pp dd oo np complete 
proof 
graphs case say supergraph graph sandwich problem property de ned follows instance graphs supergraph question graph property intervals overlap intersection non empty properly contains 
overlap graph known circle graph undirected graph assignment interval vertex vertices adjacent corresponding intervals overlap 
graph sandwich problem overlap graphs sp overlap np complete 
clearly problem transformed satis ability problem mm oo pp dd ss ff instance sp overlap construct instance follows 
node introduce variable 
add constraint mm oo 
add constraint pp dd ss ff easy see resulting instance model instance sp overlap solution 
mm oo pp dd ss ff npcomplete 
applying lemma model transformation expand get oo pp dd ss ff np complete 
note notion di erent notion interval overlaps de nition basic relation de ne model transformation follows obtained rst setting md 
ng de ning jf 
jf 
description properties mm pp oo ss ff dd fp applying lemma transformation see oo pp dd np complete 
note replace similar transformation changes relation 
de ne model transformation follows obtained rst setting md de ning easy see description properties oo mm pp oo ss ff oo dd fp applying lemma transformation shown oo pp dd np complete 
proof 
proposition clear sets frg fr np complete simultaneously suces consider 
assume rst 
pmo follows lemma equals ds ds 
assume pmo 
lemma holds 
ds 

case ds mds mds mds pmods 
mds mds pd respectively 
mds mds mds ds ds ds 
case dual case 
case assume dd previous cases applies 
ms holds 
implies np completeness follows immediately 

pmo pmo sf obtain relation dd 
pmo dd np completeness frg follows lemma 
ms consider set constraints xra ra rx relation derived constraints pp dd 
relation oo derived set constraints xra ry xr xra ry consequently np completeness ms follows lemma 
consider case pmo lemma implies acyclic 
proof considers cases depending value pp oo mm 
denote relation recall denotes union basic relations 
lemma signi cantly reduces number cases considered 
instance showing mo ds np complete know np complete 
case pp oo mm po pmo pm suppose rst po 
np completeness frg pmods pds ds pmods ds pmods df pmods df df sf pds sf po dsf pmods dsf po df ds pmods ds po df note table df po df obtain df shown table np completeness df follows lemma lemma 
pp mm oo pmo pm np completeness frg follows proof lemma model transformations shrink expand respectively 
case pp oo mm pm 
pm 
np completeness frg pmods ds pmods ds pmods ms df pmods df pmods sf pds sf pmo dsf pmods dsf pmods ds pmods ms ds pp sf md relation ms generates ms ms 
case pp oo mm pm 
pm 
np completeness frg pmods pmo ds pmods ds pp moo dd ms df pmods df pmods sf pmods sf pmo pp moo dd mo dsf pmods dsf pmods ds pp moo dd sf mo ds pp moo dd sf mo case pp oo mm mo 
mo 
np completeness frg ds ds df df pp oo sf sf pp dd mo dsf dsf pp oo dd sf od ds ds pp oo dd od proof proposition subsection contains proof proposition 
short hand notation relations type bb writing denote oo denote ss 
combinations macro relations instance writing po mean relation pp oo 
symmetric relation 
write np complete denote symmetric relation fr sg np complete 
show results form np complete tacitly assume arbitrary symmetric relation satisfying requirements stated 
formulate proposition follows symmetric relation np complete 
prove result showing np complete msf proof subsection 
show care relation 
precisely assume fs np complete choices 
symmetric relations 




show fs np complete choices satisfying requirements 
msf msf np complete lemma 
assume contains relations 
easy realize inspecting composition table 
furthermore result easily shown fp og nontrivial symmetric relation containing checked set fs satis es conditions implying np complete 
fs np complete 
assume osf reason show fs np complete 
pm np completeness follows proposition fs contained sp ep lemma 
restrict attention pairs relations satisfying conditions pod pod 
proofs collected subsection 
msf lemma od sf od sf np complete 
proof 
note od sf sf sf sucient give proof set od sf proof polynomial time reduction np complete problem equal satisfiability 
instance equal satisfiability consists set boolean variables collection clauses clause set literals literal variable negated variable 
question assignment truth variables variables clause contains true literal false literal 
obtain reduction equal satisfiability design gadgets small sets convenient properties 
rst corresponds boolean variable second corresponds clause third ensures variables connected clauses appropriate way 
parts construction 
instance equal satisfiability 
construct corresponding instance sat od sf follows 
variable introduce variables impose constraint sf edges impose constraint od edge 

clause introduce variables impose constraint sf edges impose constraint od edge 

literal clause introduce variables impose constraint sf edge impose constraint sf edge impose constraint od edges unnegated variable impose constraint sf edge impose constraint od edges negated variable impose constraint sf edge impose constraint od edges 
clearly construction carried polynomial time show solution solution 
assume solution 
construct corresponding solution consider variable constraints imposed part construction exactly pairs related pair assign value true assign value false consider clause constraints imposed part construction relation corresponding literal assigned value constraints imposed part construction related possibilities 
chosen assignment gives true literal false literal clause solution conversely assume solution 
construct corresponding solution consider variables associated variable assign interval assign interval 
assigned value assign interval assign value 
consider variables associated clause solution assign values literals contain true value false value 
possibilities assign intervals variables case table easy check assignments satis es constraints variables remains show assignments extended complete solution assigning remaining variables appropriately 
show note literal assigned value order satisfy constraints starting point equal starting point starting point equal starting point case simply assign points intervals value 
similarly literal assigned value points intervals forced take certain distinct values assign starting points intervals value 
easy check assignment satis es constraints 
example fx zg variables assigned values respectively 
lemma sf np complete 
proof 
sf fp dg 
easily veri ed sf consequently may assume pm np completeness follows proposition lemma assume od 
show np completeness remaining cases introduce od switch 
switch instance variables fa sf sf sf sf sf sf cg properties easily checked 
pm holds 
holds 
holds checked relations od derived fbr cg 
obtain od described 
od apply lemma 
obtain apply lemma sf sf respectively 
lemma sf np complete 
proof 
proof analogous previous properties od switch replace relation sf sf 
lemma np complete 
proof 
consider pmod mo dsf pm psf member consequently relation implies np completeness proposition lemma 
od po pod 
psf obtain relation np completeness consequence proposition contained sp ep lemma ms mf np complete 
proof 
show result ms case follows applying lemma 
consider symmetric relation ms easily veri ed furthermore non empty ms fp dg know 
consequently assume case 
note ms pmod ms ms ms pmods follows ms ms equals ms ms ms ms ms 
ms ms np completeness follows lemma 
ms ms ms ms ms 
ms pmod pmod ms np completeness follows immediately 
case pf consider instance variables ms ms ms ms ms br show derived ms np completeness follows 
lemma ms mf np complete 
proof 
show result ms case follows applying lemma 
shown ms ms ms ms ms cases lead np completeness shown lemma 
lemma msf np complete 
proof 
easy see msf msf inspecting composition table see member composition symmetric relations relations disjoint 
follows msf obtain relation msf 
assume henceforth continue noting msf pmod msf msf neq neq 
np completeness follows proposition 
msf neq show np completeness polynomial time reduction graph 
arbitrary undirected graph construct set allen constraints follows 
introduce variables constraint xr 
introduce variable constraints msf msf 
add constraint 
routine veri cation see resulting instance satis able 
lemma msf np complete 
proof 
note msf pmod msf msf neq 
np completeness follows proposition 
msf neq generate relation msf np completeness follows lemma 
lemma msf np complete 
proof 
combine lemmas 
remaining cases subsection considers relations covered previous section 
henceforth assume msf consider msf 
proofs derivation denotes relation derived set constraints table 
ps pf give proof ps case follows applying lemma 
ps fm dg ps pmods 
ps ps result follows proposition 
psf recall consider instance fx bg fx psf ar psf br ar 
show xr derived implies psf obtained 
np completeness follows proposition 
pm follows previous results applying lemma model transformation shrink 
assume satisfy inclusion previous results proposition allows loss xr yr yr xr yr yr yr yr yr yr yr table de nition 
generality 
setting applying lemma np complete 
case 
pd 
case pd considered lemma 
apply lemma lemma model transformation 
case 
dsf 
apply lemma model transformation lemma 
case 
dm 
pd obtain relation 
pm mo lemma model transformations shrink expand result follows earlier results 
pd obviously pd 
apply lemma model transformation lemma 
po case dsf 
apply lemma model transformation lemma po 
case dm 
case dsf po obtain relation dsf 
np completeness follows previous case 
os prove result os case follows applying lemma 
case 
pd 
apply lemma model transformations shrink consecutively lemma 
case 

ods os pods obtain relation 
ds df prove result ds case follows applying lemma 
case 
po 
apply lemma model transformations shrink consecutively lemma 
case 

lemma model transformation expand earlier results 
md case 
osf 
case md np completeness follows obtain relation 
case 
po 
dsf md obtain relation 
remains consider pairs disjoint relations contains contain exactly basic relations 
pairs 
np completeness msf pod proved lemma 
np completeness pms pmf ods psf mod shown earlier subsection 
consider remaining pairs 
pairs pmo dsf pmd osf pdf mos apply lemma model transformations shrink expand respectively earlier results 
np completeness pds mof follows pdf mos lemma 
consider pof mds veri ed mds pof obtain relation ds earlier results 
np completeness pos mdf follows pof mds lemma 
allen 
maintaining knowledge temporal intervals 
communications acm 
allen 
temporal reasoning planning 
allen kautz tenenberg editors reasoning plans chapter pages 
morgan kaufmann 
jonsson 
observations durations scheduling allen algebra 
proceedings th conference constraint programming cp volume lecture notes computer science pages 
springer verlag 
anger rodriguez 
ective scheduling tasks weak temporal interval constraints 
meunier yager zadeh editors advances intelligent computing pages 
springer berlin 
golumbic 
combinatorial approach temporal reasoning 
proceedings th jerusalem conference information technology pages 
ieee computer society press october 

temporal logics real time system speci cation 
acm computing surveys 

topology genetic ne structure 
proceedings national academy science volume pages 
jeavons 
constraint satisfaction problems nite algebras 
proceedings th international colloquium automata languages programming icalp volume lecture notes computer science pages 
springer 
jeavons 
complexity maximal constraint languages 
proceedings rd symposium theory computing stoc 
appear 
cohen jeavons jonsson koubarakis 
building tractable disjunctive constraints 
journal acm 
coombs smith 
detection structures attitudes developmental processes 
psychological review 

dichotomy theorem maximum generalized satis ability problems 
journal computer system sciences 
drakengren jonsson 
maximal tractable subclasses allen algebra metric time 
journal arti cial intelligence research 
drakengren jonsson 
large tractable subclasses allen algebra 
arti cial intelligence 
drakengren jonsson 
complete classi cation tractability allen algebra relative subsets basic relations 
arti cial intelligence 
feder vardi 
computational structure monotone monadic snp constraint satisfaction study datalog group theory 
siam journal computing 
garey johnson 
computers intractability guide theory np completeness 
freeman new york 

algorithms maximum clique maximum independent set circle graph 
networks 
gerevini schubert 
ecient temporal reasoning 
proceedings international joint conference arti cial intelligence ijcai pages 
morgan kaufmann 
golumbic kaplan shamir 
complexity dna physical mapping 
advances applied mathematics 
golumbic kaplan shamir 
graph sandwich problems 
journal algorithms 
golumbic shamir 
complexity algorithms reasoning time graph theoretic approach 
journal acm 
hell ne set ril 
complexity coloring 
journal combinatorial theory ser 

hirsch 
relation algebras intervals 
arti cial intelligence 
hirsch 
expressive power complexity algebraic logic 
journal logic computation 
jonsson om 
unifying approach temporal constraint reasoning 
arti cial intelligence 
jonsson drakengren 
complete classi cation tractability rcc 
journal arti cial intelligence research 
jonsson drakengren om 
computational complexity relating time points intervals 
arti cial intelligence 
karp 
mapping genome combinatorial problems arising molecular biology 
proceedings th symposium theory computing stoc pages new york 
acm press 
kendall 
problems methods statistical archaeology 
world archaeology 
koubarakis 
tractable disjunctions linear constraints 
proceedings nd conference principles practice constraint programming cp pages boston ma 
koubarakis 
complexity query evaluation inde nite temporal constraint databases 
theoretical computer science 
koubarakis 
querying temporal spatial constraint networks ptime 
arti cial intelligence 
ladkin maddux 
binary constraint problems 
journal acm 
ladkin 
fast algebraic methods interval constraint problems 
annals mathematics arti cial intelligence 
ligozat 
new proof tractability ord horn relations 
proceedings th national conference arti cial intelligence aaai pages menlo park ca 
aaai press 
ligozat 
corner relations allen algebra 
constraints 
meiri 
combining qualitative quantitative constraints temporal reasoning 
arti cial intelligence 
nebel 
archive programs obtaining results 
available author www informatik uni freiburg de nebel journals html 
nebel 
solving hard qualitative temporal reasoning problems evaluating eciency ord horn class 
constraints 
nebel 

reasoning temporal relations maximal tractable subclass allen interval algebra 
journal acm 

temporally distributed symptoms technical diagnosis volume lecture notes arti cial intelligence 
springer verlag 
total ordering problem 
siam journal computing 
papadimitriou yannakakis 
scheduling interval ordered tasks 
siam journal computing 
pe er shamir 
satis ability problems intervals unit intervals 
theoretical computer science 
schaefer 
complexity satis ability problems 
proceedings th symposium theory computing stoc pages new york 
acm press 
vila 
temporal constraints survey 
constraints 
song cohen 
interpretation temporal relations narrative 
proceedings th national conference arti cial intelligence pages st paul mn usa 
aaai press mit press 
koubarakis 
backtracking algorithms disjunctions temporal constraints 
arti cial intelligence 

maximal non ane reducts simple ane algebras 
algebra universalis 
tarski 
calculus relations 
journal symbolic logic 
van beek 
reasoning qualitative temporal information 
arti cial intelligence 
van beek cohen 
exact approximate reasoning temporal relations 
computational intelligence 
van beek 
design experimental analysis algorithms temporal reasoning 
journal arti cial intelligence research 
vilain 
system reasoning time 
proceedings nd national conference arti cial intelligence pages pittsburgh pa usa 
aaai press 
vilain kautz van beek 
constraint propagation algorithms temporal reasoning revised report 
daniel weld johan de kleer editors readings qualitative reasoning physical systems pages 
morgan kaufmann san mateo ca 
ward halstead 
computation structures 
mit press cambridge ma 
wilson 
maximal subgroups baby monster 
journal algebra 
yang 
classi cation maximal nite order preserving transformation semigroups 
communications algebra 

