resemblance containment documents andrei broder digital systems research center lytton avenue palo alto ca usa broder pa dec com documents define mathematical notions resemblance capture informal notions roughly roughly contained basic idea reduce issues set intersection problems easily evaluated process random sampling done independently document 
furthermore resemblance evaluated fixed size sample document 
discusses mathematical properties measures efficient implementation sampling process rabin fingerprints 
line information explosion particular world wide web led proliferation documents identical identical 
situations necessary determine documents roughly roughly contained 
informal concepts captured standard distances defined strings hamming levenshtein 
furthermore computation distances usually requires pairwise comparison entire documents 
large collection documents feasible sampling mechanism document necessary 
attack problem mathematical concepts resemblance containment defined precisely 
resemblance documents number resemblance close documents roughly 
similarly containment number close indicates roughly contained resemblance additional property metric obeys triangle inequality useful design algorithms intended cluster collection documents sets closely resembling documents 
compute resemblance containment documents suffices keep document relatively small sketch 
sketches computed fairly fast linear size documents sketches resemblance containment corresponding documents computed linear time size sketches 
computing resemblance suffices keep fixed size sketch 
computing containment need sketch proportional size underlying document explained problem cost loss precision 
approach determining syntactic similarity related sampling approach developed independently heintze differences detail precise definition measures 
related sampling mechanisms determining similarity developed manber stanford scam project 
tested ideas discussed building clustering collection documents sets closely resembling document 
documents retrieved walk world wide web performed alta vista search engine 
total input data gbytes 
calculated clusters resemblance 
clusters containing total documents 
clusters contained identical documents documents 
remaining clusters contained documents mixture exact duplicates similar 
details see 
basic approach aspects resemblance containment expressed set intersection problems explained section second relative size intersections evaluated process random sampling done independently document explained section 
process estimating relative size intersection sets applied arbitrary sets independent interest 
definitions set intersection problems view document sequence tokens 
take tokens letters words lines 
mathematical point view need set tokens countable 
assume parser program takes arbitrary document reduces canonical sequence tokens 
canonical means documents differ formatting information chose ignore instance punctuation formatting commands capitalization reduces sequence 
document means canonical sequence tokens 
immediate goal associate document set subsequences tokens parameter defined 
contiguous subsequence contained called shingle 
document associate defined bag multiset shingles size contained instance bag rose rose rose rose rose rose rose rose rose rose 
ways proceed 
option keeps information document option efficient 
option labelling element occurrence number obtain labelled 
option define set 
continuing example set rose rose rose rose rose rose rose 
option take set shingles set rose rose rose rose fixed shingle size options resemblance documents defined rw containment defined cw resemblance number words resembles size 
similarly containment number contiguous subsequence 
furthermore computing resemblance containment boils evaluating relative size set intersections 
example rose rose rose rose flower rose option resembles shingle size size size second option resembles size size size notice option resembles shingle size means arbitrary permutation larger sizes resembles case permutation certain permutations possible instance resembles size 
resemblance sensitive permutation changes take larger size hand large size possibly sensitive small alterations change token affects shingles 
notice resemblance transitive known fact grandparents informal idea roughly instance consecutive versions roughly version probably quite far version 
fact note resemblance distance defined dw rw metric 
tedious proof omitted preliminary version 
useful choosing clustering algorithm 
see section 
experiments show strong resemblance strong containment close capture informal notion roughly roughly contained estimating resemblance containment fix shingle size set labelled option unlabelled option shingles size loss generality assume totally ordered 
fix parameter define mins mins set smallest elements 
smallest refers order defined set define set elements mod theorem nbe arbitrary injection permutation chosen uniformly random mins 
define analogously 
value mins mins unbiased estimate resemblance value unbiased estimate resemblance value unbiased estimate containment proof clearly mins mins mins smallest element 
pr pr rw 
repeat argument element mins proves claim 
proof claims straightforward 
view choose random permutation keep document sketch consisting set 
sketches suffice estimate resemblance containment pair documents need original files 
set advantage fixed size allows estimation resemblance 
size allows estimation resemblance containment 
limit size proceed follows documents size say store set li mod 
expected size li 
hand easily compute li 
simply keep elements divisible documents modulus longer document li estimates 
disadvantage approach estimation containment short documents larger ones error prone due paucity samples 
implementation issues choosing random permutation sample total size shingle relatively large instance shingles english words shingle contain bytes average 
reduce storage associate shingle shorter id bits random permutation set 
commute theorem 
trade take large ensure id unique pay storage penalty 
hand large number collisions degrade estimate explained 
function produces id fixed estimating rw rw fix arbitrary set chosen uniformly random substantially larger log words case ignore effect multiple collisions distinct elements having image furthermore argued size fairly concentrated 
azuma inequality pr practical situations sufficiently large simpler markov inequality 
probability collisions exceeds 
omitting details leads fact probability better choices rw rw actual implementation totally random probability collision higher 
choice take rabin fingerprinting function case probability collision strings bounded adversarial model max length string bits 
advantage choosing rabin fingerprints random irreducible polynomials arbitrary hash functions probability collision understood 
furthermore rabin fingerprints computed efficiently software see take advantage algebraic properties compute fingerprints sliding windows see section clustering experiment discussed size typical set shingles length bits shingle 
rabin fingerprints 
produce sample need random permutation 
practice imagine fingerprints implement random linear transformations 
see depth discussion topic 
rabin fingerprints strings viewed polynomials imagine underlying polynomial multiplied suitable power equivalently imagine suitable number nulls appended underlying string 
changes slightly way fingerprints computed computing time extra cost 
effect fingerprints appear random trick strings differ letter differ bits fingerprint 
efficiency keep set mins keep mins set fingerprints mod suitable chosen 
construct set mins 
option set mins kept heap maximum root 
new fingerprint replace current root smaller re 
expected number times happens log number tokens document modulus discussed probability th element random permutation go heap cost heap operation log expected total cost heap operations 
option need keep balanced binary search tree 
possibilities red black trees randomized search trees skip lists 
cost log log constant factor probably larger 
possibility cost heap plus hash table check duplication 
size sample larger sample accurate results 
pay larger sample storage costs 
number common shingles sample hypergeometric distribution 
size sample usually smaller size document approximate hypergeometric distribution binomial distribution 
approximation resemblance probability estimate fixed estimate worse close interested case larger 
practical applications samples reasonable 
depending length chosen fingerprints means sketches bytes long 
entire web number pairs estimate relatively far course substantial 
entire web probability pair documents resembles estimated resembling 
computing fingerprints computing fingerprints fairly fast shingle scratch 
total cost case wn notation hides width token 
rabin fingerprints gain factor take advantage fact computing fingerprint sliding window particularly window width bytes fixed narrow range 
automatic tokens fixed width 
define tokens small maximum width pad necessary get effect 
instance define word bytes 
longer words viewed catenation words 
compute fingerprints pad shorter words bytes 
adopt option check shingle time encountered 
done fingerprinting searching hash table 
proper label decided second fingerprint needs computed 
care needed avoid dependence fingerprints shingle different labels 
option avoids computations altogether explained keep binary search tree heap sure don insert value twice 
option faster practice 
evaluating resemblance store sketch list sorted increasing order 
merge sort removing duplicates count duplicates encountered outputs 

interested documents 
documents evaluating takes time 
try greedy clustering follows keep set current clusters initially empty process sketches turn 
cluster keep representative sketch 
new sketch sufficiently resembles current cluster add sketch possibly recompute representative start new cluster 
practice fingerprint belongs distinct clusters 
assumption fingerprint encounter remember clusters belongs store fingerprints hash table entire procedure implemented rs time 
representative sketch take popular fingerprints cluster simply just member cluster 
large collections documents external storage needed different approaches necessary 
details see 
acknowledgments essential ideas resemblance definition computation developed conversations greg nelson 
clustering entire web done collaboration steve glassman mark manasse geoffrey zweig 
alon spencer 
probabilistic method 
john wiley sons 
brin davis garcia molina 
copy detection mechanisms digital documents 
proceedings acm sigmod annual conference may 
broder 
applications rabin fingerprinting method 
de santis vaccaro editors sequences ii methods communications security computer science pages 
springer verlag 
broder charikar frieze mitzenmacher 
min wise independent permutations 
proceedings thirtieth annual acm symposium theory computing appear 
broder glassman manasse zweig 
syntactic clustering web 
proceedings sixth international www conference april 
nevin heintze 
scalable document fingerprinting 
proceedings second usenix workshop electronic commerce november 
manber 
finding similar files large file system 
proceedings usenix conference january 
shivakumar garcia molina 
scam copy detection mechanism digital documents 
proceedings nd international conference theory practice digital libraries 
shivakumar garcia molina 
building scalable accurate copy detection mechanism 
proceedings nd international conference theory practice digital libraries 
rabin 
fingerprinting random polynomials 
center research computing technology harvard university report tr 

