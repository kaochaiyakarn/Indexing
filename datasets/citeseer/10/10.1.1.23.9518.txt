combining computational ects commutativity sum martin hyland gordon plotkin john power department mathematics university cambridge cambridge england 
email hyland cam ac uk laboratory foundations computer science university edinburgh king buildings edinburgh eh jz scotland 
email gdp dcs ed ac uk dcs ed ac uk 
tel 
fax 

develop unified account modularity computational ects 
notion enriched lawvere theory relationship strong monads reformulate moggi paradigm modelling computational ects emphasise importance operations induce computational ects 
ects qua theories combined appropriate bifunctors category theories 
give theory commutative combination ects particular yields moggi side ects monad transformer application combination side ects nondeterminism 
give theory sum computational ects particular yields moggi exceptions monad transformer application combination exceptions ects 
seek unified account modularity computational ects 
precisely seek mathematical theory supports combining computational ects nondeterminism probabilistic nondeterminism side ects exceptions interactive input output continuations 
ideally develop mathematical operations associated relevant theory pair ects yields combination 
operation example combination state nondeterminism di erent nature combination state exceptions interested di erent ways combine pair ects 
seek find develop expect small number computationally mathematically natural combining operations 
devoted ways combining ects combining shall see holds combining state ects know continuations exceptions sum shall see holds combining exceptions ects continuations 
done support epsrc gr british council coe budget japan 
order give operations need unified way model various computational ects individually 
start eugenio moggi gave unified category theoretic account computational ects called notions computation :10.1.1.41.840:10.1.1.26.2787
modelled ect means strong monad base category finite products 
monads corresponding ects listed powerdomain probabilistic powerdomain monads tx respectively assuming appropriate additional structure set states typically analysed loc set values loc set locations 
moggi unified approach proved useful especially functional programming 
strong monads hand seek binary operation pair strong monads yields new strong monad case monad computational experience tells natural combination state ects know continuations exceptions 
ask give mathematical theory yielding operation pair strong monads 
modulo side conditions answer fundamental correspondence strong monads generalised notion lawvere theory order provide 
correspondence computationally natural implicit previous computational ects 
unaware direct justification existence followed algebraic programme shifts focus away monads study natural operations yield required ects monads corresponding natural theories operations 
instance emphasise side ects monad emphasises operations lookup update associated state equations relate 
case loc lookup considered loc indexed family ary operations update indexed family idea lookup proceeds contents update proceeds having updated emphasise powerdomain emphasises nondeterministic operation equations associativity symmetry idempotence 
change emphasis supported correspondence strong monads enriched lawvere theories see expository computationally natural examples computational ects listed continuations case formal change emphasis computationally unnatural believe continuations treated separately 
having reformulated account computational ects terms enriched lawvere theories reformulate question read mathematical theory yielding operation pair enriched lawvere theories gives new enriched lawvere theory enriched lawvere theory associated side ects new enriched lawvere theory corresponds corresponds answer remarkably natural various guises forms existed known tensor product theories 
simply amounts operations theories demanding commute retaining equations instance case loc combining state nondeterminism values equation lookup lookup lookup functional language nondeterminism induce program equivalence dereferencing operator non deterministic choice 
similar commutation equation update corresponding induced program equivalence 
prove main result monad corresponding enriched lawvere theory mathematical theory supports construction leading example 
having studied commutative combination ects turn sum 
natural combination side ects exceptions commutative combination 
equivalently applying side ects monad transformer exceptions monad 
exceptions combines computational ects know continuations sum theories operations exceptions operations ect subject equations equations 
shall show theory exceptions sum theories agrees moggi exceptions monad transformer monad 
course typically combines ects operations define may times 
instance combine partiality side ects nondeterminism combine partiality semilattices sum combine result state commutativity similarly partiality side ects interactive input output 
closely related moggi collaborators monad transformers 
moggi defined monad transformer function set strong monads category finite products 
monad transformer side ects takes monad monad assuming cartesian closed 
model combination nondeterminism side ects apply side ects monad transformer powerdomain yielding monad resulting monad agrees associated mathematical theory question pose equally posed ask derive side ects monad transformer side ects monad qua monad monad transformers date answered 
involves asymmetry priori reason combination state nondeterminism achieved applying side ects monad transformer nondeterminism monad vice versa 
case exceptions side ects monad transformer give required result usual interpretation combination 
monad transformers main attempt know account combination state computational ects development dyads amount decomposition side ects monad strictly primitive structure 
dyads come equipped notion kleisli category may model computational calculus integrated structure models delicate feature contexts arising state exceptions order evaluation crucial 
relationship notions remains investigated 
organised follows 
section investigate case largely amounts situation computational ects modelled set explain general situation includes base categories cpo category primary interest denotational semantics objects cpos partial orders upper bounds increasing chains morphisms continuous functions maps partial orders preserve upper bounds 
section describe relationship monads lawvere theories explain appear leading examples 
section explore commutative combination lawvere theories 
section show commutative combination state lawvere theory gives outcome seek 
section develop theory sum lawvere theories explain gives rise exceptions monad transformer 
appendix fundamental categorical theory underlies main results 
clear omission study distributivity main way computational ects combine 
distributivity set operations combining nondeterminism probabilistic nondeterminism distributivity set operations combining internal external nondeterminism 
important question concerns combination ects local state concerns global state 
local state specified additional operation block additional equations 
unclear best integrate enriched lawvere theories consider combinations ects 
monads lawvere theories simplicity exposition start restricting attention base category set 
side ects monad monad set states impose restriction countable set case loc restrict countable loc finite dealing local state need unboundedly locations presheaf semantics allowing loc infinite 
side ects monad countable rank means precise sense bounded size precise definition notion countable rank complicated simply monads mention continuations countable rank 
category monads countable rank equivalent category countable lawvere theories shall outline 
principle side ects monad equally seen countable lawvere theory computationally natural way see shall explain 
denote skeleton category countable sets functions 
object natural number object equivalence free category countable coproducts 
referring implicitly choice structure countable coproducts 
definition 
countable lawvere theory consists small category countable products strict countable product preserving identity objects functor op definition 
model countable lawvere theory category countable products countable product preserving functor countable lawvere theory category countable products category mod models maps natural transformations naturality condition implies maps respect countable product structure 
canonical forgetful functor mod set forgetful functor left adjoint exhibiting mod set equivalent category tl alg induced monad tl set 
conversely monad countable rank set category kl op determined restricting kl objects countable lawvere theory functor alg mod set induced restriction equivalence categories 
theorem 
construction sending countable lawvere theory tl sending monad countable rank induce equivalence categories category countable lawvere theories category monads countable rank set 
comparison functor exhibits category mod set equivalent category tl alg 
principle side ects monad described countable lawvere theory 
usual way define countable lawvere theories means sketches lawvere theory freely sketch 
give sketch amounts giving operations equations operations allowed countable arity barr wells book treats sketches loving detail 
sketch countable lawvere theory corresponding ects monad essentially easy describe follows example 
countable lawvere theory ls side ects loc free countable lawvere theory generated operations lookup loc update loc subject natural equations listed specifying interaction equations lookup update specifying commutation equations 
note targets loc loc handle indexing lawvere theory level 
result restatement main result 
fundamental proof main result 
observe refers target categories set 
proposition 
category countable products countable coproducts canonical comparison functor mod ls alg equivalence categories monad defined tx shall consider examples side ects appear countable lawvere theories 
example 
ignoring partiality countable lawvere theory lp corresponding powerdomain countable lawvere theory freely generated binary operation subject equations associativity commutativity idempotence countable lawvere theory semilattice 
example 
countable lawvere theory interactive input output free countable lawvere theory generated operations read write countable set inputs outputs 
interactive input output directly modelled countable lawvere theory corresponding monad tx 
example 
countable lawvere theory le exceptions free countable lawvere theory generated operation raise countable set exceptions 
details examples exceptions interactive input output detail probabilistic nondeterminism readily understood 
course set category primary interest denotational semantics 
interested cpo variants order model recursion 
relationship countable lawvere theories countable monads extends fuss countable enriched lawvere theories countable strong monads categories 
obvious point note notion countable product single generator generalise naturally notion countable product notion countable cotensor 
notion cotensor natural enrichment notion power object 
object category set power satisfies defining condition bijection sets natural enriching object category object cotensor satisfies defining condition isomorphism natural instance allows consider objects aa locally ordered category consider objects possibility allows describing theories consider greater range arities incorporate inequations context elegant coherent body mathematics 
general countable products objects countable lawvere theory little 
category locally countably presentable cartesian closed category instance cpo defines skeleton full sub category determined countably presentable objects equivalent free category countable tensors :10.1.1.37.3233
definition 
countable lawvere theory small category countable cotensors strict countable cotensor preserving objects functor op model category countable cotensors countable cotensor preserving functor constructions tl routine generalisations setting central results setting generalise routinely 
give enriched monad equivalent giving strong monad order comparison moggi definition little direct express main result terms strong monads 
theorem 
locally countably presentable cartesian closed category constructions tl induce equivalence categories category countable lawvere theories category strong monads countable rank 
comparison functor exhibits category mod equivalent category tl alg 
example countable lawvere theory arise freely countable lawvere theory cpo consider countable lawvere theory partiality 
example 
countable lawvere cpo theory partiality theory freely generated nullary operation subject condition inequality id unlabelled map unique map determined initial object terminal object op model cpo exactly cpo element 
introduced countable lawvere theory lp corresponding powerdomain countable lawvere theory semilattice 
overload notation little notation lp denote countable lawvere cpo theory semilattice generators equations cpo theory objects countably presentable cpos flat ones additional objects generate additional maps 
countable lawvere cpo theory semilattice just free countable lawvere cpo theory countable lawvere theory semilattice 
definition allows immediate sum ects shall define 
terminology shall define describe countable lawvere cpo theory nondeterminism follows example 
countable lawvere cpo theory ln nondeterminism sum countable lawvere cpo theories lp semilattice partiality 
combination partiality ects typically sum 
case combination side ects commutative combination define section 
non trivial example computationally natural countable lawvere cpo theory probabilistic nondeterminism 
detail appears albeit mathematical terms 
commutative combination ects section define commutative combination countable lawvere theories develop mathematical theory support definition tensor product 
move immediately central definition section base category set 
category countable coproducts finite products denote object may seen coproduct copies arbitrary map countable lawvere theory immediately clear mean morphism aa ab define conjugation suppress canonical isomorphisms 
definition 
countable lawvere theories countable lawvere theory defined countable lawvere theory generated disjoint union operations operations subject equations equations commutativity operations respect operations demand commutativity diagram shall systematically investigate commutative combination state ects section 
previous section enriched commutative operation generalising combined side ects partiality 
shall spell enriched version 
develop theory case 
proposition 
construction extends canonically symmetric monoidal structure category countable lawvere theories 
proof proposition elementary 
result gives indication definiteness operation sending typically symmetric monoidal structures categories finite product finite coproduct typically 
common closedness condition 
categories typically closed structures 
analysis closed structure corresponding essential proof main theorem combination state ects 
closed structure require category countable products category mod op isomorphic required give isomorphism hold closed structure condition fact category mod op equivalent isomorphic pseudo closed structure definition appendix relevant delicate categorical analysis 
theorem 
construction countable lawvere theories extends coherent pseudo monoidal pseudo closed structure category small categories countable products particular small category countable products coherent equivalence categories mod mod mod 
example 
letting ls countable lawvere theory side ects countable products countable coproducts seen mod ls equivalent category alg monad tx countable lawvere theory category mod set complete cocomplete countable products countable coproducts 
theorem mod ls set equivalent alg tx taken monad mod set 
analysis section extends readily enriched setting follows 
category countable tensors finite products just ordinary category countable coproducts finite products 
analysis setting extends routinely enriched setting course express analysis terms object terms arrow key fact cotensor canonically isomorphic cotensors consistently express commutativity condition theorem terms terms arrows definition 
locally countably presentable cartesian closed category 
countable lawvere theories countable lawvere theory defined countable lawvere theory generated disjoint union subject equations equations suppressing canonical isomorphisms commutativity comp comp theorem 
locally countably presentable cartesian closed category 
construction countable lawvere theories symmetric monoidal extends coherent pseudo monoidal pseudo closed structure category small categories countable cotensors small category countable cotensors coherent equivalence categories mod mod mod 
commutative combination state ects study commutative combination side ects computational ects detail 
central result follows theorem 
ls denote countable lawvere theory side ects loc denote countable lawvere theory 
monad tls isomorphic tl proof 
seen preceding sections mod ls mod set equivalent alg monad mod set tx category mod set equivalent tl alg 
denote canonical adjunction fl ul mod set set 
right adjoints preserve products left adjoints preserve coproducts coproduct set monad tls main theorem monad determined composite forgetful functor alg set tls lx ul flx tl required 
theorem generalises readily enriched setting countably presentable object theorem 
locally countably presentable cartesian closed category countably presentable object ls denote countable lawvere theory side ects denote countable lawvere theory 
monad tls isomorphic tl proof 
proof essentially case 
observe proof main theorem extends routinely enrichment category locally countably presentable cartesian closed category loc result shows hypotheses theorem theory commutative combination computational ects agrees moggi definition side ects monad transformer 
particular accounts interaction side ects nondeterminism doing theory yields just object values combination description natural operations way interact follows immediately definition lose equations nondeterminism state began 
interesting note side ects theory loc loc fold tensor product side ects theory sum ects turn sum ects leading example combination exceptions computational ects considered side ects nondeterminism interactive input output 
succession results support construction sum theories 
theorem 
category countable lawvere theories cocomplete 
may proved equivalence countable lawvere theories monads set countable rank analysis 
know sum countable lawvere theories exists 
theorem 
set le denotes countable lawvere theory nullary operations countable lawvere theory tle tl 
proof 
category tl alg isomorphic alg monad alg determined lifting tl canonical distributive law tl direct calculation see category turn isomorphic tl alg algebra consists set elements tl structure tl algebra 
result explains exceptions monad transformer sending monad composite arises simply takes disjoint union sets operations retains equations explanation brings usual theory coproducts associativity commutativity interaction operations 
elegant category theory underlying commutative combination ects relevant closedness result follows definition 
countable lawvere theory category countable products denote mod identity objects fully faithful factorisation forgetful functor mod objects mod models maps just maps theorem theorem 
natural equivalence mod mod mod 
simple proof heavy correspondence countable lawvere theories monads set countable rank knowledge algebra consists set structure structure 
previous sections analysis section enriches fuss sum correct operation enriched setting 

barr wells category theory computing science prentice hall 

benton hughes moggi monads ects summer school 

moggi syntactic approach modularity denotational semantics cwi technical report 

freyd algebra valued functors general tensor products particular colloq 
math 
vol 
pp 


heckmann probabilistic domains proc 
caap lncs vol 
pp 
berlin springer verlag 

hennessy algebraic theory processes cambridge massachusetts mit press 

hennessy plotkin full abstraction simple parallel programming language proc 
mfcs ed 
lncs vol 
pp 
berlin springer verlag 

hyland power pseudo commutative monads proc 
mfps xvii entcs vol 
amsterdam elsevier 

hyland power dimensional linear algebra proc 
cmcs entcs vol 
amsterdam elsevier 

hyland power pseudo closed categories pure appl 
algebra appear 

jones probabilistic non determinism ph thesis university edinburgh report ecs lfcs 

jones plotkin probabilistic powerdomain evaluations proc 
lics pp 
washington ieee press 

kelly basic concepts enriched category theory cambridge cambridge university press 

kelly power adjunctions coequalizers presentations finitary enriched monads pure appl 
algebra vol 
pp 


manes algebraic theories graduate texts mathematics vol 
new york springer verlag 

mislove nondeterminism probabilistic choice obeying laws international conference concurrency theory pp 
url www math tulane edu mwm 

moggi computational lambda calculus monads proc 
lics pp 
washington ieee press 

moggi view programming languages university edinburgh report ecs lfcs 

moggi notions computation monads inf 
comp vol 
pp 


plotkin powerdomain construction siam comput 
vol 
pp 


plotkin domains www dcs ed ac uk home gdp 

plotkin power adequacy algebraic ects proc 
fossacs eds 
honsell miculan lncs vol 
pp 
berlin springerverlag 

plotkin power semantics algebraic operations extended proc 
mfps xvii eds 
brookes mislove entcs vol 
amsterdam elsevier 

plotkin power notions computation determine monads appear fossacs url www dcs ed ac uk home gdp public ations 

power enriched lawvere theories theory applications categories pp 


power modularity denotational semantics electronic notes theoretical computer science vol 
eds 
brookes mislove amsterdam elsevier 

power robinson modularity dyads proc 
mfps xv eds 
brookes jung mislove scedrov entcs vol 
amsterdam elsevier 

power rosolini modular approach denotational semantics proc 
icalp lncs pp 


robinson variations algebra monadicity generalisations equational theories appear url www dcs ac uk 
html 
pseudo commutativity pseudo closedness cp simplest way know explain extent natural closed structure category small categories countable products terms monads cat developed cf 
monad interest monad tcp category algebras pseudo maps cells category small categories countable products functors preserve countable products usual sense natural transformations 
definition 
symmetric pseudo commutativity monad cat consists family invertible natural transformations ta tb tb ta ab ab natural subject coherence respect symmetry cat coherence axiom respect strength unit multiplication monad tcp unique symmetric pseudo commutativity 
main definition gives notion pseudo closed structure category strong closed structure needs relax definition closed structure just little order account distinctions preservation strict preservation structure countable product structure reason setting quite closed structure category countable products category mod op equivalent isomorphic spell detailed definition pseudo closed category 
main result see formulation directed computer science audience follows theorem 
symmetric pseudo commutative accessible monad cat category algebras pseudo maps algebras pseudo monoidal pseudo closed structure induced pseudo commutative structure coherently respect closed structure cat 
corollary 
category small categories countable products countable product preserving functors natural transformations pseudo monoidal coherently respect closed structure cat 
heart result applies construction sends pair small categories countable products category cp countable product preserving functors behaved construction 
small categories countable products small category countable products behaved equivalence categories cp fp cp natural theorem determines construction coherent equivalence categories restricted countable lawvere theories agrees equivalence construction gave start section 
may conclude theorem 
construction countable lawvere theories extends coherent pseudo monoidal pseudo closed structure category small categories countable products small category countable products coherent equivalence categories mod mod mod 
