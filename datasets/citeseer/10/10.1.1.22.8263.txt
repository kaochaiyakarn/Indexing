modeling packet loss delay ect real time multimedia service quality jiang henning schulzrinne cs columbia edu department computer science columbia university internet packet loss delay exhibits temporal dependency 
packet lost packet lost 
leads bursty network losses late losses real time multimedia services voice ip voip 
may degrade perceptual quality effectiveness forward error correction fec 
characterize burstiness rst discuss modeling packet loss delay 
propose joint extended gilbert model inter loss distance metric characterize temporal loss dependency 
delay introduce metric called conditional cumulative distribution function 
applied models internet packet traces validate necessity ectiveness models 
evaluate ect dependencies voip investigating nal loss pattern flp applying playout delay adjustment fec 
results set simulations con rmed flp bursty 
example real time multimedia applications include voice ip voip internet radio stations video conferencing 
sender encodes media content transmit network packets regular intervals 
receiver gets media packets schedules appropriate playout time order produce smooth output media stream 
compensates delay variation jitter playout delay adjustment algorithm 
simple algorithms xed playout delay static determined start session 
advanced voip applications compute di erent playout delay talk spurt adaptively current network condition 
quality multimedia applications primarily determined packet loss delay 
packet lost media quality degrades recovery mechanism forward error correction fec retransmission 
second packet delay high misses playout deadline leads late loss 
illustrates media encoding decoding fec coding recovery playout delay adjustment typical voip application 
undoubtedly way metrics round trip time rtt important 
voip large rtt ms degrade application interactivity 
far receiver concerned perceptual quality received underwent oneway trip network 
focus analysis oneway loss delay 
distinction way way metrics blurs path characteristic ends symmetric 
burstiness ects quality packet loss delay exhibit temporal dependency burstiness 
instance packet large delay packet 
translates burstiness network losses late losses may worsen perceptual quality compared random losses average loss rate 
particular ects performance fec percentage packets recovered 
fec recover packet necessary packets belonging block received 
loss pattern original nal losses fec ects audio video quality ectiveness loss concealment 
user burstiness late losses di erence network losses 
reported moon inter dependency delay loss 
means late losses network losses may merge longer nal loss bursts 
ect shown ment loss recovery losses packets playout delay late loss added playout delay control new delay playout coder fec loss media packets media decoded compressed decoder internet signal media redundant packets sender workstation receiver workstation repaired signal loss recovery concealment packet audio simple metrics average loss delay capture burstiness 
goal establish feasible metrics suciently characterize packet loss delay processes reliably predict perceived quality 
propose joint extended gilbert model state special case inter loss distance metric characterize temporal dependency loss :10.1.1.21.7087
extended gilbert model suitable describing loss run distributions metric useful capturing burstiness loss runs 
model temporal correlation delay introduce metric called conditional cdf 
analyzed internet packet traces con rmed existence loss burstiness delay correlation traces 
past literature focused network loss patterns 
real voip application perceptual quality determined nal loss patterns playout delay control optionally fec 
fec signi cantly change loss rate distribution 
flp due inter dependency delay loss packet loss preceded high delays 
fec coupled playout delay adjustment complicates flp recovery time longer playout delay equivalent late loss 
run set playout control simulations internet packet traces 
flp bursty ts extended gilbert model 
true fec 
main contributions rst joint extended gilbert model metric 
simpler nth order markov model states depicts burstiness loss runs 
second evaluate errors introduced bernoulli model state gilbert model extended gilbert model ected small ilds 
errors computed real internet packet traces 
third introduce conditional cdf metric capture temporal delay dependency 
investigated flp applying playout control optionally fec 
ndings con rmed flp bursty 
section discuss analytical modeling loss delay 
section examines nal loss patterns packet traces playout control fec 
loss modeling generally agreed closely spaced packets packet losses approximated bernoulli model :10.1.1.111.2106
packet loss internet indicates congestion packet may lost high probability leading temporal loss dependency 
list network packet traces table lists internet packet traces 
create traces unix workstations act sender receiver respectively 
sender periodically transmit udp packets xed size 
software running workstations voip application trac periodic trace created real voip application 
voip applications silence suppression introduces talk gaps mimic behavior randomly generating talk gaps omitting part trace maps gap 
described section 
udp packet contains sender timestamp sequence number 
packet arrives receiver record arriving timestamp write timestamps sequence number trace le 
line analysis calculate way delays subtracting send receive timestamps followed clock drift removal initial clock di erence correction 
simplicity initial clock di erence inferred assuming network symmetric delays 
assumption essential analysis interested delay variation jitter translates late losses jitter relative measure absolute 
packet loss detected missing sequence number trace le 
table trace lists average delay jitter loss rate 
average jitter arithmetic mean rtp jitter sec arrived packets 
gives conditional loss rate give rst glance bursty losses trace 
packet size listed table udp data portion bytes 
spacing sender inter packet interval 
apparently smaller spacing stronger temporal corre trace sender receiver date time packets delay jitter loss clp spacing size cu gmd pm ms ms ms cu umass pm ms ms ms ucsc cu pm ms ms ms ucsc umass am ms ms ms cu ucsc pm ms ms ms cu hp am ms ms ms table list internet packet traces lation 
traces ms frame duration 
frame size kb bytes bytes rtp udp packet 
traces byte packet size 
starting times table eastern standard daylight savings time est edt whichever appropriate speci ed date 
gilbert model yajnik bolot recommend markov model capture temporal loss dependency :10.1.1.111.2106:10.1.1.21.7087
analyzed state markov model known gilbert model 
simple understand implement monitoring applications 
non loss loss gilbert model probability packet lost provided previous arrived 
opposite 
conditional loss probability clp 
normally 
gilbert model reduces bernoulli model 
de nition compute state probability state respectively 
gilbert model represent mean arrival loss probability respectively 
probability distribution loss runs respect loss length geometric distribution 
calculate packet trace loss length distribution statistics :10.1.1.21.7087
denote number loss bursts having length length longest loss bursts 
denote number delivered packets 


example take trace table 
loss burst distribution burst length count 


trace ulp equal clp signi cantly higher approximation error bernoulli model gilbert process bernoulli model parameter mean loss probability approximate gilbert process predict loss run distribution 

illustrate compare trace 

table expected number loss runs length bernoulli gilbert model respectively 
loss length table estimation error caused bernoulli model trace evident bernoulli model estimates single loss probability estimates probability longer loss bursts 
bernoulli model double losses highly trace expected incident trace double losses 
general markov model nth order markov chain model general model capturing dependencies events 
event assumed dependent events needs states 
denote binary event ith packet loss non loss 
parameters determined nth order markov model jx combinations yajnik show packet traces typically require :10.1.1.111.2106
quantify precision gained nth order markov model gains compared simple models state gilbert model 
extended gilbert model proposes di erent model leads fewer states :10.1.1.21.7087
needs states remember events 
called extended gilbert model 
key distinction general markov model assumes past events ect extended gilbert model past consecutive loss events ect 
capture burstiness clustering loss runs 
inter loss distance metric purpose 
illustrates extended gilbert model works 
system keeps counter number consecutively lost packets reset packet delivered 
parameter determine extended gilbert model jx lost de nition markov model 
non loss consecutive consecutive consecutive loss losses losses extended gilbert model corresponding transition matrix steady probability calculated follows clear gilbert model special case extended gilbert model 
gives formula calculate parameters extended gilbert model follows section :10.1.1.21.7087
example parameters calculated trace cu gmd loss length distribution length state extended gilbert model completely retains information distribution 
transition matrix unknowns equations formula determine unknowns 
comparison original loss length distribution trace cu umass 
table lists equivalent state gilbert model produces average 
trace gilbert model predicts single double losses quite closely results visibly di erent 
generally need state extended gilbert model capture original loss length distribution 
burst length trace count gilbert model burst length trace count gilbert model inter loss distance metric working group proposed inter loss distance metric describe distance packet losses terms sequence numbers 
metric useful respects 
extended gilbert model able model loss run distributions model distances loss runs 
loss runs close sequence numbers small ilds may worsen nal perceptual quality 
need subjective listening study determine quantitatively relates perceptual quality 
second small ilds may degrade performance fec 
shows pmf trace table 
trace trace inter loss distance pmf original trace trace generated extended gilbert inter loss distance probability distribution trace original gilbert extended gilbert table percentage lost packets unrecoverable fec ect small ilds fec loss runs 
generate random loss trace extended gilbert model probability loss runs having inferred 
small ilds direct ect fec performance illustrated table 
reed solomon fec code compared percentage lost packets unrecoverable fec 
example lost packets trace recovered fec equivalent trace generated extended gilbert model ratio 
extended gilbert model detailed model capturing loss run distributions reason deviation due small ilds original trace 
section examine ect ilds fec listed traces 
loss models metrics working group de ned noticeable loss rate nlr metric 
threshold distance compute number noticeable losses losses having inter loss distance noticeable loss rate simply obtained dividing number noticeable losses total number packets 
nlr useful giving estimate fec loss concealment performs 
capture burstiness loss runs 
example nlr single loss run equivalent double losses 
nlr exactly equivalent mechanism fec notion blocks 
examined quantitative relationship nlr fec performance 
delay models conditional cdf way measure temporal delay dependency auto correlation analysis 
denote delay ith packet total number packets measured delay random variable average delay correlation lag auto correlation function acf acf indicator dependency dicult calculate example burst length distribution late losses metric 
introduce new metric purpose conditional complementary cdf just conditional cdf short de ned lag axis 
formula means packet delay probability packet delay conditional cdf simple useful metric 
real time multimedia applications packet delay higher playout delay ectively lost 
inspecting unconditional cdf playout delay percentage late lost packets cdf 
inspecting conditional cdf estimate burstiness late losses 
playout delay constant session conditional cdf applied directly estimate burstiness late losses 
adaptive playout delay directly relate conditional cdf late loss burstiness 
little known literature topic conditional delay dependency 
bolot analyzed conditional property round trip delays consecutive packets 
delays random variation lightly loaded conditions background trac load high consecutive delays exhibit spikes 
delay spike sequence delays starts high delay decreases linearly 
example conditional cdf shown 
uses trace table 
lag ms 
packet delays trace signi cant temporal dependency conditional cdf lag look similar unconditional cdf 
true low delays 
certain lag lag lag lag unconditional lag lag delay sec conditional cdf trace cu gmd threshold conditional cdf increases signi cantly 
lag increases conditional cdf drops quickly con rmed acf 
acf tell high delays strong temporal dependency 
reason conditional cdf increasing trend explained intuitively follows high delay packet indicates non empty router bu er 
router operates limited speed takes time bu er drain 
sender inter packet gap small ms bu er depth may changed packet experience high delay 
compute queueing delay distribution approximated queueing models 
shows conditional cdf system di erent lags 
lag lag lag lag unconditional lag lag delay sec ccdf system temporal dependency delay strong implication quality real time multimedia services 
packet delay exceeds certain value say playout delay happen packet 
result late losses may degrade performance fec degrade performance loss concealment 
ect delay loss voip ultimate goal predict user perceived quality real time multimedia application network performance 
see nal quality perceived user depends nal loss pattern flp multimedia stream performance loss concealment 
performance loss concealment directly depends nal loss pattern investigate flp 
assume loss recovery done fec analysis similar retransmission technique 
fec refer traditional fec low bit rate redundancy fec mentioned 
low bit rate redundancy fec serve type loss concealment 
simulation setup spurt gap pattern fec playout control voip applications silence transmit talk 
study brady spurt gap distributions approximately exponential 
exponential distribution sec average plus bottom threshold ms describe length distribution talk silence gaps 
randomly generated gaps applied existing packet trace playout control simulation 
packet considered simulation sequence number falls inside talk spurt 
packet lost original trace considered lost simulation 
means average half packet losses raw trace considered don fall inside talk spurt 
software simulates reed solomon fec code 
uses block size data units packets packets original payload represent redundant information 
long packets received payload fully reconstructed 
fec code 
applying fec voip packet stream choice put redundant information 
applications piggy back redundant data subsequent payload packet reduce network load packet header overhead 
furthermore needs decide subsequent packet piggy back 
choose settings shown considered optimal terms correction ability 
examine playout control algorithms rst exp avg exponential average algorithm 
playout time calculated follows 
sequence number rst packet current talk spurt generation time block sequence number redundant information second third payload unit packet number fec settings packet 
running averages delay jitter de ned 


second algorithm virtualized delay version exp avg fec mentioned 
fec playout algorithm aware long needs wait fec data perform time recovery recovered data late playout 
hand conservative postpone playout fec block arrive loss rate low 
rosenberg shows playout algorithm virtualized minimum normal packet network delay delay necessary fec data arrive 
resulting minimum called virtual delay de ned min min min arrival time packet nity lost sending time earliest time packet fully recovered 
example packet rst unit reed solomon fec block lost earliest recovery time packet arrives assuming lost arrives order 
virtualize exp avg algorithm need replace updating loss rate high value virtual delay dominated fec recovery time 
virtual jitter increase fec recovery time usually higher average network delay 
algorithm increase playout delay allow fec recoveries complete time 
third playout algorithm prev opt adaptive exp avg 
calculates talk spurt optimal playout delay opt keeps track playout estimator dw dw 
dw 
opt spurt sequence number 
actual playout delay spurt act dw 
vw vw de ned vw vw opt prev opt opt de ned optimal playout delay achieves exceed user speci ed application loss rate 
simplicity analysis implementation choose application loss rate 
special case opt simply largest virtual delay talk spurt 
setting reduces number late losses opt usually relatively large 
fourth algorithm virtualized version prev opt fec 
fec playout control fec exp avg prev opt burst length late loss loss total loss merged bursts fec exp avg prev opt burst length late loss loss total loss merged bursts table ect playout control nal loss burstiness cu gmd trace reed solomon fec code table brief summary loss bursts cu gmd sep trace 
loss simply network packet losses fec 
fec number loss bursts recovered fec 
merged bursts column number loss bursts merging late losses losses 
example single late loss occurs packet loss occurs packet form loss burst length assuming packets lost 
due random nature generated spurt gap patterns results listed table implementation random seed 
cases trends similar independent random seeds 
bursty need extended gilbert model describe patterns 
table single network losses single late losses 
table single network losses recovered fec 
means fec job loss recovery loss rate low jitter trace low recovered packets played back time late losses 
burst length late loss loss total loss merged bursts fec exp avg playout burst length late loss loss total loss merged bursts fec reed solomon code virtualized exp avg burst length late loss loss total loss merged bursts fec prev opt burst length late loss loss total loss merged bursts fec reed solomon code virtualized prev opt table ect playout control nal loss burstiness cu umass sep trace late losses network losses adjacent sequence numbers merge bigger loss bursts 
evident column table number triple losses increased 
ect visible table losses 
performed experiment network traces obtained 
table result trace cu umass 
results general similar best described state extended gilbert model usually 
ects merging late losses evident 
traces larger jitter conservative larger playout delay 
result far fewer late losses traces 
draw applying playout control possibly fec flp best described state extended gilbert model 
results indicate usually 
fec generally job recovering network losses recovery timely depends playout delay algorithm 
merging ect late losses losses 
ect minimized delay jitter high fec employed leads conservative higher playout delay recovery lost packets 
comparisons delays introduced fec table compares average playout delay different playout algorithms 
lists clp flp give rst glance burstiness 
delays ms rst value actual playout delay value optimal minimum delay achievable loss rate 
unconditional loss probability ulp conditional loss probability clp listed pair table 
see traces exhibit high clp flp indicates high degree burstiness 
table fec virtualized version exp avg add signi cant playout delay compared plain exp avg 
gain fec relatively small unconditional loss probability reduced signi cantly 
prev opt fec performs better terms losses adds large overhead average playout delay 
see prev opt fec produces relatively conservative large playout delay compared optimal value 
due choice application loss rate prev opt implementation 
error gilbert model predicting fec performance investigated error introduced gilbert model predict fec performance 
rst compute parameters needed gilbert model derived ulp clp 
program generates packet trace gilbert loss pattern 
run fec playout simulation program generated trace 
program records numbers number original packet losses number packet losses unrecoverable fec 
compare percentage unrecoverable packets traces 
minimize error variance due random sampling run simulations times obtain average 
results large standard deviation shown trace fec exp avg fec exp avg fec prev opt fec prev opt delay opt ulp clp delay opt ulp clp delay opt ulp clp delay opt ulp clp table average playout delays conditional loss probability di erent algorithms trace original gilbert extended gilbert table percentage lost packets unrecoverable fec ect small ilds fec traces believe due small number packet losses relatively short length traces 
average shows consistent performance di erence di erent loss models 
table lists fec performance results traces table 
lists results extended gilbert model 
case similar random trace generated extended gilbert loss pattern 
extended gilbert model detailed model describing loss run distributions performance di erence original trace indication small ilds inter loss distances explained section 
table trace similar results columns percentage original trace bit higher 
true trace 
trace shows higher deviation simple extended gilbert model vs meaning gilbert model accurate trace 
large di erence extended gilbert model original trace small ilds trace 
recall section trace loss runs 
trace loss runs distribution shown ect small ilds stronger 
trace large di erence gilbert models di erence extended gilbert model original trace 
study ect flp voip subjective quality summarize nal loss pattern playout adjustment expected 
ects user perceptual quality requires study 
rosenberg reported built loss concealment mechanism codec usually repair single loss longer bursts 
loss probability loss pattern degrade voice signal greater degree random losses exceptions 
example audio packet duration short ms average loss rate high random losses translate frequent annoying clicking sound assuming loss concealment 
losses bursty may translate frequent clicking sound annoying 
di erent example video streams 
video frame consists network packets losing packet renders frame useless 
case bursty losses may preferable random losses 
discussed factors ecting real time 
rst modeling network delay loss 
propose joint state extended gilbert model inter loss loss distance characterize loss burstiness 
con rmed comparing errors estimating fec performance simple extended gilbert model original packet trace 
introduce conditional cdf capture temporal dependency network delays previous delays high delay high 
applying playout delay adjustment optionally fec nal loss pattern flp random losses needs described extended gilbert model 
particularly fec employed jitter low late losses network losses merge longer loss bursts 
due observed inter dependency loss delay loss preceded high delays 
plan perform subjective listener tests examine loss burstiness relates perceptual quality 
far assumed flp determines perceptual quality 
algorithm prev opt produce swiftly changing playout delays resulting talk arti cially squeezed pulled may audio comprehensible user 
plan investigate ect nal playout jitter perceptual quality 
jonathan rosenberg providing network packet traces measurement software tool 
prof garcia brad smith uc santa cruz dr sharma hp labs providing measurement accounts 
jean bolot 
characterizing packet delay loss internet 
journal high speed networks 
jean bolot don towsley 
adaptive fec error control interactive audio internet 
proceedings conference computer communications ieee infocom new york march 
jean bolot andres vega garcia 
control mechanisms packet audio internet 
proceedings conference computer communications ieee infocom san fransisco california march 
paul brady 
technique investigating patterns speech 
bell system technical journal january 
paul brady 
ects transmission delay conversational behavior echo free telephone circuits 
bell system technical journal january 
john joseph langford 
models analysis packet voice communications systems 
ieee journal selected areas communications sac september 
gopal wong 
analysis playout strategies voice transmission packet switching techniques 
performance evaluation february 
henning schulzrinne 
network quality service 
ian foster kesselman editors grid blueprint new computing infrastructure 
morgan kaufmann publishers san francisco california 
hardman angela sasse mark handley anna watson 
reliable audio internet 
proc 
inet honolulu hawaii june 
international telecommunication union 
dual rate speech coder multimedia communications transmitting kbit recommendation telecommunication standardization sector itu geneva switzerland march 
jiang henning schulzrinne 
qos measurement internet real time multimedia services 
technical report cucs columbia university new york new york december 

way loss pattern sample metrics 
internet draft internet engineering task force june 
progress 
sue moon jim kurose paul don towsley 
correlation packet delay loss internet 
technical report university massachusetts january 
sue moon jim kurose don towsley 
packet audio playout delay adjustment algorithms performance bounds algorithms 
research report department computer science university massachusetts amherst amherst massachusetts august 
colin perkins orion hardman 
survey packet loss recovery techniques streaming audio 
ieee network september 
ramachandran jim kurose don towsley henning schulzrinne 
adaptive playout mechanisms packetized audio applications wide area networks 
proceedings conference computer communications ieee infocom pages toronto canada june 
ieee computer society press los alamitos california 
jonathan rosenberg 
error recovery internet telephony 
technical report columbia university 
jonathan rosenberg lili qiu henning schulzrinne 
integrating packet fec adaptive voice playout bu er algorithms internet 
proceedings conference computer communications ieee infocom 
carle :10.1.1.21.7087
framework model packet loss metrics loss 
spie acm multimedia computing networking conference january 
schulzrinne casner frederick jacobson 
rtp transport protocol real time applications 
request comments internet engineering task force january 
maya yajnik sue moon jim kurose don towsley :10.1.1.111.2106
measurement modelling temporal dependence packet loss 
proceedings conference computer communications ieee infocom new york march 
