tcp wireless multi hop protocols simulation experiments mario gerla bagrodia lixia zhang ken tang lan wang gerla lixia cs ucla edu study investigate interaction tcp mac layer wireless multi hop network 
type network traditionally applications military automated battlefield law enforcement search rescue disaster recovery flood earthquake fixed wired infrastructure 
wireless ad hoc multi hop networks proposed nomadic computing applications 
key requirements applications reliable data transfer congestion control features generally supported tcp 
unfortunately tcp performs wireless predictable way wired protocols 
simulation provide new insight critical problems tcp wireless multi hop 
conflict data packets acks causes tcp performance degrade window sizes greater packet 
second interaction mac tcp layer backoff timers causes severe unfairness capture conditions 
identify problems representative simulation runs various topologies traffic patterns indicate possible remedies improve tcp efficiency wireless multi hop network 

rapid advancement portable computing platforms wireless communication technology led significant interest design development protocols instantly deployable wireless networks referred ad hoc networks 
ad hoc networks required situations fixed communication infrastructure wired wireless exist destroyed 
applications span different sectors society 
civilian environment interconnect workgroups moving urban rural area campus engaged collaborative operation distributed scientific experiments search rescue 
law enforcement sector applications crowd control border patrol come mind 
military arena modern communications battlefield theater require sophisticated instant infrastructure far complex requirements constraints civilian applications 
nutshell key characteristics design evaluation ad hoc networks unique challenging wireless adaptive mobility laboratory computer science department university california los angeles los angeles ca www cs ucla edu nrl wireless include mobility unpredictable wireless channel fading interference obstacles broadcast medium shared multiple users large number heterogeneous nodes thousands sensors 
challenging physical characteristics ad hoc network add extremely demanding requirements posed network typical applications 
include multimedia support multicast multi hop communications 
multimedia voice video image individuals collaborating critical applications real time constraints 
multicasting natural extension multimedia requirement 
justified things limited power mobile devices obstacles desire reuse frequency code 
key requirements ad hoc network environment reliable data transfer congestion control 
features generally supported tcp 
important question tcp designed wired networks interacts wireless protocols particular mac layer 
mac tcp layers strive provide efficient transport shared environment degree efficiency protection errors interference 
mac layer myopic view network critical limitation multi hop networks 
contrast tcp provides true control errors congestion 
study tcp mac layer interaction simulation 
simulation platform glomosim 
glomosim parallel simulation environment implemented parsec parallel simulation environment complex systems 
includes wireless protocols library radio propagation mobility mac network transport applications 
importantly glomosim permits detailed modeling layers study interaction preserving runtime efficiency yielding manageable execution time 
rest organized follows section reports configuration parameters simulation 
tcp mac layer experiments examined section 
section summarizes grid topology simulation results 
section concludes 

experimental configuration parameters consider different types topologies string topology nodes shown fig 
ring topology nodes shown fig 
grid topology nodes shown fig 

radio channels bidirectional arrows indicate direction data packet transmissions 
acks travel opposite direction 
distance neighbor nodes equal radio transmission range 
tcp udp connections established different node pairs 
connections carry large file transfers infinite backlog 
cases grid topology carry interactive traffic 
nodes static mobility 
free space channel model simulation model 
perfect channel assumed external noise 
channel data rate mbps 
fig 

string topology 
fig 

ring topology 
fig 

grid topology 
mac protocols considered csma fama 
protocols chosen representative broad class mac schemes wireless lans 
csma carrier sense multiple access requires carrier sensing transmission 
channel free packet transmitted immediately 
rescheduled random timeout 
major limitation csma hidden terminal problem 
nodes fig 
hear reach node 
may transmit simultaneous spite carrier sensing cause collision node 
csma packet radio network mid 
popular wireless lans 
fama floor acquisition multiple access uses rts request send cts clear send exchange prepare floor data transmission avoiding hidden terminal collision cases :10.1.1.17.61
fama experimental mac protocol specifically developed darpa program 
bears close resemblance ieee protocol proposed standard wireless lans ad hoc wireless networks 
node packet mac layer buffer pool 
incoming packets find buffer full dropped 
scheduling packet transmissions fifo 
routing protocol distance vector bellman ford 
order avoid interference routing update packets tcp packets dv algorithm run start experiment initialize routing tables 
tcp simulation model accurate replica tcp code running internet hosts today 
tcp simulation code generated freebsd code 
particular window size grows progressively reaches advertised window packet loss detected 
cases window size halved fast retransmission fast recovery abruptly reduced slow start 
simulation force maximum tcp window certain value setting advertised window value 
tcp packet length assumed fixed 
experiments packet loss due channel interference high tcp connections timed closed 
allow simulator run completion artificially increased maximum number retransmissions avoiding premature tcp connection closure 

tcp mac layer previous mac layer simulation experiments ucla uncovered major weaknesses mac layer csma lesser extent fama suffer hidden terminal losses stations tend capture channel heavy load situation 
place loss recovery provided upper layer link transport layer 
study consider loss recovery tcp transport layer protocol popular solution wireless lans easiest implement multi hop wireless environment 
secondly wish remove capture 
question tcp improves capture situation worse 
start single tcp connection covers variable number hops hops 
set experiments tcp window 
packet 
results csma fama throughputs function number hops reported table 
verify throughput values match exactly analytic predictions send wait protocol 
throughput inversely proportional hop distance 
csma throughput slightly higher fama rts cts overhead 
number hops csma fama table 
throughput kbps single tcp connection variable number hops 
set kb 
tcp protocol dynamically adjusts congestion window required 
window increased multiple packets multiple acks travel path opposite directions creating interference collisions csma fama 
expect balance window increase improves performance hops example analysis shows optimal throughput assuming optimal scheduling packet ack transmissions path achieved 
simulation results table indicate 
csma throughput collapses 
fama slightly better csma throughput lower 
number hops csma fama table 
throughput kbps single tcp connection variable number hops kb 
results conclude gain larger single packet size connections covering multiple hops 
consider ring topology fig 

nodes engaged single hop file transfer connections 
run csma fama 
results reported table 
consider observed typically degrades performance multi hop environment 
key performance measures interest throughput efficiency fairness 
tcp connection csma fama total throughput table 
throughput kbps ring topology 
start csma note tcp protocol reasonably fair 
aggregate throughput mbps quite considering fact maximum theoretical throughput achievable ring mbps simultaneous session hop apart 
fama tcp yields mbps 
compares favorably theoretical maximum mbps 
solution quite unfair 
links capture entire throughput 
remaining links small negligible throughput 
consider case tcp connection spanning hops sharing path single hop connections 
experimental configuration see fig 
consists string nodes single hop connections multi hop connection 
results reported table 
find zero negligible throughput connection csma fama 
unexpected link level acks probability packet making hops slim 
tcp connection csma fama total throughput table 
throughput kbps string topology data stream 
fama experiments reported table get significant throughput 
behavior single hop sources fairer csma aggregate throughput lower mbps 
attempt favor connection increase window kb 
positive effects yielding results similar table 
separate set experiments reduced length multi hop connection progressively hops hops 
able observe significant traffic kbps case csma 
zero throughput yielded fama 
interesting compare behavior single hop connections string ring topology 
fairness worse string ring 
nodes capture channel locked 
aggregate throughput better string ring mbps vs mbps 
expected maximum theoretical throughput string optimal scheduling mbps versus mbps ring topology 
summary lessons learned tcp experiments heavy file transfer load 
large window negative effect especially csma 
window packet size provides far best results 
secondly capture removed 
fact worse tcp 
apparently backoffs mac tcp reinforce emphasizing capture unfairness 
unfairness particularly severe respect multi hop connections 
traffic gets hops network heavily loaded 

grid topology previous experiments linear topologies string ring just type traffic file transfers 
section wish model realistic environment 
select grid topology node neighbors nodes positioned edge grid 
network size varies nodes 
grid shown fig 

types traffic injected network ftp traffic vertical paths interactive traffic horizontal hops 
interactive traffic modeled constant offered rate fixed size packets 
rate uniform network varies experiment experiment 
file transfer sources constant heavy supply packets transmit 
performance measure interest throughput 
key variables offered interactive load network size 
ran experiments loads interactive tcp connections kbps grid sizes 
report detailed results experiment loading conditions kbps kbps kbps 
summary results provided cases 
analysis csma experiment grid offered load kbps 
interactive sources achieve full throughput manage discharge packets arrive 
ftp sources fare see fig 

achieve throughputs ranging kbps kbps average kbps 
theoretical maximum kbps hops packet 
gap theoretical maximum measured values due interference neighbor ftp connections interactive traffic 
particularly damaging multihop ftp connections high loss rate links lack link loss recovery 
ftp throughput borders grid higher interior interference lower 
unfairness due capture quite evident low level interactive traffic 
throughput kbps throughput ftp connections average ftp connection csma fama fig 

grid topology offered interactive load kbps 
shift attention fama interactive load see fig 

interactive connection performance csma 
ftp average fama throughput higher csma kbps compared kbps csma 
fama better protected hidden terminal losses 
reduces fama losses improves throughput 
unfairness capture fama maximum kbps minimum kbps 
unfairness due progressively increasing random timeouts 
interactive offered load increased kbps see fig 
start noticing losses interactive throughput 
interactive sources keep offered load 
csma experiment interactive throughput kbps 
fama kbps 
ftp connections increase interfering load causes strong degradation strong capture especially csma 
maximum minimum values csma kbps kbps 
obviously connections practically locked 
fama fares bit better maximum minimum kbps kbps respectively 
throughput kbps fig 

grid topology offered interactive load kbps 
interactive load kbps see fig 
interactive sources show strong signs capture unfairness 
csma measure maximum kbps minimum kbps interactive throughput 
fama maximum minimum kbps kbps 
average interactive connection throughput kbps csma kbps fama 
ftp throughput virtually collapses load 
average ftp throughput kbps surprisingly csma fama 
throughput kbps throughput ftp connections ftp connections fig 

grid topology offered interactive load kbps 
fig 
show average csma fama ftp throughput respectively function path length various values interactive load 
results confirm earlier findings tcp throughput drops rapidly path length increases 
drop caused link loss turn caused interference neighboring ftp connections interactive traffic 
throughput ftp connections ftp connections average average csma fama csma fama throughput kbps throughput kbps csma fama fig 

average ftp throughput vs number hops 
precisely packet loss probability link assumed data packets acks hop length finds tcp throughput throughput absence packet loss 
effects path length ftp throughput number hops effects path length ftp throughput number hops kbps kbps kbps kbps kbps kbps kbps kbps throughput drops faster exponentially hop length 
exponential drop derives facts probability packet ack survive tcp retransmission time doubles retransmission average timeout tout summary grid experiments confirm irregular behavior observed linear topologies 
throughput decays exponentially hop length 
fama superior csma terms throughput 
fama csma suffer unfairness problems mainly due capture 
new insights offered grid experiments 
example ftp degradation depends critically level single hop interfering traffic 
sensitive hand interference caused multi hop tcp connections 

focus mac tcp layers interaction multi hop radio network 
considered representative mac layers csma fama 
main findings study csma fama exhibit capture tcp 
connections take turns capturing channel 
capture may seconds minutes 
clearly unacceptable real time environments battlefield 
multi hop tcp connections clear disadvantage respect single hop connections 
case channel contention multi hop connection gets zero throughput cases 
best performance achieved packet avoid conflict multiple packets outstanding acks 
fama yields better throughput csma 
prone capture csma 
capture layer interactions adequately studied detailed simulation platform glomosim 
simulators layer features ignoring retransmission time policies may just capture behavior 
results indicate research necessary tcp mac layers multi hop environment 
precisely mac timeouts revisited adding instance vacations success link level acks introduced order reduce link loss rates tcp efficiently multi hop paths cumulative acks selective retransmit feature considered tcp efficient heavy collision environment priorities scheduling designed maintain fairness support qos connections 
bagrodia meyer parsec parallel simulation environment complex system appear computer magazine 
bakshi krishna pradhan vaidya performance tcp wireless networks th intl 
conf 
distributed computing systems icdcs baltimore may 
hari balakrishnan srinivasan seshan randy katz improving reliable transport handoff performance cellular wireless networks acm wireless networks december 
bharghavan demers shenker zhang macaw media access protocol wireless lan acm sigcomm 
richard fujimoto yi bing lin paul england distributed simulation large scale pcs networks mascots 
proceedings second international workshop modeling analysis simulation computer telecommunication systems cat 
th mascots 
clearly tsai conservative parallel simulation atm networks proceedings pads floyd floyd tcp explicit congestion notification acm computer communication review october 
fullmer garcia luna aceves floor acquisition multiple access fama packet radio networks computer communication review vol :10.1.1.17.61
acm sigcomm cambridge ma usa aug sept 
acm oct 
gerla 
tsai multicluster mobile multimedia radio network acm baltzer journal wireless networks 
vol 

holvoet agents simulating implementing petri nets proceedings pads 
john jubin janet darpa packet radio network protocols proceedings ieee jan 
karn maca new channel access method packet radio arrl amateur radio th computer networking conference arrl 
lin gerla maca pr asynchronous multimedia multi hop wireless network ieee infocomm 
martini tolle tolerant synchronization distributed simulations interconnected computer networks proceedings pads 
robert morris tcp behavior flows international conference network protocols october 
rappaport seidel simulation indoor radio channel impulse response models 
short bagrodia kleinrock mobile wireless network system simulation proceedings acm mobile communication networking conference mobicom november 
andrew tanenbaum computer networks third edition prentice hall ptr new jersey 
zeng bagrodia gerla glomosim library parallel simulation large scale wireless networks appear proceedings pads 
