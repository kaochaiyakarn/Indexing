ieee acm transactions networking vol 
april analyzing peer peer traffic large networks sen member ieee jia wang member ieee peer peer applications growing dramatically particularly sharing large video audio files software 
analyze traffic measuring information collected multiple border routers large isp network report investigation popular systems fasttrack gnutella direct connect 
characterize observed single isp impact underlying network 
observe skewed distribution traffic network different levels spatial aggregation ip prefix 
systems exhibit significant dynamics short time scale particularly ip address level 
fraction traffic contributed prefix stable corresponding distribution web traffic traffic 
high volume stability properties traffic suggests workload candidate managed application specific layer traffic engineering isp network 
index terms file sharing peer peer traffic characterization traffic measurement 
peer peer applications growing dramatically particularly sharing large video audio files software 
growth bandwidth intensive nature applications suggests traffic significant impact underlying network 
important understand characterize traffic terms system behavior network impact order develop workload models provide insights network traffic engineering capacity planning 
traffic broadly classified categories signaling data transfer 
types traffic need measured order gain solid understanding system behavior 
signaling traffic includes tcp connection setup search queries query replies 
early systems gnutella controlled flooding propagate queries hosts lead bandwidth scaling problems 
newer systems fasttrack directconnect newer versions gnutella perform targeted forwarding subset hosts shall describe bandwidth efficient terms signaling 
leading content shared systems audio video files tend large size mb min long kb mp audio clip mb manuscript received october revised december approved ieee acm transactions networking editor rexford 
early version appeared proceedings acm sigcomm internet measurement workshop 
authors labs research florham park nj usa mail sen research att com research att com 
digital object identifier ieee hour long mpeg video clip encoded kb comparison typical query response messages smaller size order bytes 
actual data transfer dominant component total traffic systems significant impact underlying network 
previous research focused exclusively signaling traffic public domain gnutella napster systems :10.1.1.160.7346:10.1.1.12.6173
projects gather signaling traffic setting crawlers internet 
crawler joins network maintains active tcp connections number hosts called neighbors 
iteratively builds list hosts system communicating known hosts adding newly discovered hosts known list 
logs messages exchanges hosts 
data collection depends number active tcp connections crawler maintains approach suitable conducting large scale data gathering 
addition active probing approach bandwidth intensive proposition map large systems hosts 
number interesting research questions implications system design traffic engineering 
traffic distributed internet 
spatial distribution characteristics instance influence traffic management decisions identifying potential hot spots capacity planning 
characteristics application level network connectivity 
connectivity behavior yield insights developing appropriate protocols searching fetching objects system 
dynamic systems temporally spatially 
understanding yield clues developing systems performance properties terms scalability reliability reachability 
performs systematic characterization traffic impact underlying network step answering questions 
complementing earlier techniques novel approach conducting large scale nonintrusive measurement traffic covering signaling traffic actual data traffic mapping proprietary systems 
focus traffic observed large isp aim characterizing workload understanding impact underlying isp network 
interest service providers traffic increased dramatically couple years accounts significant portion total traffic observed large isp workload characterization enable service providers ieee acm transactions networking vol 
april better cope traffic suitable traffic engineering measures identifying heavy hitter network prefixes private route peering arrangements pricing rate limiting routing 
extracted analyzed flow level records collected multiple border routers isp network period months 
study focused popular systems fasttrack gnutella direct connect 
major observations 
systems exhibit significant increases traffic volume number users consecutive months 
ii traffic volume generated individual hosts extremely variable ips contribute total traffic volume 
iii traffic distributions traffic volume connectivity defined average bandwidth usage extremely skewed fit power law distributions 
iv systems exhibit high level system dynamics small fraction hosts persistent long time periods 
fraction traffic contributed network prefix remains relatively unchanged stable corresponding distribution web traffic traffic time period month 
news isps high volume stability properties traffic indicates application specific layer traffic engineering may promising way manage workload isp network 
early version appeared proceedings acm sigcomm internet measurement workshop 
parallel subsequent research consider data traffic 
data gathered edge networks provide view local usage 
contrast provides complementary backbone view large tier isp perspective gathering data multiple border routers isp 
remainder organized follows 
section ii presents methodology analyzing traffic 
section iii describes metrics traffic characterization 
provide overview traffic data systems section iv examine system dynamics section section vi explores key questions related modeling workload section vii compares traffic web traffic 
summarize main results section viii conclude section ix 
ii 
methodology focus popular systems open source gnutella network accessed client interfaces limewire proprietary fast track better known popular client names kazaa directconnect systems 
time measurements conducted popular morpheus file swapping service fasttrack system data includes morpheus traffic 
highlight key features systems outline data collection measurement methodology 
popular applications fasttrack gnutella directconnect decentralized self organizing file sharing systems data index information metadata searching distributed set peers client server 
hosts join leave frequently organize distributed fashion application level overlay point point application level connections host set hosts neighbors 
time experiments conducted communications occurred predominantly default known ports 
process obtaining file broadly divided phases 
host uses protocol search hosts system particular resource receives responses identifies target hosts download resource 
search queries responses transmitted overlay connections protocol specific application level routing 
details signaling propagated overlay protocol dependent 
gnutella hosts considered equal participate query processing 
host initiates query flooding neighbors overlay 
neighboring hosts turn flood neighbors scoping mechanism control query flood 
contrast fasttrack directconnect queries forwarded handled subset special hosts called supernodes fasttrack hubs directconnect 
host transmits index content special host connected 
special host uses corresponding protocol forward query hosts system 
newer versions gnutella protocol adopt similar approach special hosts called reflectors defenders ultrapeers 
second phase requesting host directly contacts target host typically target host runs server listening default known protocol specific port get requested resource 
newer systems fasttrack gnutella file swarming file download chunks multiple hosts 
term network typically existing works refer application level peer peer connections signalling hosts consider download path followed actual data 
measurement approach large scale measurement effort efficient scalable terms network resource usage impact system measured able capture behavior system dynamics sufficient detail 
highly decentralized self organizing nature system large number hosts involved transient nature peer membership closed proprietary nature popular systems existence challenging proposition gather information mapping characterizing systems terms network topology generated traffic dynamic behavior 
study adopt passive measurement approach involving offline analysis flow level data gathered multiple routers large tier isp backbone 
measure system levels granularity ip address network prefix autonomous system 
ip level information sen wang analyzing peer peer traffic large networks interesting provides fine grained view load distribution network 
note general may mapping host unique valid ip address dynamically assigned ip addresses network address translation nat forward proxies edge network 
effect analysis results interested characterizing traffic pattern continuous activity hosts single day period analyzing traffic individual hosts days 
ip address maps unique interface subnet edge network ip level analysis useful understanding traffic distribution network perspective 
intermediate level granularity network routing prefix characterizing traffic patterns 
prefixes unit routing ip layer understanding traffic level important isp traffic engineering 
prefix level aggregation grouping ip addresses topologically close network routing viewpoint enables capturing locality characteristics system 
level identify unique public number 
dynamic assignment ip addresses issue prefix level aggregations expect host new ip address fall prefix originating old 
collect router level data cisco netflow services 
netflow enables accumulation traffic flow statistics 
flow defined unidirectional sequence packets particular source destination ip address pair 
source destination ip address pair transport layer application port numbers ip protocol type type service tos input interface identifier uniquely identify flow 
flow netflow maintains record router cache containing number fields including source destination ip addresses source destination bgp routing prefixes source destination ases source destination port numbers protocol type type service flow starting finishing timestamps number bytes number packets transmitted 
bgp prefix information obtained running longest prefix matching ip addresses prefixes router forwarding table entries 
flow expired cache corresponding flow record transmitted udp netflow collector machine storage conditions activity corresponding endpoints certain period time router cache gets filled flow active long periods time default flow expired active minutes 
advantages limitations key advantages passive network wide measurement approach earlier efforts active probing 
approach require knowledge protocol port number information 
clear advantage studying proprietary protocols fasttrack 
far difficult active measurement approach require crawler join network involve intimate knowledge protocol encryption 
caveat application traffic transmitted dynamically changing set ports port identification difficult 
second approach nonintrusive traffic data collected interfering impacting peers 
conduct complete measurements large systems long periods time prohibitively expensive active measurement approach 
result get complete view host distribution traffic patterns 
underlying network viewpoint flow data collection involve additional overheads router cards gather flow level records ship collection server 
usefulness measurements inputs range practical applications performance monitoring traffic engineering capacity provisioning driving isps increasingly deploy measurement infrastructures flow packet monitors networks 
way network engineered handle additional overhead netflow collection 
third approach gathers information signaling traffic actual data download traffic 
systems download large files important able capture characterize actual data traffic 
key distinction prior able profile signaling traffic 
controlling routers data gathered approach conducive determining impact traffic certain regions network total internal traffic total incoming outgoing traffic single isp 
localized analysis capability important desirable instance local traffic engineering provisioning isp 
focus data gathered border routers peering links isp get view inter isp traffic 
flow analysis provides valuable insights traffic characteristics limitations 
data aggregated flow level 
able obtain application level details actual messages exchanged peers specific files requested downloaded 
trend secure communication systems fasttrack encrypts signaling prevent unauthorized clients accessing network problem common third party evaluations systems 
second may capture complete flow traffic 
gathered netflow data backbone tier isp significant fraction border routers conduits traffic flowing tier tier isps 
speculate observed significant portion traffic top tier isps entering leaving target isp systems 
intend periodically conduct analysis data sets gathered routers netflow deployment isp increases 
exercise capture updated view traffic behavior help tracking evolution traffic 
potential issue due asymmetric ip routing may see direction traffic pair hosts 
limitation measurements aims understand traffic pattern impact ieee acm transactions networking vol 
april single isp concerned traffic visible isp 
iii 
characterization metrics goal study characterize system behavior view understanding systems impact underlying network gain insights developing systems superior performance 
interested topology characterization distribution hosts network topology applicationlevel overlay connecting hosts ii traffic characterization distribution traffic volumes transmitted received different hosts iii dynamic behavior characterization theory dynamic nature system distinguishes traditional distributed server systems 
interested characterizing dynamics observed practice frequently hosts join leave system long host stays system active live hosts certain period time metrics study 
shall terms upstream downstream respectively refer direction traffic emanating host traffic coming host 
host distribution compute number unique ip addresses prefixes ases participating system day period weeks spread months 
indicate trends size systems 
comparing measurement results different levels topological granularity infer locality characteristics hosts distribution traffic engineering designing better architectures 
traffic volume systems mainly sharing audio video files software transmitted file sizes larger compared traditional web content size 
better understand traffic patterns measure traffic volume transmitted hosts compute aggregate data transmitted received ip address prefix day 
host connectivity aggregation level ip prefix compute total number unique entities aggregation level communicates transmits data receives data 
resulting distribution characterize connectivity network 
traffic pattern time measure aggregate traffic characteristics time different systems 
know hosts participate system traffic volume transferred hosts time 
measure dividing entire data set small time bins 
bin compute number unique entities ips prefixes ases fig 

binning netflow records 
participating system traffic volume transferred 
possible starting time finishing time single flow fall different bins 
case traffic volume flow divided multiple segments bin traffic volume segment assigned proportion length time flow exists bin 
traffic volume bin aggregate traffic volume flow segments bin 
suppose flows bins flow spans bin bin divided segments traffic volume bin computed fig 
illustrates example compute traffic volume bin 
flows bins flows divided segments 
example flow lasts bins divided segments traffic volume bin summation traffic volume segments connection duration time measure long host stays system 
define connection correspond duration host joining leaving system 
obtain information host connection netflow records approximate starting time finishing time host connection time host starts send receive data time host finishes sending receiving data 
time data transfer host may spread multiple flows 
flows associated host 
loss generality assume say concurrent iff threshold factor 
shall show select appropriate value host connection duration computed longest consecutive period host transferring sending receiving data 
connection host represented set concurrent flows associated 
host may multiple connections time overlap time connections host 
length host connection duration tells long host stays system joins 
time host sen wang analyzing peer peer traffic large networks characterizes long host stay system certain period time 
computed sum connection durations host time period 
note estimation time conservative host communication peers extended times measurement include idle time 
network bandwidth usage perspective estimation meaningful 
mean bandwidth usage characterize transmission bandwidth usage traffic individual hosts system 
characterization enable network administrators understand bandwidth demand hosts running applications impose network 
study measure average bandwidth host consumes joins system 
note estimate average bandwidth may capture traffic host 
separately measure upstream downstream bandwidths host 
upstream downstream bandwidth aggregated average bandwidth host transmits receives data hosts system 
host subscript upstream downstream total time host transmits receives data certain period time 
measure gives lower bound bottleneck bandwidth hosts 
note relevant bandwidth measure distribution maximum bandwidth usage hosts system 
useful example estimating bandwidth demand may imposed system underlying network 
flow level data records aggregate data transmitted flow total flow duration provide information regarding potential short time scale burstiness transmission bandwidths application level 
coarse grain information estimate bandwidth usage host multiple overlapping flows result actual peak 
determining accurate estimates peak bandwidth usage part 
table netflow data set traffic tcp iv 
overview traffic flow records multiple border routers interfaces isp backbone form basis analysis 
system extracted records matched corresponding default application ports source destination involving tcp traffic systems uses udp gnutella fasttrack directconnect 
data collected week month september december 
collected data processed handle corruption loss effects follows 
considered ip addresses ranges invalid ip addresses 
eliminate records source destination invalid ip address source destination ip address match entries router forwarding table number range valid public number ranges 
eliminated total flow records captured 
study noticed timestamps netflow records consistent 
usually due brief time periods clock main router clock 
corrected timestamps clock closest netflow records interfaces main route processor 
additionally eliminated netflow records invalid timestamps 
final dataset consists flow records 
table provides summary statistics data set obtained 
systems fasttrack popular terms number hosts participating system average traffic volume day transferred hosts 
collected netflow records fasttrack september october december respectively 
total unique ip addresses participating fasttrack system day period september average unique ip addresses participating system day 
average number unique ip addresses participating fasttrack system day grows october growth december growth 
september average total data traffic gb day average data traffic contributed individual ip address mb day 
average total data traffic grows rapidly tb day growth october tb day growth december ieee acm transactions networking vol 
april fig 

host density distribution hosts participating systems day axis logscale 
average traffic volume contributed individual ip address remains range mb day months 
indicates rapid growth traffic mainly caused increasing number hosts participating system 
similar trends hold gnutella directconnect 
gnutella second popular system 
number ip addresses participating gnutella total traffic volume transferred gnutella smaller fasttrack average traffic volume contributed individual ip address similar mb day fast track months 
compared fasttrack gnutella directconnect system smaller user base 
collected flow records data gathering week month total ip addresses participate 
average traffic volume contributed individual ip address ranges mb day mb day higher corresponding values fasttrack gnutella 
shall see directconnect hosts tend stay active longer fasttrack gnutella hosts 
higher average bandwidths upstream downstream fasttrack gnutella hosts 
host distribution system compute number unique ips prefixes ases observed day months fig 

number ip addresses participating fasttrack day ranges 
average daily increases slightly september december total number ips participating fasttrack increases 
times gnutella times directconnect 
number unique prefixes fig 

cumulative distribution traffic volume associated ip addresses ranked decreasing order volume september axis logscale 
aggregate traffic observed fasttrack day gb 
participating fasttrack ranges number unique ases ranges 
measure spatial locality hosts define density prefix number unique active ip addresses belonging 
similarly density defined number unique prefixes belonging 
fig 
observe fasttrack hosts distributed densely gnutella directconnect hosts 
due different sizes systems 
average density prefixes fasttrack gnutella directconnect respectively 
average density fasttrack gnutella directconnect similar 
implies fasttrack hosts better potential find nearby peers queries resolved locally network prefix 
potential improvement fast track protocol take advantage hosts location 
traffic volume distribution fig 
plots ranked cumulative distribution function cdf fasttrack network gnutella directconnect show similar trends aggregate upstream denoted src downstream denoted dst traffic volumes different network aggregation levels 
ranked cdf obtained ordering ips prefixes ases order decreasing volume separate ranks upstream downstream volumes plotting cumulative volumes ranked list 
observe extreme skews distributions upstream downstream volumes aggregation grains heavy hitters account traffic 
instance top ips prefixes ases transmit respectively total traffic fasttrack 
top ips prefixes ases transmit total traffic respectively 
individual ip address may transmit gb data single day 
skewed traffic patterns observed months 
fig 
shows distribution upstream traffic volume individual ip addresses networks 
results days weekday weekend day months 
observe top ip addresses account sen wang analyzing peer peer traffic large networks fig 

distribution upstream traffic volume months 
top ips account total traffic volume 
similar patterns observed weekday weekend month 
observe fig 
top ips account slightly smaller percentage total traffic volume december september 
behavior reminiscent client server environment popular servers popular content responsible originating traffic 
suggest search protocol query contents relatively small number heavy hitters queries popular objects queries served searching small number hosts 
may necessary search large number hosts relatively uncommon queries 
equally skew upstream traffic distribution suggest protocols designed spread load evenly set peers system 
similar skewed behavior observed downstream traffic systems 
fasttrack top ip addresses receive substantial gb total traffic top ips ip addresses receive gb total traffic 
large file downloads proxies easily explain high levels incoming traffic heavy hitters 
hosts different bandwidth connectivities accessing system may contribute high variability observed 
skewed distribution fasttrack attributed fact query response traffic circulated small subset hosts supernodes 
gnutella hosts take part signaling observe extreme fig 

cumulative distribution network connectivity ip network prefix pr levels hosts participating fasttrack september 
variation downstream traffic volumes 
skewed traffic distribution upstream downstream prefix level suggests coarse grained traffic management policing mechanisms rate limiting pricing targeted heavy hitter entities useful network traffic engineering provisioning purposes 
host connectivity study application level connectivity hosts consider distribution total number unique entities ip network prefix single entity communicates 
fig 
plots cdf network connectivity ip network prefix aggregation levels fasttrack 
distribution aggregation level shows similar behavior prefix level distribution shown 
find individual ips communicate ip ip addresses 
may due fact fasttrack client connect supernode time 
indicates file swarming widely time experiments conducted 
top ip addresses communicate ip addresses 
distribution skewed network prefix level connectivity 
prefixes communicate prefixes top prefixes talk prefixes 
ases communicate multiple ases top ases communicate ases 
observe hat hosts high connectivity hosts small connectivity networks 
ip level statistics suggest networks highly vulnerable failures tiny percentage hosts high degrees connectivity 
consistent findings studies gnutella signalling traffic :10.1.1.160.7346
find prefix level connectivity distributions skewed ip address level 
suggests coarser grained levels aggregation node vulnerable disconnection network significant percentage prefixes ases communicate prefix 
ieee acm transactions networking vol 
april fig 

distribution number ip addresses traffic volume hours fasttrack september gmt 
traffic volume transferred bin 
number unique ip addresses network prefixes ases active bin 
system dynamics hosts joining leaving potentially system dynamic 
quantitatively measure dynamics terms hosts active certain period time long host stays system active hosts certain period time 
traffic pattern time measure hosts active systems certain time period 
interest isp helps understand pattern traffic network 
characterize traffic pattern discrete time bins 
vary bin size minutes hour compute number unique ip addresses network prefixes ases observed bin corresponding traffic volume transferred 
fig 
shows binning results fasttrack system 
results similar gnutella directconnect reported 
fig 
shows traffic volume hourly bins transferred fasttrack hosts hours september gmt 
observe time day effect traffic volume hour 
traffic volume heavy evening midnight est tapers gradually early morning 
suggests users join network keep downloading data night 
observe peaks hours apart heavy traffic period 
due time difference east west continental fig 
shows time day effect number ip addresses network prefixes ases sending receiving data 
notice fasttrack hosts little activity early morning start active noon 
increasing number active ip addresses late morning appear major impact traffic volumes transferred 
indicate hosts involved signalling communications time heavier data downloads start happen day 
similar observations hold number active network prefixes ases 
fig 

histogram flow inter arrival times ip addresses 
host connection duration time study long ip address stays system 
examine distribution connection duration time day number connections day hosts 
recall section iii computation metrics involves threshold chose value examining distribution flow inter arrival time ip addresses 
flow inter arrival time ip address time interval termination flow initiation flow ip point 
fig 
shows flow inter arrival time distributions systems exhibit similar trends 
note large number short seconds flow inter arrival times 
short flow inter arrival times particularly second intervals result programmed sequential downloading multiple files 
may due single session split multiple flows cisco netflow happen long sessions see section ii 
seconds range prominent spikes seconds 
spikes due time spent users composing submitting new queries network 
part ongoing investigating distribution flow inter arrival times 
sen wang analyzing peer peer traffic large networks fig 

distribution fasttrack hosts connections september 
choice cumulative distribution total time aiy minutes 
cumulative distribution total time ip prefix levels 
cumulative distribution number connections ip prefix levels 
axis logscale 
observation distribution flow interarrival time vary threshold minutes evaluate sensitivity choice identify suitable value fig 
shows distribution total daily time ip address 
observe results vary significantly small values minutes range 
results progressively sensitive large values little difference curves minutes 
minutes compute time number connections average connection duration 
fig 
shows cumulative distribution time fasttrack hosts september 
observe ip addresses network prefixes ases stay fasttrack minutes day 
graphs show system transient prefix aggregation levels 
fig 
shows cumulative distribution number connections day 
number connections host measures frequently joins system 
observe ip addresses join fasttrack 
distribution number connections skewed network prefix levels 
consistent observations distribution connection duration 
connections short 
connections minute 
observation holds ip network prefix levels 
large number short connections may vast majority data transfer events queries responses 
compared distributions time number connections average connection duration hosts systems 
ips keep active fasttrack longer minutes time join system 
hosts tend stay longer directconnect systems 
distribution number connections hosts systems similar 
fasttrack gnutella hosts directconnect hosts tend stay system longer time join system 
may factor contributing earlier observation individual directconnect hosts usually contributes traffic fasttrack gnutella hosts 
mean bandwidth usage hosts fig 
shows cumulative distribution mean upstream denoted src downstream bandwidth denoted dst usage ip address level fasttrack gnutella directconnect 
fasttrack fig 
ip addresses observe mean downstream bandwidths kb 
probably correspond dial internet service users 
ip addresses exhibit downstream bandwidths excess kb suggesting correspond users broadband network connectivity 
average upstream bandwidth usually smaller average downstream bandwidth 
may partly due presence nodes asymmetric bandwidth connectivity case dsl cable modem users 
potential contributing factor behavior individual users ability systems rate limit upstream data transfers machines 
half ip addresses average upstream bandwidth kb 
distribution average bandwidth gnutella hosts similar fasttrack hosts shown 
observe higher bandwidths upstream downstream directconnect hosts fig 

ip addresses mean downstream bandwidth kb ip addresses mean downstream bandwidth kb correspondingly hosts average upstream bandwidth kb may factor contributing earlier observation individual directconnect hosts contributes traffic volume fasttrack gnutella hosts 
vi 
traffic characterization order develop model workload important understand distribution individual metrics interest relationships different metrics 
step developing workload model ieee acm transactions networking vol 
april fig 

cumulative distribution mean upstream downstream bandwidth usage hosts participating fasttrack directconnect september axis logscale 
fasttrack 
directconnect 
traffic explore questions section 
zipf widely model skewed distributions simple form applied research web caching internet topology models :10.1.1.12.2253:10.1.1.37.234
earlier suggests zipf law applies signaling traffic gnutella 
interesting question zipf law suitable modeling traffic including signaling data traffic 
explore question 
second explore relationships different metrics interest 
power law zipf law best described example words book 
vocabulary size occurrence frequency frequent vocabulary word second frequent 
rank frequency plot plot occurrence frequency vocabulary word versus rank log log scales 
rank frequency version zipf law states typically referred zipf law zipf distribution 
log log scales zipf distribution gives straight line slope 
generalized zipf distribution zipf distribution defined slope log log scales different 
generalized zipf distribution referred power law studied metrics host connectivity traffic volume average bandwidth hosts 
fig 
shows rank frequency plot number unique ip addresses ip address contacted 
observe distribution number unique ip addresses heavy tailed 
distribution straight line log log scales expect zipf generalized zipf distribution 
observe clear tilting rank frequency plot 
implies zipf law suitable model host connectivity 
similar observation holds distribution traffic volume contributed ip address time ip address average upstream downstream bandwidths skewed 
focus top hosts source total traffic 
fig 
shows rank frequency plot number unique ip addresses ip address communicates 
observe distribution number unique ip addresses ip address contacts heavytailed 
straight line log log scales 
indicates host connectivity top heavy hitters obey power laws 
similar observation holds distribution traffic volume fig 
time fig 
average upstream downstream bandwidth shown ip address top ip addresses 
observations hold gnutella directconnect 
summary conclude general traffic traffic top heavy hitters heavy tailed data examined precisely zipf distributions 
due fact systems distributed file sharing systems 
heavy tailed behavior suggests isp traffic engineering pricing applied relatively users manage traffic 
best knowledge study showing traffic obey power laws 
analysis required developing accurate models distributions 
addressing part ongoing 
relationships measures explore relationships different metrics interest 
consider fasttrack focus top ip addresses source total traffic volume september compute correlation coefficients pairs metrics see table ii 
note values metric span large range may unevenly distributed range 
addition correlation coefficient original data consider correlation coefficient logarithmic transformation data values limit impact outliers 
coefficient values obtained suggest weak positive correlations traffic volume time traffic volume sourced ip number unique ips connects volume sen wang analyzing peer peer traffic large networks fig 

rank frequency plots metrics fasttrack september host connectivity host connectivity top ip addresses traffic volume top ip addresses time top ip addresses axis axis labeled logscale 
table ii correlations traffic volume time mean bandwidth usage bw number unique ip addresses host connects measured upstream direction bandwidth moderate positive correlation number unique ips time moderate negative correlation mean bandwidth usage number unique ips mean bandwidth usage time 
correlations explained recalling relationship volume bandwidth time 
correlation data indicate existence strong linear relationship metric pairs examined 
provide insight nature pairwise relationships consider corresponding scatter plots figs 

fig 
indicates top ranking volume heavy hitters long times ip addresses short times contribute small traffic volumes 
ip addresses long times span range traffic volumes 
ip addresses small upstream volumes distributed range upstream time values 
long time coupled small traffic volume consistent long lived supernodes handling query communications ip connectivity high 
fig 
shows ip address communicating large number ip addresses transmit small amount traffic 
supernodes exhibit behavior 
shows ip address communicating handful ip addresses source significant traffic consistent actual file transfers 
fig 
shows top ranking volume heavy hitters large bandwidths ip addresses small bandwidths contribute small traffic volumes 
ip addresses long bandwidths distributed range traffic volumes 
similarly ip addresses sourcing small traffic volumes distributed range bandwidth values 
fig 
shows ip addresses large ip connectivity counts tend long times ip addresses short times communicate small number ips 
ip addresses long times distributed range ip connectivity counts 
small ip connectivity long times consistent hosts transferring large data files 
fig 
shows ip addresses high upstream bandwidths low ip connectivity counts 
ip addresses send traffic large number ips tend span range upstream bandwidths ip addresses highest bandwidths suggesting supernodes handling query communications 
fig 
shows ip addresses low upstream bandwidths long times 
ieee acm transactions networking vol 
april fig 

fasttrack data set september top 
ip addresses ranked volume data sent 
scatter plots log log scale upstream volume versus upstream time upstream volume versus number unique upstream ip addresses ip address connects upstream volume versus average upstream bandwidth ip address 
fig 

fasttrack data set september top ip addresses ranked volume data sent 
scatter plots log log scale number unique upstream ip addresses host connects versus total upstream time ip address number unique upstream ip addresses versus average upstream bandwidth average upstream bandwidth versus total upstream time 
may due long time taken download large files corresponding node supernodes large ip connectivity 
shows ip addresses long times tend span range upstream bandwidths 
similarly ip addresses high upstream bandwidths span range upstream times 
scatter plots top ip addresses similar shown 
vii 
traffic versus web traffic part ongoing comparing web traffic 
initial results 
examine flow level traffic large isp peering links march 
web traffic extracted considering tcp flows port numbers source destination ports 
reduce processing overhead stratified sampling technique applied 
considering prefix daily traffic volumes find prefixes contributing traffic contribute web traffic 
addition observe heavy hitter prefixes tend heavy hitters terms web traffic 
say traffic prefix stable percentages daily aggregated traffic volume prefix change days 
factors contribute traffic instability 
traffic prefix may fluctuate time 
second trend growing traffic volume time 
service providers case great interest capture predict 
initial analysis separate effect type changes traffic volume 
characterize analyze traffic volume changes day day 
characterize traffic stability prefix compute range traffic volume changes prefix days normalize mean daily traffic volume prefix 
examine top heavy hitter prefixes responsible corresponding monthly aggregated traffic volume 
show results top heavy hitter prefixes results similar 
fig 
compares traffic web traffic total traffic 
fig 
shows results top prefixes 
traffic prefix traffic volume changes mean daily traffic prefix 
cases web total traffic prefixes traffic volume changes mean daily traffic prefix respectively 
traffic contributed top heavy hitter prefixes stable web traffic total traffic 
somewhat counterintuitive dynamism systems observed ip addresses level discussed previous sections 
stability may sen wang analyzing peer peer traffic large networks fig 

cumulative distribution traffic volume changes top heavy hitter prefixes 
top 
prefixes 
top prefixes 
caused long lasting data transfer flows contribute bulk data 
fig 
shows stability results top prefixes 
note small fraction prefixes traffic volume changes 
indicates traffic contributed top heavy hitter prefixes stable web traffic 
total traffic contributed top heavy hitter prefixes stable web traffic 
traffic top heavy hitter prefixes dominated traffic tends stable 
currently exploring behavior holds longer time periods 
stable traffic load prefix level easier model predict workloads traffic 
high volume stability traffic indicates application specific layer traffic engineering may promising way manage workload isp network 
viii 
implications novel approach measure characterize traffic analyzing flow level data collected multiple routers large isp 
studied popular systems fasttrack gnutella directconnect 
analyzed flow level records months observed systems exhibit significant increases traffic volume number users consecutive months 
analysis covers signaling traffic actual data traffic 
complements previous considered signaling traffic gnutella 
key findings 
traffic volume individual hosts extremely variable ip prefix levels 
traffic volume generated individual hosts extremely variable ip addresses contribute total traffic volume 
individual heavy hitter hosts generate significant traffic volumes 
connectivity different hosts highly skewed large fraction ips communicate ips tiny fraction communicates large number hosts 
ip level statistics suggests networks highly vulnerable failures tiny percentage hosts high degrees connectivity 
host connectivity traffic volume host time average bandwidth highly skewed exhibit heavy tails modeled zipf distribution 
skewed traffic distribution upstream downstream prefix level suggests coarse grained traffic management policing mechanisms rate limiting pricing targeted heavy hitter entities useful network traffic engineering provisioning 
best knowledge study shows traffic strictly obey power laws 
systems exhibit high level system dynamics small fraction hosts persistent long time periods 
behavior challenging proposition realize large system defined structured overlay architecture :10.1.1.111.1818:10.1.1.140.3129:10.1.1.105.3673
find systems exhibit stability persistence prefix aggregation levels 
inserting local indexing caching nodes may help reduce effect dynamism system 
find fraction traffic contributed prefix remains relatively unchanged stable corresponding distribution web traffic traffic time periods days 
somewhat counter intuitive conventional notion systems dynamic 
news isps high volume stability properties traffic coarser aggregations indicate application specific layer traffic engineering may promising way manage workload isp network 
ix 
novel approach measure characterize traffic analyzing flow level data collected multiple routers large isp 
analysis popular systems fasttrack gnutella direct connect months 
part ongoing developing practical workload models traffic evaluate traffic engineering provisioning policies systems 
process enhancing passive measurement approach selective active probing techniques 
acknowledgment authors people efforts helped study possible including gribble grossglauser lund rexford true ieee acm transactions networking vol 
april helpful comments earlier version 
anonymous reviewers suggestions benefited 
ultrapeers step gnutella scalability 
dec 
online 
available rfc gnutella sourceforge net proposals ultrapeer adar huberman free riding gnutella monday vol :10.1.1.12.6173
oct 
krishnamurthy wang network aware clustering web clients proc 
acm sigcomm aug pp 

zhao kubiatowicz joseph tapestry infrastructure fault tolerant wide area location routing univ california berkeley tech :10.1.1.111.1818
rep ucb csd apr 
ratnasamy francis handley karp shenker scalable content addressable network proc :10.1.1.140.3129
acm sigcomm aug pp 

rowstron druschel pastry scalable distributed object location routing large scale peer peer systems proc 
ifip acm int 
conf 
distributed systems platforms middleware nov pp 

stoica morris karger kaashoek balakrishnan chord scalable peer peer lookup service internet applications proc :10.1.1.105.3673
acm sigcomm aug pp 

plaxton rajaraman richa accessing nearby copies replicated objects distributed environment proc 
acm spaa june pp 

li jannotti couto karger morris scalable location service geographic ad hoc routing proc 
acm mobicom aug pp 

bolosky douceur ely theimer feasibility serverless distributed file system deployed existing set desktop pcs proc 
acm sigmetrics santa clara ca pp 

cheriton architecture content routing support internet proc 
usenix symp 
internet technologies systems mar pp 

clarke sandberg wiley hong freenet distributed anonymous information storage retrieval system designing privacy enhancing technologies proc 
int 
workshop design issues anonymity unobservability lncs dec 
kubiatowicz bindel chen eaton geels gummadi rhea weatherspoon weimer wells zhao oceanstore architecture global scale persistent storage proc 
acm asplos nov pp 

bakker globe distribution network proc 
usenix annu 
technical conf san diego ca june pp 

sripanidkulchai popularity gnutella queries implications scalability proc 
reilly peer peer web services conf sept 
morpheus reilly network july 
krishnamurthy wang xie early measurements cluster architecture systems proc 
acm sigcomm internet measurement workshop nov pp 

saroiu gummadi gribble measurement study peer peer file sharing systems proc :10.1.1.160.7346
multimedia computing networking mmcn jan 
gnutella online 
available www com linux unix 
gnutella hosts online 
available www com 
past online 
available www research microsoft com past 
napster online 
available www napster com 
kazaa online 
available www kazaa com 
morpheus online 
available www com 
online 
available www com 
direct connect online 
available www neo modus com 
limewire online 
available www limewire com 
online 
available www com 
feldmann greenberg lund reingold rexford true deriving traffic demands operational ip networks methodology experience ieee acm trans 
networking vol 
pp 
june 
bates 
mar rfc guidelines creation selection registration autonomous system 
online 
available ftp net ietf rfc rfc rfc txt ripeanu foster mapping gnutella network ieee internet computing vol 
pp 
jan 
adamic 
zipf power laws pareto ranking tutorial 
online 
available www parc xerox com istl groups iea papers ranking ranking html 
breslau cao fan phillips shenker web caching zipf distributions evidence implications proc :10.1.1.12.2253
ieee infocom mar pp 

white netflow services applications online 
available www cisco com warp public cc pd ne ct tech wp htm 
faloutsos faloutsos faloutsos power law relationships internet topology proc :10.1.1.37.234
acm sigcomm aug sept pp 

fang peterson inter traffic patterns implications proc 
ieee globecom dec pp 

crovella bestavros self similarity world wide web traffic evidence possible causes ieee trans 
networking vol 
pp 
dec 
barford crovella generating representative web workloads network server performance evaluation proc 
acm sig metrics june pp 

pitkow summary www characterizations world wide web vol 
pp 

arlitt williamson internet web servers workload characterization performance implications ieee trans 
networking vol 
pp 
oct 
subramanian agarwal rexford katz characterizing internet hierarchy multiple vantage points proc 
ieee june pp 

duffield lund thorup charging sampled network usage proc 
acm sigcomm internet measurement workshop nov pp 

wang automated traffic classification application specific peering proc 
acm sigcomm internet measurement workshop nov pp 

jovanovic berman scalability issues large peer peer networks case study gnutella univ cincinnati cincinnati oh tech 
rep 
bergman ben shaul shavit file swapping networks cacheable 
characterizing traffic proc 
th int 
workshop web content caching distribution 
saroiu gummadi dunn gribble levy analysis internet content delivery systems proc 
th symp 
operating systems design implementation pp 

sen received eng 
degree computer science university india ph degrees computer science university massachusetts amherst respectively 
currently member internet networking systems research center labs research florham park nj 
research interests field internet technologies applications including peer peer systems overlay networks multimedia proxy services network traffic measurement characterization network security network anomaly detection 
dr sen member association computing machinery acm 
jia wang received degree computer science state university new york binghamton ph degrees computer science cornell university ithaca ny respectively 
currently member internet networking systems research center labs research florham park nj 
research interests include network measurement routing topology analysis traffic flow measurement overlay networks applications network security anomaly detection web performance content distribution networks internet related research 
dr wang member association computing machinery acm 
