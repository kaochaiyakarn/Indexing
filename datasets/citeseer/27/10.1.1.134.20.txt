ieee acm transactions networking vol 
june internet packet dynamics discuss findings large scale study internet packet dynamics conducted tracing tcp bulk transfers internet sites 
traced kbyte transfer sender receiver measurements allow distinguish toend behaviors due different directions internet paths exhibit asymmetries 
characterize prevalence unusual network events order delivery packet replication discuss robust receiver algorithm estimating bottleneck bandwidth addresses deficiencies discovered techniques packet pair investigate patterns packet loss finding loss events modeled independent furthermore distribution duration loss events exhibits infinite variance analyze variations packet transit delays indicators congestion periods finding congestion periods span wide range time scales 
index terms computer networks computer network performance computer network reliability failure analysis internetworking stability 
internet grows larger measuring characterizing dynamics grows harder 
part problem quickly network changes 
part increasing heterogeneity 
difficult measure plausibly representative cross section behavior 
studies date packet dynamics confined measuring handful internet paths great logistical difficulties larger scale measurement :10.1.1.39.9525:10.1.1.37.1592
consequently hard gauge degree findings representative 
address problem devised measurement framework number sites run special measurement daemons npd facilitate measurement 
framework number internet paths available measurement grows sites yielding attractive scaling 
previously framework sites study routing dynamics internet paths :10.1.1.125.8274
study report large scale experiment study internet packet dynamics 
analysis manuscript received april revised february march approved ieee acm transactions networking editor partridge 
supported director office energy research office computational technology research mathematical information computational sciences division department energy contract de ac sf 
early version appeared proceedings acm sigcomm 
author network research group lawrence berkeley national laboratory university california berkeley berkeley ca usa mail vern aciri org 
publisher item identifier 
necessarily terse due space limitations 
longer version available 
vern paxson ieee measurements tcp bulk transfers conducted npd sites section ii 
tcp fixed rate udp icmp echo packets done reaps significant benefits :10.1.1.39.9525
tcp traffic real world tcp widely today internet 
consequently network path properties derive measurements tcp transfer potentially directly applied tuning tcp performance 
second tcp packet streams allow probing unduly loading network tcp adapts transmission rate current congestion levels 
tcp presents analysis problems 
analyze packet dynamics tcp requires way measure sending receiving times individual packets tcp provide 
record traffic packet filter 
packet filter measurement imperfect particular suffering measurement drops filter fails record traffic 
identify traces errors derive inaccurate packet dynamics loss rates 
address problem developed program understands specifics different tcp implementations study infer packet filter error 
exclude erroneous traces analysis skewed error 
forms basis analysis verifying trace integrity computes statistics concerning network dynamics 
second tcp packets sent wide range time scales milliseconds seconds consecutive packets 
irregular spacing greatly complicates correlational frequency domain analysis stream tcp packets give traditional time series constant rate observations 
consequently attempt sorts analyses hope pursue 
see previous applying frequency domain analysis internet paths 
section iii characterize unusual network behavior order delivery replication packet corruption 
section iv discuss robust algorithm estimating bottleneck bandwidth limits connection maximum rate 
estimation crucial subsequent analysis knowing bottleneck rate lets determine closely spaced tcp data packets network probes necessarily queue timing dynamics correlated 
determine probes correlated turn analysis internet packet loss section delay section vi 
section vii summarize findings challenge commonly held assumptions network behavior 
ieee acm transactions networking vol 
june ii 
measurements gathered measurements npd measurement framework developed discussed :10.1.1.125.8274
sites participated experimental runs 
sites include educational institutes research labs network service providers commercial companies countries 
conducted run december second november december 
differences give indication internet packet dynamics changed course 
discussing differences limit discussion sites participated measurement instructing daemons running sites send receive kbyte tcp bulk transfer trace results tcpdump 
measurements occurred poisson intervals principle results unbiased measurement sampling rate varies :10.1.1.125.8274
mean site sampling interval site randomly paired 
sites typically participated measurements gathered total pairs traces 
sampled pairs sites series grouped measurements varying sampling rate minutes days rates order min 
groups give observations path site pair wide range time scales 
sites typically participated measurements total trace pairs 
addition different sampling rates difference unix socket options assure sending receiving tcp big windows prevent window limitations throttling transfer throughput 
limited measurements total min 
limit leads representation times network conditions poor difficult complete kbyte transfer time 
measurements biased favorable network conditions 
show bias negligible north american sites noticeable european sites 
iii 
network pathologies analysis network behavior consider pathological meaning unusual unexpected outof order delivery packet replication packet corruption 
important recognize pathological behaviors subsequent analysis packet loss delay skewed presence 
example difficult perform sort sound queueing delay analysis presence delivery indicates fifo queueing model network apply 
order delivery internet routers employ fifo queueing time route changes new route offers lower delay old reordering occur :10.1.1.37.1592
recorded packets ends tcp connection detect network reordering follows 
remove analysis trace pairs suffering packet filter errors 
arriving packet check sent packet 
new packet 
count arrival instance network reordering 
example flight packets arrive order sent arrives consider reflect reordered packets 
definition emphasizes late arrivals premature arrivals 
turns counting late arrivals gives somewhat higher numbers counting premature arrivals goal convey rough magnitude reordering difference particularly significant 
observations reordering order delivery fairly prevalent internet 
connections included packet data ack delivered order 
data packets acks arrived order 
data packets doubt reordered acks frequently sent closer due ack policies reordering requires difference transit times 
infer differences reordering reordering course order delivery varies greatly site site 
example fully data packets sent site arrived order higher average 
reordering highly asymmetric 
example data packets sent arrived order 
means sender soundly infer packets sends reordered observations acks receives unfortunate reordering information aid determining optimal duplicate ack threshold tcp fast retransmission see 
site site variation reordering coincides earlier findings concerning route sites :10.1.1.125.8274
study identified sites particularly exhibiting wustl site 
part wustl exhibited route data packets sent arrived order degree reordering 
eliminate wustl analysis proportion data packets delivered order falls factor 
note packets sent reordered times nearly sent data packets sent arrived order long time scales site specific effects completely change 
interpret prevalence order delivery summarized giving representative numbers internet form rule thumb internet paths subject high incidence reordering effect strongly site dependent correlated route 
observed reordering rates high packets arriving single connection 
interestingly see specifics concerning sites mentioned :10.1.1.125.8274
paxson internet packet dynamics fig 

order delivery distinct slopes 
highly reordered connections suffer packet loss needless retransmissions due false signals duplicate acks 
occasionally observed large reordering gaps evidence suggests gaps due route changes different effect 
fig 
shows sequence plot exhibiting massive reordering event 
plot reflects packet arrivals tcp receiver square marks upper sequence number arriving data packet 
packets sent increasing sequence order 
fitting line upper points yields data rate little kbyte true bottleneck rate section iv 
slope packets delivered late just mbyte consistent ethernet bottleneck 
apparently happened router ethernet limited connectivity receiver stopped forwarding packets ms just sequence arrived point processed routing update 
finished arrival began forwarding packets normally arrival rate speed 
queued packets processing update forwarded chance went quickly possible ethernet speed interspersed new arrivals 
observed pattern number times data frequently conclude pathology suggest significant momentary increases networking delay due effects different route changes queueing due router forwarding 
impact reordering order delivery violate assumptions network particular abstraction modeled series fifo queueing servers connections study rarely significant impact tcp performance generally scale reordering just packets 
general way reordering difference determining tcp duplicate ack threshold sender uses infer packet requires retransmission 
network exhibited reordering soon receiver observed packet arriving created sequence hole know expected sequence packet dropped signal sender calling prompt retransmission 
reordering receiver know packet fact dropped may just late 
presently tcp senders retransmit dups arrive value chosen false dups caused delivery lead spurious retransmissions 
value chosen primarily assure threshold conservative 
large scale measurement studies available guide selection threshold 
examine possible ways improve fast retransmit mechanism delaying generation dups better disambiguate packet loss reordering altering threshold improve balance retransmission opportunities versus avoiding unneeded retransmissions 
look packet reordering time scales determine long receiver needs wait disambiguate reordering loss 
look time scales data packet reorderings ack reorderings affect fast retransmission process 
find wide range times order arrival arrival packet sent 
noteworthy artifact distribution presence spikes particular values strongest ms turns due kbit link bottleneck bandwidth user data bytes consequently transmitting byte packet link requires ms data packets size arrive closer reordered 
see reordering associated minimum time quite large 
inspecting distributions find strategy waiting ms identify deliveries 
proportion achieved waiting ms due shorter reordering times presumably due higher bandwidths 
upper distribution large generally modest wait serves disambiguate sequence holes 
look degree false fast retransmit signals due reordering problem 
classify sequence dups bad depending retransmission response necessary unnecessary 
considering refinement fast retransmission mechanism interest lies resulting ratio bad controlled dup ack threshold value consider waiting time observed receiver generating dup advent sequence hole 
current tcp dups values find order magnitude improvement due bigger windows section ii opportunity generating dups 
clearly current scheme works 
improves factor diminishes fast retransmit opportunities significant loss 
gain fast retransmit opportunities improvement generally saving connection expensive timeout retransmission 
cost falls factor 
ieee acm transactions networking vol 
june receiving tcp waited ms generating second dup falls slightly 
unfortunately changing tcp coupled ms delay requires sender receiver modifications increasing problem deploying change 
consider similar change requiring changes sender lower second dup wait ms entering fast retransmission 
change turns virtually identical effects having receiver perform wait 
falls slightly numerous additional fast retransmission opportunities gained 
tempted apply sender side approach lowering 
works diminishing comfortably high value obtain unacceptably low 
note tcp selective acknowledgment sack option provides mechanism improving tcp retransmission 
sack complementary lowering sack focuses determining retransmit 
observed form dup ack series potentially leading unnecessary retransmission mention briefly surprisingly common 
series occurs original ack dups acknowledged outstanding data 
occurs subsequent dups due unnecessary retransmissions arriving receiving tcp round trip time rtt sending tcp sends new data 
sorts series times frequent bad series times rarer series 
occur retransmission periods sender filled sequence holes retransmitting unnecessarily 
sack eliminates series simple heuristic noting outstanding data acknowledged 
packet replication form pathological network behavior packet replication network delivers multiple copies packet 
reordering difficult see replication occur mechanism unnecessary link level retransmissions 
observed instance packet replication pair acks sent arrived times copy coming ms 
observed instances replication single packet largest copies data packet noted network paths substantial minimum reordering times 
today slower rate paths times exceed ms explored 
paths prone reordering expect approach delaying lead significant unnecessary retransmissions poor performance 
problem considerably diminished quite substantial terms time reordering order generate dups falsely trigger fast retransmission 
observed traces part study packets replicated 
problem traced improperly configured bridging device 
arriving short blur receiver 
problem exceedingly rare traces omit analysis 
packet corruption final pathology look packet corruption network delivers receiver imperfect copy original packet 
data packets directly verify checksum packet filter study recorded packet headers payloads 
pure acks acknowledgment packets data payload directly verifies checksum 
consequently includes algorithms infer data packets arrive invalid checksums discussed 
analysis site prone checksum errors 
internet link isdn link appears quite due noise isdn channels 
proportion corrupted packets data sets 
single site strongly dominated suffering corrupted packets sites receiving corrupted packets fast greater internet connectivity corruptions primarily due noisy slow links 
evidence suggests rule thumb proportion internet data packets corrupted transit 
corruption rate packet certainly negligible tcp protects data bit checksum 
consequently average bad packet erroneously accepted receiving tcp resulting undetected data corruption 
rate correct internet packets accepted corruption certainly day 
case argue tcp bit checksum longer adequate goal globally internet corrupted packets accepted tcp implementations 
checksum bits packets accepted corruption 
data checksum error rate packets higher measured directly verifying checksum pure acks 
pure acks corruption acks eliminating acks discrepancy suggests data packets corrupted small pure ack packets artifact corruption occurs 
example may corruption primarily occurs inside routers goes undetected link layer checksum mechanism dma cache inconsistencies manifests packets larger particular size 
gathered bit evidence concerning corruption rates sampling traffic busy fddi ring connecting large university berkeley internet 
january sample packets inconsistent checksum 
november sample packets inconsistent checksum 
problem appears quite real investigation 
paxson internet packet dynamics summary offer definitive answer internet packet corruption rates evidence corruption occurs fairly frequently argues study order resolve question 
iv 
bottleneck bandwidth section discuss estimate fundamental property network connection bottleneck bandwidth sets upper limit quickly network deliver sender data receiver 
bottleneck comes slowest forwarding element chain comprises network path 
crucial distinction bottleneck bandwidth available bandwidth 
gives upper bound fast connection possibly transmit data defined term denotes fast connection transmit preserving network stability 
available bandwidth exceeds bottleneck bandwidth fact smaller section vi 
denote path bottleneck bandwidth measurement analysis important estimate estimate bound interpacket spacing packets sent spacing second packet queue bottleneck transmission delays packets correlated providing independent measurements delay conditions path 
packet carries total bytes bottleneck bandwidth byte define queueing theory perspective simply service time byte packet bottleneck link 
sender transmits byte packets interval second guaranteed wait bottleneck element denote queueing 
discuss terms user data bytes tcp packet payload ease discussion assume constant 
term acks 
measurement analysis accurate assessment critical 
suppose observe sender transmitting packets interval apart 
delays experienced correlated delays correlated due source additional traffic connections processing delays 
need know distinguish measurements necessarily correlated 
skew analysis mixing measurements built delays due queueing bottleneck measurements reflect built delays 
packet pair bottleneck estimation technique previous packet pair :10.1.1.133.3305:10.1.1.17.2405
fundamental idea packets transmitted sender interval arrive bottleneck spread time transmission delay packet bottleneck completing transmission bottleneck spacing exactly barring subsequent delay variations arrive receiver spaced apart compute 
principle bottleneck spacing effect noted jacobson classic congestion turn leads self clocking mechanism 
keshav formally analyzed behavior packet pair network routers obey fair queueing scheduling discipline presently internet developed provably stable flow control scheme packet pair measurements :10.1.1.133.3305
jacobson keshav interested estimating available bottleneck bandwidth variations due queueing primary concern section vi 
goal estimate variations noise deal 
bolot stream packets sent fixed intervals probe internet paths order characterize delay loss 
measured round trip delay udp echo packets analysis applied packet pair technique form estimates bottleneck bandwidths 
agreement known link capacities limitation study measurements confined small number internet paths 
carter crovella investigates utility packet pair internet estimating :10.1.1.17.2405
focuses bprobe tool devised estimating transmitting consecutive icmp echo packets recording interarrival times consecutive replies 
effort developing bprobe concerns filter resulting raw measurements order form solid estimate 
bprobe currently filters widening estimate interval adding error term finding point intervals overlap 
authors undertook calibrate bprobe testing performance number internet paths known bottlenecks 
general works paths exhibited sufficient noise produce erroneous estimates 
limitation studies measurements data sender 
intrinsic limitation techniques study 
studies packets echoed back remote size sent analysis able distinguish bottleneck forward reverse paths 
bottleneck differ directions due asymmetric routing media satellite links significant bandwidth asymmetries depending direction traversed :10.1.1.125.8274
estimating bottleneck bandwidth measuring tcp traffic second problem arises measurements available sender ack compression section vi significantly alter spacing small ack packets return network distorting ieee acm transactions networking vol 
june bandwidth estimate 
investigate degree problem 
analysis consider term packet pair rbpp look pattern data packet arrivals receiver 
assume receiver full timing information available 
particular assume receiver knows packets sent stretched network reject candidates rbpp analysis 
rbpp considerably accurate sender packet pair sbpp eliminates additional noise possible asymmetry return path noise due delays generating acks 
find practice additional noise quite large 
difficulties packet pair shown packet pair techniques provide estimates bottleneck bandwidth :10.1.1.17.2405
find potential problems addition asymmetries noise return path sbpp 
problem addressed fourth fundamental 
order delivery problem stems fact internet paths order packet delivery occurs quite frequently section iii 
clearly packet pairs delivered order completely destroy packet pair technique result leads negative estimate order delivery symptomatic general problem packets pair may take route network violates assumption second queues bottleneck 
limitations due clock resolution problem relates receiver clock resolution meaning minimum difference time clock report 
introduce large margins error estimates example ms bytes packet pair distinguish byte sites study ms technique coping large packet bunch back back packets just 
arrival interval spanned packets times larger spanned single packet pair diminishing uncertainty due changes bottleneck bandwidth problem bottleneck bandwidth estimation deal possibility bottleneck changes course connection 
fig 
shows sequence plot data packets arriving receiver trace happened 
eye immediately picks transition slope just slope corresponds kbit second kbit increase factor 
change due isdn link activating second channel double link bandwidth emphasize bottleneck shifts occur due mechanisms routing changes partial layer failures 
interest isdn particular exhibits fig 

bottleneck bandwidth change 
fig 

enlargement part right half fig 

quirk awareness general problem bottleneck bandwidth change course connection 
multichannel bottleneck links fundamental problem packet pair techniques arises effects multichannel links packet pair yield incorrect overestimates absence delay noise 
fig 
expands portion fig 

slope large linear trend plot corresponds byte kbit noted earlier see line pairs packets 
slope pairs corresponds data rate kbyte trace involved site isdn link hard limit kbit kbyte factor smaller 
clearly estimate kbyte wrong packet pair calculation yield 
happened bottleneck isdn link uses channels operate parallel 
link idle packet arrives goes channel packet arrives shortly goes channel 
queue 
multichannel links violate assumption single forwarding path disastrous results presence form completely misleading overestimates stress problem general circumstances shown example 
example parallelism leading estimation error came single link separate physical channels paxson internet packet dynamics effect come router balances outgoing load different links 
second may tempting dismiss problem correctable packet bunch packet pair 
argument compelling investigation prone error regular bottlenecks fundamentally works parallelism comes channels 
came channels load balancing links yield misleading estimates 
robust bottleneck estimation turn question extend packet pair concept address difficulties mentioned previous section 
term robust procedure developed packet bunch modes pbm 
main observations pbm works deal packet pair shortcomings forming receiver side estimates range packet bunch sizes allowing multiple bottleneck values apparent bottleneck values 
forming estimates receiver yields benefits discussed section iv 
considering range bunch sizes lets accommodate limited resolutions possibility multiple channels load balancing multiple links large bunch sizes 
consider small bunch sizes minimize risk underestimation due noise spacing bunches 
allowing finding multiple bottleneck values lets accommodate multichannel effects possibility bottleneck change 
allowing multiple bottleneck values rules common robust estimator median presupposes 
focus identifying modes local maxima density function distribution estimates 
observe find strong modes connection evidence bottleneck change find strong modes span portion connection packet bunch size bunch sizes evidence channel bottleneck link find situations link exhibits change multichannel link shown fig 

turning observations working algorithm entails great degree detail number heuristics 
examples determining packet arrivals consider limited clock resolution propagating clock uncertainties bandwidth estimates dealing relatively flat modal peaks merging nearby peaks avoiding timing artifacts introduced tcp self clocking delayed acknowledgment deciding bandwidth measurements bunch size trust corresponding estimate numerous 
defer discussion particulars 
note salient aspect pbm forms final estimates terms error bars nominally encompass bottleneck estimate narrower fig 

histogram single bottleneck estimates xp estimates cluster sharply particular value wider limited clock resolution prevents finer bounds 
pbm tries bunch sizes ranging packets 
required limited clock resolution failure find compelling bandwidth estimate quarter traces usually due limited clock resolution tries progressively larger bunch sizes maximum packets 
note pbm specific analyzing tcp traffic 
requires knowing packets sent relative arrived relative size 
applied pbm traces packet filter clock analysis uncover problems 
removing frequently exhibited bottleneck changes multichannel effects pbm detected single bottleneck time failed produce estimate time due excessive noise reordering detected bottleneck change connection inferred multichannel bottleneck connections appear spurious 
single bottlenecks rare defer discussion focus usual case finding single bottleneck 
know priori bottleneck bandwidths paths study :10.1.1.17.2405
fall back self consistency checks order gauge accuracy pbm 
fig 
shows histogram estimates formed estimates similar lower bandwidth estimates common 
arguably identify peaks corresponding known bandwidths kbyte circuit removing overhead possible divisions pairings known bandwidths 
find peak disappears confine analysis north american sites expected europe north america 
offer plausible explanations peaks pbm passes self consistency test turn argues pbm detecting true bottleneck bandwidths 
investigate stability bottleneck bandwidth time 
consider successive estimates sender receiver pair find differ differ factor 
clearly bottlenecks change infrequently 
ieee acm transactions networking vol 
june property bottleneck bandwidth investigate symmetry bottleneck host host bottleneck asymmetries important consideration sender echo measurement techniques observe minimum bottleneck directions :10.1.1.17.2405
receiver algorithm pbm soundly assess bottleneck just direction path 
data sets include connections directions path pbm estimate bottleneck bandwidth direction compare assess symmetry 
assessment imperfect simultaneous measurements direction bottleneck bandwidth path changes infrequently compare connections somewhat separated time 
find pair hosts median estimates directions differ time 
finding agrees observation internet paths exhibit major routing asymmetries :10.1.1.125.8274
bottleneck differences quite large example paths limited direction ethernet limited 
light variations see sender bottleneck measurement yield quite inaccurate results 
efficacy packet pair finish look packet pair performs compared pbm 
confine analysis traces pbm single bottleneck 
restriction introduce bias removing traces know packet pair perform poorly multichannel links 
bias bounded fact traces comprise traces 
packet pair produces estimate lying pbm consider agree pbm 
evaluate rbpp section iv considering pbm limited packet bunch sizes packets larger needed resolve limited clock resolutions 
find rbpp estimates agree pbm 
pbm general clustering filtering algorithms applied packet pair packet pair estimation receiver receiver benefits sender timing information reliably detect order delivery lack bottleneck expansion concerned multichannel effects packet pair viable relatively simple means estimate bottleneck bandwidth 
evaluate sender packet pair sbpp sender measurements 
sbpp considerable interest sender cooperation receiver making easy deploy internet 
fairly evaluate sbpp assume sender number considerations forming sound bandwidth estimates detailed 
find sbpp especially 
data sbpp bottleneck estimate agrees pbm time 
third estimates low reflecting inaccuracies induced excessive delays incurred acks return 
remaining overestimates typically high reflecting ack compression section iv 
packet loss section look measurements tell packet loss internet frequently occurs general patterns section differences loss rates data packets acks section degree loss occurs bursts section tcp retransmission matches genuine loss section 
loss rates fundamental issue measuring packet loss avoid confusing measurement drops genuine losses 
mentioned section addressed concern coding details different tcp implementations study infer measurement drops detecting apparently inconsistent tcp behavior sending acknowledgment data trace arrived 
determine traces suffer measurement drops exclude packet loss analysis avoid significant inaccuracies 
sites common packets lost nearly twice lost 
need address question increase due bigger windows section ii 
bigger windows transfers data flight consequently load router queues 
assess impact bigger windows looking loss rates data packets versus ack packets 
data packets stress forward path smaller ack packets stress reverse path especially acks usually sent half rate data packets due ack packet policies 
hand rate tcp transmits data packets adapts current conditions forward path ack transmission rate adapt conditions reverse path entire flight acks lost causing sender timeout significant correlation loss rates forward reverse directions show section case 
argue ack losses give clearer picture internet loss patterns data losses tell specifically conditions perceived tcp connections 
acks lost data packets figures 
clearly bulk difference loss rates due bigger windows conclude packet loss rates nearly doubled 
refine figures conditioning observing loss connection 
tacit assumption network states quiescent busy distinguish quiescent observe ack loss 
paxson internet packet dynamics table conditional ack loss rates different regions term connection loss free experience lost acks lossy acks lost 
half connections 
lossy connections loss rates jump network busy simplistic definition loss rates quite high shot upward level general seriously impede tcp performance 
geography plays crucial role 
partitioned connections groups europe europe european connections european sender receiver connections europe connections data receivers transmit packets interest acks europe 
similarly connections european data receivers 
table summarizes loss rates different regions conditioning acks lost loss free lossy 
second third columns give proportion connections loss free respectively 
see trans atlantic links going united states proportion loss free connections fairly stable 
loss rate increases primarily due higher loss rates loaded busy periods 
fourth fifth columns give proportion acks lost lossy connections aggregated final column summarizes relative change figures 
lossy loss rates especially trends increasing 
loss rate going europe particularly 
regions find considerable site site variation loss rates variation loss rates packets inbound site outbound section 
find sites seriously skewed figures 
analyze loss rates course day omitted due limited space 
find expected diurnal pattern busy periods corresponding working hours quiescent periods late night early morning hours 
find successful measurements involving european sites exhibit definite bias oversampling quiescent periods due effects discussed section ii 
consequently european loss rates underestimates 
data packet loss versus ack loss turn evaluating patterns packet loss differ data packets carrying user data ack packets 
key distinction queued fig 

xp loss rates data packets acks 
data packets 
queued data packet presumably queue bottleneck link connection previous packets data packet know queue bottleneck predecessor 
distinguish computing packet waiting time follows 
suppose methodology section iv estimates bottleneck bandwidth provides bounds estimate minimum value maximum determine maximum amount time required byte packet transit bottleneck simply lower bound time sender transmits th data packet 
associate maximum waiting time packet assume simplicity constant 
packet waiting time subsequent packets waiting time reflects maximum amount extra delay th packet incurs due transmission time bottleneck link plus time required transmit preceding packets bottleneck link arrive bottleneck completed transmission 
queueing theory terms reflects th packet maximum waiting time bottleneck queue absence competing traffic exogenous sources 
term packet queued meaning wait pending transmission earlier packets 
term develop central estimates maximum estimates chain reasoning 
values section iv 
terminology data packets queued 
fig 
shows distributions loss rates data packets queued data packets acks 
distributions show considerable probability zero loss 
see queued packets lost packets expect 
addition acks consistently ieee acm transactions networking vol 
june packets lost generally lost queued packets times severe loss 
interpret difference ack data loss rates reflecting fact ack stream presents lighter load network data packet stream ack stream adapt current network conditions forwarding path data packet stream lowering transmission rate attempt diminish loss rate 
interesting note extremes packet loss reach 
largest data packet loss rate observed 
queued packets climbed acks 
expect connections suffered 
manage successfully complete transfers min testimony tcp 
extremes packets lost reverse direction 
clearly packet loss forward reverse paths completely independent 
coefficient correlation combined queued data packet loss rates ack loss rates loss rates appear uncorrelated coefficient due greater prevalence routing asymmetry 
final puzzle nonzero portions queued data packet loss rates agree closely exponential distributions distribution acks persuasive match 
better fit data loss rates reflects fact sender transmits data packets rate adapts current network conditions observing data packet loss 
difference highlights passively measure loss rate observing fate connection tcp data packets fact making measurements mechanism goal lower value measuring spacing measurements 
consequently need take care distinguish measuring internet packet loss rates best done nonadaptive sampling versus measuring loss rates experienced transport connection packets quite different 
loss bursts section look degree packet loss occurs bursts consecutive loss 
question address degree packet losses modeled independent 
bolot investigated question comparing unconditional loss probability conditional loss probability conditioned fact previous packet lost 
investigated relationship different packet spacings ranging ms approaches increases indicating loss correlations short lived concluded losses probe packets essentially random long probe traffic uses available capacity connection probes sent path analyzed included heavily loaded trans atlantic link patterns observed typical 
table ii unconditional conditional loss rates fig 

distribution packet loss outage durations exceeding ms table ii summarizes different types packets data sets 
clearly tcp packet loss events modeled independent 
low burden relatively low rate ack packets loss probability jumps factor previous ack lost 
expect find disparity strongest queued data packets contend buffer connection previous packets additional traffic case 
find effect strong data packets accords having contend connection previous packets having rate diminished face previous loss 
relative differences table ii exceed computed bolot large factor 
greatest observed ratio 
higher table ii ms suggesting path measured differed considerably typical path study 
packet losses occur bursts natural question big 
address question group successive packet losses outages 
fig 
shows distribution outage durations lasting ms majority 
see distributions agree fairly closely 
clear fig 
outage durations span orders magnitude 
example ack outages ms shorter shown plot longer factor larger 
furthermore upper tails distributions consistent pareto distributions 
fig 
shows complementary distribution plot duration ack outages lasting outages 
axes log scaled 
interesting queued packets unconditionally lost packets 
suspect reflects fact lengthy periods heavy loss outages lead timeout retransmissions 
note statistics differ distributions shown fig 
connection loss rates table ii summarizes loss probabilities packets data set 
paxson internet packet dynamics fig 

log log complementary distribution plot xp ack outage durations 
straight line plot corresponds pareto distribution 
added squares fit 
see long outages fit quite pareto distribution shape parameter extreme upper tail subject truncation limit connection durations section ii 
shape parameter means distribution infinite variance indicating immense variability 
pareto distributions activity inactivity periods play key roles models self similar network traffic suggesting packet loss outages contribute tcp network traffic fit self similarity models 
note patterns loss bursts observe greatly shaped drop tail queueing 
particular deployment random early detection red significantly affect patterns corresponding connection dynamics :10.1.1.128.5092
efficacy tcp retransmission final aspect packet loss investigate efficiently tcp deals 
ideally tcp retransmits retransmitted data lost 
transmitting tcp lacks perfect information consequently retransmit unnecessarily 
analyzed tcp transmission measurements determine redundant retransmission rr meaning data sent arrived receiver flight successfully arrive 
identified tcp implementation suffering significant errors computing rto implementations exhibit 
removed corresponding traces analysis section tcp generated abnormally large number rr classify types rr unavoidable acks data lost coarse feedback meaning earlier acks conveyed finer information sequence holes provided sack retransmission avoided bad rto meaning tcp simply waited longer received ack data bad retransmission timeout 
table iii proportion rr due different causes type rr xi xp packets 
unavoidable coarse feed 
bad rto traces connections sender receiver unambiguously determine retransmission acks arrived subsequently arrive sender readily detect rr classify type 
table iii summarizes prevalence different types rr see fair proportion rr unavoidable 
avoided receiving tcp generated acks 
rr unavoidable difference doubt due bigger windows section ii increasing mean number acks flight 
coarse feedback rr presumably fixed sack see sack provides major benefit improving tcp retransmission 
bad rto rr indicate tcp computation retransmission timeout erroneous 
bad rto rr rare providing solid evidence standard tcp rto estimation algorithm developed performs quite avoiding rr separate question rto estimation overly conservative 
thorough investigation question complex revised estimator take advantage higher resolution clocks opportunity time multiple packets flight 
leave interesting question 
summary ensuring standard conformant rto calculations deploying sack option eliminate virtually avoidable redundant retransmissions 
remaining rr rare serious performance problems 
aspects tcp retransmission investigate patterns packet loss fast recovery sequences 
known problems tcp loss recovery multiple packets lost single flight recovery stall retransmission timeout occurs seriously diminishing throughput retransmitted packet lost connection incur timeout 
problems recognized quite extensive data available order gauge degree difficulties internet connections 
analyzed measurements provide data 
packets retransmitted fast recovery lost packets lost 
proportions quite close unconditional loss rates examined section lower conditional loss rates examined section indicating congestion drains time scales rtt conclude concern suffering ieee acm transactions networking vol 
june timeout due lost retransmitted packet practice especially serious problem 
time packet lost flight prior fast recovery time packets lost 
proportions high give solid support refining fast recovery mechanism cope multiple losses adding sack note section deployment red may significantly alter proportions 
vi 
packet delay final aspect internet packet dynamics analyze packet delay 
focus network dynamics transport protocol dynamics 
consequently confine analysis variations way transit times ott omit discussion rtt variation rtt measurements conflate delays forward reverse paths 
reasons noted section attempt analysis packet delay 
summarize marginal distribution packet delays 
mukherjee packet delay particular internet path modeled shifted gamma distribution parameters distribution vary path path course day 
distinct paths study measured hours day gamma distribution varies considerably parameters varied difficult see summarize delay distributions useful fashion 
hope revisit problem 
accurate assessment delay deal issue clock accuracy 
problem particularly pronounced measuring ott doing involves comparing measurements separate clocks 
accordingly developed robust algorithms detecting clock adjustments relative skew inspecting sets ott measurements 
analysis section assumes algorithms reject adjust traces clock errors 
ott variation previously analyzed claffy colleagues study internet paths :10.1.1.39.9525
mean ott approximated dividing rtt half variations paths ott asymmetric 
measurements confirm finding 
compute interquartile range th percentile minus th ott connection data packets versus acks coming back coefficient correlation drops 
timing compression packet timing compression occurs flight packets sent interval arrives receiver interval order compression occur main mechanism network altering spacing packets queueing general expands flights packets cf 
section iv 
compression occur flight packets point held network transmission packet stalls packets time catch 
zhang predicted theory simulation acks compressed ack compression flight arrived router intervening packets cross traffic router queue draining 
mogul subsequently analyzed trace internet traffic confirmed presence ack compression :10.1.1.37.1592
definition ack compression somewhat complex infer endpoint behavior observation point inside network 
compute data directly evaluate presence compression 
compression correlated packet loss considerably rare 
study limited single traffic trace 
ack compression simple metric detecting ack compression compute indicates packets arrived timing compressed 
need take account uncertainties due limited resolution clocks measure 
receiver sender clock resolutions discussion 
actual sending spacing bounded similarly receiving spacing 
actual degree compression ranges conservative concluding set packets compressed timing range 
detect ack compression group acks compute generally acks traces generated data packet included acks sent frequently duplicate acks 
consider group compressed term group compression event 
connections experienced compression event 
mean number events connections experienced 
compression events small spanning acks 
significant minority compression events occurred dup acks 
sent spacing regular acks sent ack policies takes timing perturbation compress 
ack compression frequent problems 
acks arrive advance tcp sliding window clock new data packets rate reflected arrival 
compressed acks means data packets go faster previously result network stress 
second sender measurement techniques sbpp section iv misinterpret compressed acks reflecting greater bandwidth truly available 
find ack compression relatively rare small paxson internet packet dynamics fig 

data packet timing compression 
magnitude problem serious second dealt judiciously removing upper extremes sender measurements 
data packet timing compression data packet timing compression concerns different 
flight data packets sent high rate due sudden advance receiver offered window 
normally flights spread bottleneck arrive receiver distance packet section iv 
bottleneck timing compressed detect fact compressed greater degree sending rate 
fig 
illustrates concern flights data packets arrived receiver kbyte rate central flight arrived ethernet speed 
sent ethernet speed consequently consider group data packets compressed arrive greater twice upper bound estimated bottleneck bandwidth consider groups data packets coupled ack policies potential elicit pair acks reflecting compressed timing leading bogus self clocking 
compression events rarer ack compression occurring traces interested paths plagued repeated compression events due peculiar router architectures network dynamics 
traces event just suggesting phenomena rare 
connections multiple events dominated host pairs indicating phenomenon occur repeatedly due specific routers 
queueing time scales section briefly develop rough estimate time scales queueing occurs 
take care eliminate suspect clocks reordered packets compressed timing traces exhibiting ttl shifts indicate routing argued occasional ack compression beneficial provides opportunity self clocking discover newly available bandwidth 
fig 

proportion normalized connections timescale maximum delay variation ax changes argue remaining measured ott variation reflects queueing delays 
compute queueing variation time scale follows 
partition packets sent tcp intervals length interval number successfully arriving packets left right halves interval 
zero vice versa reject interval containing measurements imbalance halves 
median ott halves 
define interval queueing variation median intervals 
reflects average variation observe packet delays time scale medians estimate robust presence noise due effects queueing spikes 
dividing intervals comparing variation halves confine variations time scale shorter longer lived variations general included 
analyze different values confining variations ack ott queueing bottleneck adaptive transmission rate effects 
question particular queueing variation occurs 
hope engineer time scales 
example dominant connection rtt pointless connection try adapt queueing fluctuations acquire feedback quickly 
connection range ms find value greatest 
reflects time scale connection experienced greatest ott variation 
fig 
shows normalized proportion connections exhibiting different values normalization done dividing number connections exhibited number durations long data sets time scales ms primarily dominate 
range spans order magnitude exceeds typical rtt values 
furthermore prevalent values way remain common having strong peak due periodic outages caused router synchronization eliminated 
ieee acm transactions networking vol 
june summarize indicating internet delay variations occur primarily time scales extend quite frequently larger times 
available bandwidth aspect delay variation look interpretation reflects available bandwidth 
section developed notion data packet waiting time meaning total delay incurs due queueing bottleneck predecessors time required transmission bottleneck 
simplicity assume data packet discussion extended case variable packet requires time transit bottleneck variations ott include reflect expected additional delay packet experience queue predecessors bottleneck 
denote difference packet measured ott minimum observed ott 
assumptions section vi interpret queueing delays 
reflecting network path completely unloaded connection load competing traffic measured extra delay expected extra delay due predecessors 
generally define queueing reflects proportion packet delay due connection loading network 
situation approximating delay variation due connection queueing load network 
hand delays experienced packet higher simply due transmission times bottleneck queueing predecessors 
case connection load insignificant compared traffic network 
similarly say reflects resources consumed connection reflects resources consumed competing connections 
captures proportion total resources consumed connection interpret reflecting available bandwidth 
values close mean entire bottleneck bandwidth available values close zero mean available 
note connection consume network path capacity 
required degree connection attempt fig 

density cumulative distribution xp inferred available bandwidth 
consume network resources readily available 
observation provides basis hoping able estimate available bandwidth fully stressing network path available bandwidth estimation techniques 
fully evaluating possibility remains 
roughly gauge truly reflects available bandwidth computing coefficient correlation connection throughput normalized dividing bottleneck bandwidth 
rises 
fig 
shows density cumulative distribution find internet connections encounter broad range available bandwidth 
generally case internet characteristics single situation 
note example confining evaluation european connections results sharp leftward shift density indicating generally available bandwidth connections density shifts right 
furthermore paths higher bottleneck bandwidths generally find lower values reflecting paths tend shared competing connections 
note predictive power tends fairly 
average observation observations path time periods hours 
depressed density reflects measurement bias 
paxson internet packet dynamics vii 
analyzed packet traces tcp connections internet sites attempt characterize spectrum packet dynamics observed internet paths 
analysis pathological network behavior packet reordering surprisingly common kbyte connections data set experiencing reordered packet 
reordering varies considerably site site occurs groups large dozens packets usually involves packets correlated routing fluctuations 
timing differences leading reordering tcp fast retransmission threshold safely lowered duplicate acks introducing ms wait retransmitting increasing fast retransmission opportunities 
assessment bottleneck bandwidth uncovered difficulties common packet pair approach delivery limited clock resolution bottleneck bandwidth changes 
sketched robust estimator packet bunch modes pbm address difficulties receiver packet pair estimation works agreeing pbm time sender packet pair agrees time 
packet loss rates nearly doubled course increase coming larger loss rates busy periods longer busy periods 
considerable geographic differences loss rates european especially trans atlantic paths having higher rates loss rates forward reverse directions network path show little correlation 
loss patterns data packets differ significantly acks appears due fact rate data packets sent adapts current network conditions attempt diminish experienced loss rate rate ack packets adapts 
loss modeled independent likelihood packet lost increasing order magnitude predecessor lost 
sustained loss outages heavy tailed durations pareto shape parameter indicating infinite variance contribute finding self similar traffic behavior 
find correctly implemented tcp retransmission algorithms perform terms avoiding unnecessary retransmissions coupled sack 
analysis packet delay connections experienced timing compression event events tend isolated small magnitude impact minor 
preliminary assessment delay variation time scales finding variations occur primarily time scales infrequently extend larger time scales 
assessment available bandwidth conducted terms gauging degree connection load path compared total load path finding ratio varied fairly evenly way connection load insignificant connection load entire load path 
study implications measurement considerations 
due remove packet filter errors measurement provides viable means assessing packet dynamics 
find wide ranges behavior exercise great caution regarding aspect packet dynamics typical common assumptions order packet delivery fifo bottleneck queueing independent loss events single congestion time scales path symmetries violated frequently 
combination path asymmetries noise render sender measurement techniques markedly inferior include 
point argues measurement interest concerns unidirectional path measurement adaptive transport techniques tcp vegas general internet performance metrics development effort extra complications incurred coordinating sender receiver yield significant benefits 
acknowledgment possible efforts volunteers installed network probe daemon npd sites 
author indebted 
bolot bostic 
braun brown bush claffy crowcroft danzig eliot gerla ghosh grunwald hagen hannan tr hein jackson karp lance leres mccanne mueller nemeth obraczka penny schmidt schwartz walton wells wright wroclawski young zhang 
author indebted bostic nemeth stevens varghese invaluable help recruiting npd sites 
author extends gratitude danzig mogul schwartz feedback design npd rizzo stimulating discussions concerning lowering duplicate ack threshold fast retransmission 
greatly benefitted discussions ferrari floyd jacobson luby rice comments anonymous referees 
author expresses 

bolot packet delay loss behavior internet proc 
pp 

brakmo malley peterson tcp vegas new techniques congestion detection avoidance proc 
pp 

ieee acm transactions networking vol 
june carter crovella measuring bottleneck link speed networks comput :10.1.1.17.2405
sci 
dept boston univ boston ma tech 
rep bu cs mar 
dynamic server selection bandwidth probing widearea networks tech 
rep bu cs comput 
sci 
dept boston univ boston ma mar 
claffy polyzos :10.1.1.39.9525
braun measurement considerations assessing unidirectional latencies internetworking res 
experience vol 
pp 
sept 
miller travis tcp extensions space communications proc 
mobicom pp 

fall floyd simulation comparisons tahoe reno sack tcp comput 
commun 
rev vol 
pp 
july 
floyd jacobson random early detection gateways congestion avoidance ieee acm trans :10.1.1.128.5092
networking vol 
pp 
aug 
synchronization periodic routing messages ieee acm trans 
networking vol 
pp 
apr 
hoe improving start behavior congestion control scheme tcp proc 
pp 

jacobson congestion avoidance control proc 
pp 

jacobson leres mccanne 

tcpdump 
online 
available ftp ee lbl gov keshav control theoretic approach flow control proc :10.1.1.133.3305
pp 

mathis mahdavi forward acknowledgment refining tcp congestion control proc 

diagnosing internet congestion transport layer performance tool proc 
inet 
mathis mahdavi floyd romanow tcp selective acknowledgment options rfc oct 
mogul observing tcp dynamics real networks proc :10.1.1.37.1592
pp 

mukherjee dynamics significance low frequency components internet load internetworking res 
experience vol 
pp 
dec 
partridge private communication 
paxson routing behavior internet ieee acm trans :10.1.1.125.8274
networking vol 
pp 
oct 
automated packet trace analysis tcp implementations proc 
pp 

measurements analysis internet dynamics univ california berkeley ca ph dissertation apr 
calibrating measurements packet transit times proc 
sigmetrics pp 

paxson mahdavi mathis framework ip performance metrics rfc may 
thompson miller wilder wide area internet traffic patterns characteristics ieee network vol 
pp 
nov dec 
willinger taqqu sherman wilson self similarity high variability statistical analysis ethernet lan traffic source level ieee acm trans 
networking vol 
pp 
feb 
zhang shenker clark observations dynamics congestion control algorithm effects way traffic proc 
pp 

vern paxson received ph degrees computer science university california berkeley 
senior scientist center internet research international computer science institute berkeley ca 
staff scientist lawrence berkeley national laboratory berkeley ca 
research efforts focus internet measurement network intrusion detection 
