properties center surround retinex part signal processing design ur rahman science technology research drive hampton va version edwin land retinex model human vision lightness color constancy implemented 
previous research established mathematical foundations land retinex examined specific design issues effects properties retinex operation 
describe signal processing design retinex 
find placement logarithmic function important produces best results placed surround formation 
find best rendition obtained canonical gain offset applied retinex operation 

visual tasks accomplished gracefully human vision fundamental machine vision applications lightness color constancy 
completely satisfactory definition lacking lightness color constancy refer human perception resilience wide ranging intensity spectral illumination variations scene scene large extent scene 
various theories proposed common mathematical foundation version edwin land retinex captured attention ease implementation manipulation key variables unnatural requirements scene calibration 
likewise simplicity computation appealing initial experiments produced compelling results 
version retinex subject previous digital simulations limited lengthy computer time involved implemented analog vlsi achieve real time computation evidence retinex version optimal solution lightness problem come experiments posing land mondrian target randomly arranged dimensional gray patches problem linear optimization learning problem back propagated artificial neural networks utility lightness color constancy algorithm machine vision simultaneous accomplishment dynamic range compression color independence spectral distribution scene illuminant color lightness rendition 
land center surround retinex demonstrably achieves land emphasized primarily color constancy properties 
known difficulties arise color lightness rendition consist lightness color halo artifacts especially prominent large uniform regions abut form high contrast edge large uniform zones image global violations gray world assumption red scene result global image 
clearly retinex human vision functions best highly diverse scenes poorest impoverished scenes 
analogous systems simultaneous equations unique solution exists independent equations 
general form center surround retinex fig 
similar difference gaussian dog function widely natural vision science model receptive fields individual neurons perceptual processes 
extensions required greatly enlarge weaken surround gaussian determined space amplitude constants include logarithmic function subtractive inhibition shunting inhibition arithmetic division 
chosen gaussian surround form land opted function moore different exponential form 
compared section 
mathematically takes form log gamma log image distribution ith color spectral band denotes convolution operation surround function associated retinex output 
equivalently log gamma log gamma ae delta ae ae ae fourier transforms gamma denotes inverse fourier transform 
operation performed spectral band produce land triplet values specifying color lightness 
readily apparent color constancy independence single source illuminant spectral distribution reasonably complete pixels space constant pixels spatial form center surround retinex operator 
representation distorted visualize surround 
cross section illustrate wide weak surround 
spatial distribution source illumination distribution scene reflectances log bars denote spatially weighted average value 
long log approximate relation equality cases cases strictly true reflectance ratio dominate illumination variations 
demonstrated fig 
extreme cases blue illumination direct sunlight illumination 
actual daylight illumination fall arbitrarily cases 
film electronic cameras computational intervention film selection produce top row images 
dynamic range compression readily demonstrated fig 
right computer simulation 
original image data multiplied hyperbolic tangent shadow 
cameras computation produce upper result change exposure bring shadowed detail expense saturating non shadowed image zones 
strikingly color balance retained wide dynamic range encompassed highly nonlinear operation retinex 
result especially provocative djj participated studies viking lander images 
experience mars surface color underlined importance linear systems methods color balance easily dramatically distorted nonlinearities employed inappropriately 
color rendition nonlinear methods oil water 
case color balance achieved automatically nonlinear operation 
examples point difficulty realizing satisfactory color rendition contrast ease achieving color constancy dynamic range compression 
taken discussion indicates exciting possibilities motivated engage extensive investigation 
need dynamic range compression color constancy especially accomplished simultaneously simple real time algorithm known photographers 
discrepancies photographer perception captured film image quite bizarre fig 
require constant vigilance avoid impossible lighting situations carefully select appropriate film processing illuminant spectral distribution 
fundamental limit recognized film crt narrow dynamic range static demonstration retinex color constancy dynamic range compression prior optimizing rendition small space constant space constant pixels 
spectral response 
print display dynamic range constraints compatible magnitude scene reflectance variations 
extreme cases snow reflectance variations 
extremes reflectance easily spanned print display media 
clearly illumination variations culprit human visual perception overcome eye brain computation 
electronic video cameras intrinsically high dynamic range 
set detector array electronics higher dynamic range detector array proper limiting factor usually noise added transferring image signals chip digitization noise added subsequently 
electronic cameras conclude sufficient dynamic range available retain full variations illumination reflectance arbitrary scenes 
certainly reasonable consider analog implementations compression constancy digital implementation initial conversion done bits usual bits 
advances high speed computing led reconsider extensive digital simulations retinex real time digital implementations practical electronic camera systems 
hours computer time previously reported reduced minutes realtime implementations specialized digital hardware digital signal processing dsp chips reasonable 
words full image dynamic range available current electronic cameras real time computation realizable ultimate bottleneck print display 
obviously image coding aspects dynamic range compression color constancy 
concentrate design algorithm produce combined dynamic range compression color constancy color lightness rendition 
seen center surround retinex color constant capable high degree dynamic range compression 
remains specify implementation produces satisfactory rendition examine alternatives determine design options equally better 
retinex exchanges illumination variations scene reflectance context dependency scene content major issue especially deviates gray average values gray world assumption testing diverse scenes including random ones important pinpoint possible limits generality retinex 
initial image processing simulations revealed unresolved implementation issues placement log function functional form surround space constant examples serious photographic defects due spectral spatial illumination variations 
green kitchen due fluorescent illumination 
sodium vapor illumination 
indoors daylight outdoors 
obscured foreground 
surround treatment retinex triplets prior display 
explored comprehensively 
results testing optimized algorithm diverse scenes special emphasis gray world violations 
relationship algorithm neurophysiology examined briefly 

signal processing issues placement log function previous research largely concluded logarithm taken formation surround 
processing schemes adhering closely natural vision science approximate log response favor placing log response stage prior surround formation 
preliminary testing produced disappointing results prompted reopen seemingly decided issue 
initial testing produced encouraging results emphatic artifacts 
mathematically log gamma log log gamma log equivalent 
discrete convolution log fact equivalent weighted product second term eq 
weighted sum 
closely related difference mean geometric mean selected zz dxdy produce exactly nth root numbers geometric mean 
entire purpose log operation produce point point ratio large regional mean value eq 
desired form image processing experiments bear preference 
typical example shown fig 

halo artifact eq 
diminished manipulation gain offset results significant color 
examples severe color distortions occur likewise removed manipulation gain offset 
addition shadow simulation indicates dynamic range compression eq 

selected eq 
form testing optimization 
form land original presentation quoted feeling forms equally useful practice treatment retinex output prior display initial experiments surprised find characteristic form histograms diverse scenes retinex operation fig 

exceptions severe violations gray world assumption red scene 
violations explored subsequent section examine natural image reasonable scene diversity 
land proposal center surround retinex explicitly address issue final treatment possible implication necessary 
hand moore advocates automatic gain offset approach triplet retinex values adjusted absolute maximum minimum values color bands 
empirically derived approach fig 
differs single gain offset selected clips highest lowest signal transitions 
little information lost retinex output signals form large degree contrast image essence ratio 
approach agrees moore final gain offset uniformly applied pixels color bands 
comparison approaches illustrated fig 
underline considerable visual differences encountered 
speculate significant deviations characteristic histogram occur gross violations grey world assumption detect errors 
single gain offset invariant image image sense may fact canonical satisfies original intent land produce general computation applies images 
specific implementation defined preliminary testing center surround operation characteristics 
logarithm applied surround formation dimensional spatial convolution 

canonical gain offset applied retinex output signal terms clips highest lowest signal excursions 
demonstration improved rendition obtained applying log response surround formation 
max frequency occurrence total pixels signal distribution zero lower clipping upper clipping xy xy final display levels schematic characteristic retinex histogram illustrating final gain offset selection applied uniformly color sub images 
companion additional components design defined 
form surround gaussian 

spatial extent surround gaussian space constant pixels corresponds fwhm spread pixels 
implementation differs previous ones land proposed inverse square surround moore concentrated placement log prior surround formation considered placement interchangeable 
moore specified automatic gain offset process canonical 
differences shown result significant visual effects processed images 
comparison visual performance auto gain offset versus canonical gain offset 
auto gain offset selected absolute maximum minimum values color bands applied uniformly global operation 
canonical gain offset accepts clipping extreme high low values provides superior rendition minimal loss visual information 

formal connections lightness algorithms journal optical society america vol 
pp 


land alternative technique computation designator retinex theory color vision proc 
nat 
acad 
sci vol 
pp 


moore allman goodman real time neural system color constancy ieee transactions neural networks vol 
pp 
march 

moore fox allman goodman vlsi neural network color constancy advances neural information processing touretzky lippman eds pp 
san mateo ca morgan kaufmann 

poggio synthesizing color algorithm examples science vol 
pp 


computation color 
phd thesis massachusetts institute technology september 

huck park wall patterson benton color estimates viking lander sites geo 
res vol 
pp 


bowker davis jones spectral reflectances natural targets remote sensing studies nasa publication june 

dyck design fabrication performance ccd vlsi electronics science ed vol 
pp 
orlando fl academic press 

mead analog vlsi neural systems 
reading ma addison wesley 

properties center surround retinex part surround design nasa technical memorandum 

