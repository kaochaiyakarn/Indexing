vision localization behavior planning autonomous quadruped legged robot manuela veloso winner scott lenser james bruce tucker balch school computer science carnegie mellon university pittsburgh pa cs cmu edu planning actions real robots dynamic uncertain environments challenging problem 
complete model world viable integration deliberation behavior reactive planning appropriate goal achievement uncertainty handling 
reports successful development system integrating perception planning action sony quadruped legged robots 
consider robotic soccer task sony provided robots specifically robocup robotic soccer competitions 
quadruped legged robots fully autonomous onboard vision localization agent behavior 
briefly perception algorithm automated color classification tracks colored blobs real time 
briefly introduce sensor resetting localization srl algorithm extension monte carlo localization 
vision localization provide state input action selection 
addressing planning challenge created robust sensible behavior scheme robot effectively handles dynamic changes accuracy perceived information 
developed utility system localization information 
devised special built plans deal times urgent action needed robot afford collecting accurate perception information 
results real robots demonstrating success algorithms 
team sony quadruped legged robots won games robocup awarded third place competition 
robots research generously provided sony fujita applied specific domain robotic soccer 
robots commercial aibo robots available slightly different hardware programmable 
robot consists designed look small dog 
robot approximately cm long cm tall including head 
neck legs degrees freedom 
neck pan ffi side allowing robot scan field markers 
shows picture dog pushing ball 
sony quadruped robot dog ball 
teams robocup legged robot league hardware platform 
robots autonomous onboard cameras 
onboard processor provides image processing localization control 
robots remotely controlled way communication possible multi robot system 
state information available decision making comes robot onboard colored vision camera sensors report state robot body 
soccer game consists minute halves begun 
ball placed center field team may position robots side field 
team consists robots 
team year veloso uther robocup teams addressed multi robot aspect domain assigning different behaviors robots attackers 
communication available robots see color 
robot identity extracted 
robot behaviors capture team aspect domain different roles 
acting world robots playing field cm length cm width 
goals centered field cm wide cm tall 
unique colored landmarks placed edges field corner side halfway line help robots localize field 
shows sketch playing field 
robot team blue robot team red ball orange light blue light blue pink goal light blue goal yellow green green pink pink pink pink pink yellow yellow field green playing field robocup sony legged robot league 
address challenges building complete autonomous robots perform active perception sensor planning 
robots perceive world vision decisions achieve goals act moving world 
report main components system integrating sensing perception processing action selection localization vision behavior planning 
provide results particular robocup domain application 
vision algorithm crucial importance provides perception information observable state 
vision system robustly computes distance angle robot objects assigns confidence values state identifications 
preconditions behaviors require knowledge position robot field 
localization algorithm responsible processing visual information fixed colored landmarks field outputting location robot 
behavior planning approach interestingly provides robot ability control knowledge world 
behaviors range solely visual information depending accurate localization information 
extensive videos provide additional invaluable illustrative support contributions 
vision vision system processes images captured robot camera report locations various objects interest relative robot current location 
include ball unique location markers goals teammates opponents 
features approach 
image capture classification images captured yuv color space pixel classified hardware predetermined color thresholds colors 

region segmenting pixels color grouped connected regions 

region merging colored regions merged satisfaction minimum density merged region set color 

object filtering false positives filtered specific geometric filters confidence value calculated object 

distance transformation angle distance detected objects calculated relative image plane mapped ego centric coordinates relative robot 
onboard camera provides images yuv space hz 
passed hardware color classifier perform color classification real time learned thresholds 
captured camera pixel color described tuple bit values yuv space 
color classifier determines color classes pixel member rectangular threshold class chrominance dimensions 
thresholds set independently values intensity 
example results classification provided 
final result color classification new image indicating color class membership raw captured camera colors 
image bits set classes particular pixel member 
input step system connected regions particular color determined 
stage compute run length encoded rle version classified image 
compression results substantial decrease storage processing requirements subsequent steps 
processing routines operate entire runs time individual pixels 
example image classification right 
image left composite objects position marker top goal area middle soccer balls bottom 
region merging method employs tree union find path compression 
offers performance practice provides hard algorithmic bound practical purposes linear 
initially run labels parent resulting completely disjoint forest 
merging procedure produces disjoint forest final pass compresses paths forest run parent field pointing directly global parent 
set runs pointing single parent uniquely identifying connected region parent field thought label unique region bruce balch veloso 
extract region information merged rle map 
bounding box centroid size region calculated incrementally single pass forest data structure 
process easily extended extract additional statistics convex hull edge points list 
information currently extracted provides information higher level manipulations 
statistics calculated regions separated color separate threaded linked lists region table 
sorted size processing steps deal larger presumably important blobs ignore relatively smaller ones result noise 
step attempts deal shortcomings object detection connected color regions 
due partial occlusion specular highlights shadows case single object broken separate nearby regions 
single row pixels color class rest object break connectivity object may occupy rows 
order correct cases nearby regions connected considered density merging scheme employed 
density represented ratio number pixels color class connected region area bounding box 
measurement heuristic regions small separation relative sizes merged tend relatively high density 
step calculate location various objects colored regions 
various top geometric object filters applied case limit occurrence false positives serving basis confidence values 
ball determined largest orange blob horizon 
confidence value calculated error ratio density detected region actual density perfect circle 
distance estimated distance required circular object occupy area observed region 
field markers detected pink regions green cyan yellow regions nearby 
confidence set error ratio difference squared distance centers regions area region ideally adjacent square patches equal 
colored blob marker indicates position length field 
relative elevation pink colored regions disambiguates side field marker assumption robot head upside 
marker represented pair regions uniquely determined 
case multiple pairs determined marker maximal confidence chosen 
distance marker estimated distance centers regions known size 
goals detected similarly 
largest yellow cyan regions centers horizon 
distance measure coarse approximation angular height goal camera image merging density set low value occlusions possible large low lying object 
confidence estimated difference comparing rel ative width height image known ratio actual dimensions 
final objects detected opponents teammates 
due multiple complicated markers robot distance confidence estimated regions raw form list patches 
simply indicate possible presence opponent teammate 
final step vision system needs mentioned transformation image coordinates ego centric coordinates 
vision system perform practice detection rate reasonably robust tolerance unmodeled noise experienced competition due competitors crowds 
distance metrics confidence values proved advantage localization rational behavior highly noisy environment 
localization localization algorithm classical bayesian approach updates location robot stages incorporating robot movements incorporating sensor readings 
approach represents location robot probability density possible positions robot 
localization algorithm probability density represented grid division pose space veloso uther 
localization algorithm called sensor resetting localization srl lenser veloso popular approach called monte carlo localization mcl represents probability density sampling approach 
monte carlo localization mcl fox dellaert represents probability density location robot set discrete samples 
density samples area proportional probability robot area 
points distributed evenly entire locale space mcl focusses computational resources needed increase resolution near believed location robot 
position robot calculated samples mean variant mode 
uncertainty estimated calculating standard deviation samples 
encountered problems implementing mcl robot dogs 
mcl took samples global localization 
number samples run hardware samples spread localize robot correctly 
mcl problems dealing large modelling errors 
srl motivated desire fewer samples handle larger errors modelling handle unmodelled movements 
srl adds new step sensor update phase mcl algorithm 
probability locale designated samples low sensor readings ljs replace samples samples drawn probability density sensors ljs 
call sensor resampling 
logic step average probability locale sample approximately proportional probability locale sample set covers actual location robot probability think 
mean tracking working srl behaves exactly mcl 
resetting step allows srl adapt large systematic errors movement occasionally resetting 
srl able recover large unmodelled movements easily resetting methodology 
unexpected movements happen frequently robotic soccer domain working due collisions walls robots 
collisions difficult detect robots modelled 
incur teleportation due application rules referee 
movement update 
jm convolved jm stage monte carlo localization 
foreach sample draw sample jm replace sensor update 
js ljs ff ff constant 
steps stage mcl 
optional step replace samples random samples 
foreach sample set weight sample equal probability sensor reading ljs 
foreach sample calculate store cumulative weight samples current sample cw 
calculate total weight samples tw 
foreach sample desired generate random number tw binary search find sample maximum cw add sample 
calculate number new samples ns gamma avg sample prob prob threshold num samples 
ns repeat ns times draw sample ljs replace sample localization capabilities tested srl real robots parameters robocup 
samples tests 
order execute real time forced ignore sensor readings 
due inevitable changes conditions measuring model parameters parameter distance moved angle movement ffi amount rotation ffi step 
deviations reported localization movement vision 
test robot run set trajectory steps slowly turning neck side side 
ran times different numbers steps executed 
final position robot measured hand run 
calculated error mean position time deviation localization reported time 
calculated interval dimension mean reported localization adding subtracting standard deviations reported localization 
calculated distance interval dimension refer interval error 
report average interval error root mean squared interval error 
feel root mean squared interval appropriate measure weights larger misleading errors heavily 
calculated percentage time actual location robot fell box defined intervals 
table shows localization accurate cm ffi despite erroneous parameter values 
actual location robot box time outside box close box 
fact localization seldom gives misleading information important making effective behaviors 
error position deviation reported quickly converges steady level 
deviation tends go time error goes keeps interval error low avoids misleading output 
competition observed localization algorithm quickly resets unmodelled errors picked occur 
actual performance localization play tends worse testing robot spends time looking markers 
mm mm theta ffi average error avg 
interval error rms interval error box percentage behavior planning behavior robot especially difficult problem domain robot acts uncertainty able quickly gracefully improve degrade performance availability localization information changes 
localization system reliant visual identification landmarks order keep localization information date robot scan landmarks 
robot walks camera experiences pitch roll causes images collects change significantly frame 
vision system estimate angles degrades 
walking creates lag time vision frame instant motion localization assumes frame captured 
combined processing time constraints localization system produces accurate estimates robot stopped algorithm robot moving looking landmarks 
process stopping scanning landmarks usually takes robot seconds 
approach provides robot ability control knowledge world order learn spend time looking landmarks 
having information helps robot tremendously soccer dynamic domains time critical moment spent looking lost time 
opponents robot hesitation advantage 
assumed vision system correct reliable designing behavior algorithms 
strategy includes constraint system thresholded localization ii architecture allows robot upgrade degrade performance quickly gracefully iii behaviors reasonable robot know iv special localization dependent behaviors dramatically increase robots efficiency 
control state knowledge robot balance time spent localizing time spent acting 
possible localization strategy year team lrp university france involves localizing robot infrequently 
benefits accurate localization significant 
scheme balances time required get accurate localization information benefits information provides 
utility thresholded localization defined useful amount localization information allowed robot look time localization information fell level robot spent time looking landmarks 
changed definition useful information point robot able act reasonable amount time stopping look landmarks localization information tests robot frequently scored tried push ball walls field 
system constraints force robot act long avoid disrupting behavior requiring localization information accurate 
frames minutes time taken score goal versus long require robot act looking landmarks 
constraint enforcing action constraint robot spend certain amount time acting stops look landmarks 
ensures robot spend time localizing ha benefit localization 
scheme uses counter require robot act specified amount time looking landmarks 
amount time robot act looking depend confidence robot current localization information current goals 
scheme invariant 
require robot act time takes image module process frames data seconds 
recall stopping look landmarks takes robot seconds counting time takes recover ball 
demand spend time acting 
results experiments shown show value winner veloso 
minutes time taken score goal versus low require standard deviations localization values robot orientation location field 
constraint limited localization second constraint accurate demand localization information 
measure accuracy standard deviations returned localization module 
information accurate robot look landmarks 
accurate robot 
immediately obvious balance allowing robot localization information questionable accuracy cost having robot ignore accurate localization information 
results displayed show localization estimate angle robot field standard deviation ffi 
localization estimate coordinates robot location field standard deviation mm just quarter field length 
behaviors need localization best ways finding balance localization information time spent acquire simply avoid localizing necessary 
identified times unnecessary robot lost sight ball information location ball 
recovering lost ball robot loses sight ball trying manipulate 
usually walked past ball 
search ball just lost sight ball information available 
incorporating full scale world view robot architecture implemented simple extremely effective algorithm 
robot loses sight ball walks backwards 
walked past ball usually allows spot 
walking backwards robot turn body away ball 
team year veloso uther year robots turn direction ball seen 
robot considers ball lost begins random search 
random search robot know ball wander field search 
way searching ball build oriented search robot uses localization information systematically search area field 
relies accurate localization information complete search field take lot time 
simple algorithm faster 
wrote random search algorithm sees ball alternates walking forward random amount turning random amount 
random search avoids cost necessity localizing 
acting little information frequently games standard deviations robot localization information high information 
explained previously robot look time localization information inaccurate 
sure act reasonably localization information 
wrote algorithm allows robot score goals information robot angle location field 
algorithm follows see goal walk sideways right ball see goal line goal ball walk forward ball 
allows robot consistently score goals information landmark localization module 
takes robot longer robot information 
upgrading performance robot able progress goals useful localization information able improve performance soon gets information 
different strategies sure robot performance able improve quickly degrade gracefully availability information changed 
localization dependent performance enhancements developed performance enhancements rely localization information robust reliable noisy information winner veloso 
helps robot decide direction circle ball circle 
second allows robot skew approach ball doesn spend time circling 
third allows robot score goals unable see goal 
mode architecture built control architecture basic modes behavior identified important 
switch modes robot uses knowledge basic features state paused ii goal trying push ball iii possession ball close ball iv knows goal localization enhancements improve modes performance mode 
modes defined attacker 
head searching robot searching ball turning head 
searching robot searching ball turning head body 
approaching robot approaching ball 
circling robot circling ball 
scoring robot pushing ball goal algorithm switch modes approximately follows robot sees ball close mode approaching robot see ball mode head searching robot see ball mode searching robot know goal close ball mode circling robot knows goal close ball mode scoring 
able optimize performance lowlevel implementation modes localization information 
separating high level behavior low level implementation ensure robot high level behaviors change frequently available information changes 
special cases urgent action cases balance localization action apply immediate action needed localization takes long 
shortcuts compromises allow robot perform possible special cases localization information 
approaching ball possession ball critical part soccer game 
team possesses ball incredible advantage opponents 
strategy robot sees ball waiting localize 
strategy negatives clearly 
robot know field know ball gets 
better robot look possession ball farther ball 
robot standing near ball blocking side ball visibility attacks 
surprised discover initial games robocup advantage gained winning 
ball moves side field difficult robots move side field 
robocup games team won usually scored goal simply ball emerged side field initially pushed 
developed extremely uses fact robots start facing ball opponent goal 
allowed robots run ball localizing half length field 
error prone motion robots causes stray far course ball usually driven opponents half robots forced localize 
important advantage games able win 
game lost accidentally turned feature half game robots longer able win majority 
turned back second half robots dominated able score goal prevent team robots scoring 
goalie time swift action crucial robot playing position 
position requires accurate localization necessary goalie correct position front goal 
localization information accurate fast localize goalie front goal reliance markers field 
avoiding landmark localization module altogether able find way avoid looking frequently landmarks position accurately front goal 
final algorithm follows starting position centered front goal facing side field 
scan horizon ball ball seen run straight lose sight ball frames turn goal seen see goal run largest area goal seen fills visual field goal fills visual field turn opposing goal seen 
final version goalie extremely aggressive extremely successful 
main strengths algorithm takes advantage special situation goal tender finds standing close goal facing 
goals largest visual features field easy localize special position 
goalie pushes ball far away goal usually plenty time run back goal turn ball comes nearby 
reported controlling soccer playing sony quadruped legged robots visual perception probabilistic localization 
briefly described vision localization algorithms allow state information gathered execution game 
contributed behavior planning approach actively controls balances amount localization information robot 
robot score goals relying solely limited visual perception 
behaviors employ localization information available upgrade degrade performance gracefully availability changes 
addition robots include ative preset plans deal special cases urgent action necessary afford time gather accurate state information 
include results tests demonstrate localization capabilities support parameter settings control amount localization information 
results matches robocup ijcai stockholm show algorithms effective 
team won games lost lost goal 
team year league score goals opposing teams score goal 
year league score goal 
acknowledgments sony providing remarkable platform research perception planning action 

situated agents reflexive behavior 
proceedings ijcai workshop robocup 
bruce balch veloso fast color image segmentation commodity hardware 
submitted icra 
dellaert fox burgard thrun 
monte carlo localization mobile robots 
proceedings iros 
fox burgard dellaert thrun 
monte carlo localization efficient position estimation mobile robots 
proceedings aaai 
fujita veloso uther asada kitano 
vision strategy localization sony legged robots robocup 
ai magazine 
lenser veloso sensor resetting localization poorly modelled mobile robots 
icra 
veloso uther 
sony legged robot team 
asada kitano eds robocup robot soccer world cup ii 
berlin springer verlag 

winner veloso robust action variable uncertainty algorithm robotic soccer 
submitted autonomous agents 
