generating dimensional building models dimensional architectural plans rick lewis master project direction carlo computer science division department electrical engineering computer science university california berkeley may useful applications dimensional polyhedral building models visualization light sound energy fire simulations cost analysis 
unfortunately construction polyhedral building models currently available modeling software tedious process involves considerable human effort results topologically incorrect incomplete models 
describes system called building model generator bmg creates correct polyhedral building models architectural floor plans requiring minimal user interaction 
dimensional architectural floor plans standard format expressing detailed architectural design building 
plans abstracted orthographic projections structure floor dimensions symbolic annotations indicating special entities doors windows visible top orthographic view 
plans easier create corresponding model building involve drawing dimensions sheer number geometric entities drawn lower 
plans may contain small inconsistencies solved algorithmically dimensions 
bmg system input floor plans autocad passed filters perform topological correction semantic analysis 
disjoint overlapping entities corrected symbols indicating doors windows located edges grouped contours representing labeled space plan 
result extruded form correct polyhedral model floor 
method provided stacking assembling individual floors incorporating structural elements composite building model correct topology 
results compatible berkeley walkthru system interactive visualization polyhedral environments nist fire simulator buildings 
system generate new model new soda hall computer science building berkeley floor plans drawn architects 
contents related berkeley walkthru architectural cad packages walkedit editing tool staircase generator tool symbolic floor plan tool overview building model generator floor plan conversion dxf unigrafix floor plan correction semantic analysis floor plan user editing floor plan semantic information reflected ceiling plan correction classifying doors windows pre extrusion processing space contours generation dimensional floor model user editing dimensional model incorporation detail dimensional model combination multiple floor models single building description input floor plans conversion floor plans autocad unigrafix layer selection autocad program acad ug dxf format unigrafix format converter specification semantic meaning individual layers topological correction floor plans coercing vertices grid correcting gaps detecting fixing incorrect intersection semantic analysis floor plans converting symbolic geometry geometric equivalent finding spaces floor plan vertex graph choosing starting nodes vertex graph traversal vertex graph traversal finding portals floor plan reflected ceiling plans identifying ceiling regions rcp correcting rcp regions breaking spaces rcp region boundaries construction dimensional model construction parameters space parameters portal parameters generating spaces wall edges shared portal edges shared space edges creating floors ceilings generating portals non shared edges shared portal edges editing floor model editing spaces editing portals inserting detailed models portals portal types prototype models inserting portal prototype models modeling incorporating creating dimensional staircase plans analyzing staircase plans creating dimensional staircase model adding complex details building model combining finished floor models building model implementation building models generated bmg generated building models walkthru breaking concave spaces form rectangular cells creating walkthru database walkthru viewing system generated buildings nist fire simulator recommendations cad tool builders users extensions bmg system additional architectural design tools list figures symbolic plan soda hall floor 
approximated model soda hall th floor extruded symbolic floor plan 
bmg system 
floor plan soda hall floor 
advantage coercing grid vs vertex merging 
maximum vertex deviation grid 
histogram showing vertex deviation generated grid 
typical contour gaps correct contour 
correction disjoint edges 
example ambiguous gap floor plan edges 
correcting overlapping edges 
door symbols appear floor plan 
door symbol conversion 
direction vertex graph traversal interior spaces 
finding starting edge vertices room contour search 
partitioning spaces obtain space room label 
finding starting edge exterior contour search 
exterior contour automatically 
searching interior contour 
spaces soda hall floor plan 
portal contour corresponding geometry 
reflected ceiling plan 
fixing reflected ceiling plan 
generated model ceiling polygons excluded viewing purposes 
heights specified user 
portal parameters specified user 
orientation wall polygons wall edge extrusion 
portal edge extrusion 
extrusion edge shared spaces 
ceiling floor polygons 
portal generation 
extrusion non shared portal edge 
extrusion shared portal edge 
closeup generated model examples model editing features 
portal prototype models automatically generated instances 
portal prototype model orthographic projection xy plane local coordinate system 
portal opening insertion point prototype model 
determining translation rotation portal prototype model 
orthographic view portal prototype insertion 
model produced staircase generator 
original stair plan soda hall floor 
completed stair plan 
user specified dimensions staircase model 
arches south side soda hall floor 
soda hall floor arch component edges displayed clarity construction 
holes exterior surface floors stacked 
determining polygons close exterior hole current floor 
determining polygons close exterior hole current floor 
completed soda hall model ground level 
extruded model soda hall floor 
floor plan hex tower building 
generated single floor model hex tower building 
hex tower building generated bmg 
portion hex tower plan jamb wall snapping 
spaces breakup convex components 
soda hall th floor corridor th floor 
creating rectangular space contours required rectilinear volumes 
symbolic simple geometric floor plan representations 
interior view soda hall model sixth floor conference room central corridor area 
corridor discussion area soda hall sixth floor 
office soda hall sixth floor 
window model includes textured wood shelves 
field architecture integrated computers limited capacity drafting tools 
architects basically dimensional cad tools autocad draw plan views individual floors selected elevations 
typically computerized dimensional models part iterative design process 
easy understand dimensional modeling tools prepared take specific advantage typical properties characteristics dimensional buildings architect required synthesize dimensional model manually drawing assembly building components drawn manually 
approaches tedious error prone architects embrace routinely early phases design process 
systems developed allow users view dimensional models buildings simulated walkthrough environment user navigate building observe reasonably detailed accurate approximation occupant actual physical building see 
advantage dimensional viewing capability clear users observe building occupant perspective long ground broken chance substantial changes reasonable costs 
despite usefulness architects integrated interactive walkthroughs iterative formative stages building design process 
laborious difficult synthesize topologically correct dimensional model building help today cad tools 
daunting task constructing dimensional building model requires facets walls doors windows interior objects drawn correctly dimensional space dimensional screen typically dimensional pointing device 
dimensional walkthrough environments may incorporate radiosity illumination sophisticated visibility computations minimize rendering time increase frame rate important dimensional model free inconsistencies non planar overlapping intersecting improperly oriented non closed polygons 
building model developed subsequent changes conceptual level expensive example interior height walls floor modified wall polygon redrawn order reflect change coordinates ceiling polygons adjusted 
construction polyhedral model soda hall berkeley ended consuming person years effort 
clearly amount human resources required design consistent dimensional models reduced orders magnitude models integral part architectural design 
important uses fast building model generator resulting models simulations energy lighting acoustics fire 
changes model required response unsatisfactory outcome analysis simulation advantageous model regenerated quickly simple dimensional changes floor plan adjustment global parameters ceiling height 
automatic generation model meshes nicely adapting building model new visualization systems room boundaries portals known explicitly time extrusion information put directly format suitable visualization system eliminating need dimensional visibility preprocessing system locate spaces portals heuristically 
research interested bridging gap dimensions building model generation process 
specifically goal develop system accomplish existing floor plans computer drawn form autocad automatically construct corresponding dimensional polyhedral model floor assemble consistent model entire building appropriate viewing berkeley walkthru system 
distinct components comprise solution problem conversion tool converts floor plans drawn autocad suitable format purposes floor plan correction system fixes topological errors floor plan analyzer determines semantic meaning geometry floor plan extrusion system automatically constructs dimensional representation floor floor plan default parameters staircase generation tool composition system combines separate floors building single correct model 
related previous ongoing projects berkeley commercially available software packages preceded motivated development building model generator 
berkeley walkthru walkthru group uc berkeley developed berkeley building walkthrough walkthru system interactive visualization densely occluded polyhedral environments 
interactive frame rates achieved visibility precomputation detail management 
building model develop demonstrate system produced iteratively applying clean algorithms user interaction convert grossly inadequate autocad wire frame model soda hall design stages complete polyhedral model correct face intersections orientations 
berkeley unigrafix format describe geometry building compatibility modeling rendering tools available group 
interior building including furniture light fixtures modeled hand instancing models objects 
creation detailed soda hall model required person years effort 
clear better modeling systems needed 
architectural cad packages past years building design programs available commercially 
packages generally fall broad categories simple extrusion packages packages provide pre modeled building components user assembles form building model 
classes deficiencies created need described 
commercially available extrusion packages home design virtual reality room planner require user draw simplistic floor layout schematic proprietary editing environment extruded model 
capability directly pre drawn detailed possibly inconsistent architectural plan 
capacity small tens rooms reasonable performance required large buildings question 
walls may infinitely thin represented coincident polygons 
general type system targeted home computer users wish experiment interior design 
symbolic floor plan editors limited flexibility rarely symbolic plan correspond precisely real architectural floor plans building 
sophisticated architectural design tools provide detailed building components user pieces space form building model 
laborious drawing entire model drafting tool problems arise user required position objects apply 
user manipulates pointing device mouse receives visual feedback computer screen difficult properly position entities space consistent solid building model 
classes systems described fail meet needs major areas significant human effort required 
second guarantee resulting models consistent error free required sophisticated applications interested interactive walkthrough fire simulation 
applications may require richer semantics room adjacency information systems provide 
addition tools ignore fact majority computer drawn architectural floor plans created autocad program 
plans usually inconsistent incomplete sophisticated correction analysis performed computer resulting clean floor plans completely specify geometry building 
information wasted user required redraw floor plan different format worse required draw geometry entire building 
walkedit editing tool walkthru editor walkedit developed order facilitate manipulation objects virtual environment building 
employs new object manipulation technique known object associations uses knowledge behavior objects reduce object manipulation virtual environments dimensional problem 
example picture frame selected moved moves remains flat wall reducing movement degrees freedom 
technique drastically reduces amount time required properly position interior objects building model 
standard editing functions copy paste delete included 
features combine form powerful tool quickly modeling interior polyhedral building model 
natural complement tool system similarly facilitates construction building model 
reducing user interaction dimensional level environment shifts burden modeling computer freeing user creative productive 
staircase generator tool staircase generator tool early demonstration paradigm wished follow building model generator user specifies layout model dimensions floor plan computer automatically generates corresponding model floor plan additional parameters height 
case adjacent coplanar polygons specify floor plan staircase 
program reads plan computes proper locations support beams 
user specifies lowest step direction ascent 
automatically creates polyhedral model staircase displays viewing window 
real time interactive modifications staircase moving sliders user interface form specify step height height parameters 
ease creating fairly detailed staircase model just drawing polygons changing slider values demonstrated validity paradigm 
staircase generator tool adapted building model generator system described described section 
symbolic floor plan tool symbolic floor plan tool tool demonstration concept generating geometry automatically plans 
tool uses simple symbolic schematics drawn editor 
symbolic representation rooms corridors spaces polygons dimensions 
shows symbolic schematic fifth floor soda hall 
tool analyzes adjacencies rooms automatically places doors windows reasonable locations schematic simple rules constructs threedimensional geometry building corresponds dimensional plans 
resulting dimensional building representation free errors inconsistencies impact human error minimized geometry generated algorithmically drawn human 
resulting models viewable berkeley walkthru system 
tool users dimensional editor quickly sketch polygons representing floor plan minutes walk building result 
symbolic plan soda hall floor 
potentially powerful addition set computer design tools architects allows building visualization reasonable accuracy final formal floor plans program autocad having drawing 
real detailed floor plans take hours draw correctly program autocad walls drawn correctly offset inner outer contours standard symbols doors windows correctly drawn properly placed gaps wall contours ability simpler symbolic plans easy sketch possible include building visualization early design stages architect merely thinking conceptually form function building 
developed tools specifically fast straightforward design symbolic floor plans 
developed conversion process allows symbolic floor plans drawn widely available drawing programs canvas form symbolic tool 
example symbolic schematic floor plans soda hall drawn canvas drawing program macintosh plans converted berkeley unigrafix format symbolic tool model simplified version soda hall 
floor model shown 
symbolic plans simplifies problem constrains user lower level detail realism final building model compared possible detailed architectural plans 
approximated model soda hall th floor extruded symbolic floor plan 
overview building model generator natural step tools analyze symbolic floor plans create system real architectural plans widely available input produce polyhedral building models conform precisely plans 
extension brings great amount additional complexity input floor plans drawn independently extrusion tool 
cad tools typically drawn plans autocad allow user total freedom draw resulting plans usually full errors inconsistencies ambiguities 
problems geometric semantic levels 
building model generator bmg system described corrects problems attaches appropriate semantic meaning geometry 
bmg analyzes floor plan finds closed contours spaces 
sophisticated extrusion system creates complete solid model floor 
multiple floors stacked full building model 
bmg system pipeline correction analysis extrusion viewing editing tools combined single integrated program 
shows stages process subsections give overview main actions performed step 
floor plan conversion dxf unigrafix floor plans input bmg system described widely dxf drawing exchange format geometry description format 
floor plan may contain different types entities including lines polylines polygons text 
conversion phase bmg system converts useful geometric entities concentrated select layers dxf file unigrafix format 
subsequent bmg subsystem components operate unigrafix format geometry 
floor plan correction input floor plans typically errors inconsistencies preclude directly dimensional entities dimensional model 
geometric level common errors manifest form connectivity problems entities meant adjacent may overlap may separated gap 
problems difficult create desired semantic associations entities 
problems lead holes coincident polygons incorrect visibility radiosity computations resulting model 
correction subsystem eliminates errors automatically 
semantic analysis floor plan semantic analysis floor plans performed analysis subsystem bmg required reasons 
necessary locate symbolic entities floor plan generate corresponding literal equivalent example door symbol consists line rectangle representing door arc representing swing door line segments representing door jamb side door opening 
extrusion purposes bmg create edges close space contours side door opening 
second geometric entities grouped entities specific semantic meaning 
purposes edges representing walls grouped single contour specifying space room boundary 
necessary order provide user ability control properties extruded model room basis 
single contours representing enclosed space enable straightforward determination proper polygon orientation extruded model provide needed efficient visibility analysis fire simulation 
conversion dxf unigrafix cleanup correction fix gaps intersections semantic analysis find rooms portals user editing verification floor plan fit ceiling plan regions floor plan spaces processing contour breakup construction model user editing verification model complete polyhedral model objects model import pre modeled multi floor processing form roof slab polygons ceiling plan furniture autocad floor plan bmg system 
user editing floor plan semantic information contours corresponding rooms portals floor plan formed automatically possible intended results obtained process 
cases user interaction required 
user may define new edges order form closed contours rooms portals automatically analysis phase 
adding new geometry user may bmg attempt automatically form additional contours optionally user may specify entire boundary additional contour hand 
undesired contours may deleted 
editing phase provides way user verify results correction analysis phases continuing create dimensional floor model 
reflected ceiling plan correction reflected ceiling plan rcp may optionally partition rooms contain regions different ceiling heights 
region indicated diagonal specifying region typically rectangular boundaries 
descriptions contain similar numerical inaccuracies connectivity problems respect room contours contain geometric entities rcp correction phase intelligently snaps boundaries special ceiling areas nearby corners room 
regions close expanded shrunk create plausible adjacency 
rooms containing rcp regions partitioned region boundaries resulting spaces physical walls ceiling heights separately addressable 
classifying doors windows user may assign user defined type portal located bmg 
portal type user associate prototype model inserted corresponding portal opening model 
bmg automatically sizes height portal opening model fit inserted prototype 
allows user interactively change observe size style window door frames easily simply changing inserted portal prototype 
pre extrusion processing space contours additional processing steps required pre extrusion stage order support generation editing model 
concave regions shaped rooms long winding corridors broken collections adjacent convex regions 
convex regions provide straightforward path generating cells visibility computations interactive walkthrough model 
edges adjacent regions marked specially treated differently regular wall edges extrusion 
extrusion user may select space set ceiling height 
spaces created breaking single concave space multiple convex regions walls adjacent spaces different ceiling heights piece wall generated closes opening created adjacent spaces different heights 
pre extrusion processing phase enables locating marking edges adjacency giving spaces share edge pointer space recording pairs spaces type adjacency 
generation dimensional floor model general polyhedral model floor created traversing contour region generating vertical inward facing rectangular polygon edge 
floors ceilings respectively upward downward facing polygons appropriate heights projection identical corresponding space contour 
space adjacent portal suitable hole formed extruded walls 
properties wall height portal opening size portal elevation specified user prior extrusion changed 
user editing dimensional model model floor created user afforded number ways edit result 
spaces edited levels granularity entire collection spaces floor spaces type office corridor individual space 
space properties edited include name type wall height colors 
portals edited levels granularity entire collection portals floor portals type individual portal 
user may change height value bottom top portal opening portal type 
type portal changed prototype model associated newly chosen type opening sized automatically fit prototype 
prototypes fit portal opening allowed 
changes applied bmg system updates model needed shows results immediately model view window 
incorporation detail dimensional model user may wish add specialized models particular components elevator cars non rectilinear structures model floor 
component insertion feature bmg allows user specify location orientation component models may inserted building 
object incorporated described unigrafix language 
include externally designed component model created bmg user may specify insertion point point corresponding origin inserted component coordinate system clicking vertex model 
user specify rotation clicking second vertex 
information bmg determines correct translation rotation inserts instance component floor model 
combination multiple floor models single building bmg user form complete building model stacking individual floor models atop 
holes may exist exterior resulting building model exterior walls adjacent floors may identical projection 
example floor significantly larger second stacking results hole second floor entirely cover 
bmg analyzes projections adjacent floors automatically creates suitable floor ceiling polygons close openings order preserve solid model characteristics building 
description input floor plans floor plans input bmg assumed minimal semantic information attached form layers 
layers standard method classifying grouping geometry autocad dxf format general 
geometry soda hall floor plans grouped specific layers walls doors windows specialized elements 
addition numbered rooms spaces building indicated room number labels floor plan placed near center boundary space 
label proves useful locating closed contours spaces 
modest amount semantic information assumed correct geometry 
fact input floor plans typically suffer errors ambiguities 
geometric level line segments representing contiguous walls room may meet endpoints result hole wall extruded ramifications errors typically considered floor plan drawn edges meant form closed contour overlap disjoint door window symbols fit properly openings superfluous missing geometric entities 
geometry intended semantic meaning wall edges example drawn different primitives resulting entities different types 
example room walls may drawn collection single line segments polyline polygon closed face 
lack sufficient semantic grouping geometric elements 
extrusion editing purposes useful line segments comprise boundary particular space room corridor grouped single closed contour floor plan soda hall floor 
grouping typically exists input floor plans 
single room just set possibly overlapping disjoint segments polylines turn may extend represent wall segments adjacent rooms 
typical condition input floor plans correction analysis required order eliminate superfluous entities ensure correct topology obtain meaningful groupings simple geometric entities 
conversion floor plans autocad unigrafix floor plans soda hall created allen architects san fransisco autocad program drafting aide 
persons creating plans know plans time extrusion model 
autocad saves drawings proprietary binary file format suitable purposes 
chose convert floor plans berkeley unigrafix format text simple compatible large library graphics software group 
process converting autocad unigrafix involves exporting floor plan autocad dxf file converting dxf format file unigrafix format 
chose export autocad drawings dxf format available formats library tools included program converts dxf format files unigrafix 
layer selection autocad program typical floor plans contain information required purposes wiring plumbing special interior objects related extrusion sinks water visual aids architects broad areas hatch pattern indicate space usage 
autocad determined layer purpose turning layers observing resulting changes display 
layers relevant model generation noted 
examples relevant layers include wall geometry layers door geometry layers window geometry layers layers containing room labels identifying space 
entire drawing exported dxf format step conversion process 
acad ug dxf format unigrafix format converter acad ug program accepts dxf format files input converts desired layers corresponding unigrafix format geometry file 
layer names dxf translate color names unigrafix 
common geometric entities translate follows dxf unigrafix example line wire wall window sill door jamb polyline wire wall face room label door vertex vertex text wires room number relative coordinates dxf file translated absolute world coordinates unigrafix file 
layers dxf file needed user creates file specifies layer names entities conversion desired 
entities specified layers ignored 
layers soda hall plans converted purposes layer meaning wl interior walls inside building wl ex exterior walls outside building dr dr door dr jb door jamb wn sl window sill wn jb window jamb nt reflected ceiling plan diagonals vp st stairs dn rm room label geometry dn rm nm room identities associated room labels reflected ceiling plans discussed section stairs discussed section 
resulting unigrafix file processed correction analysis 
special filters eliminate illegal entity names example hyphens layer names allowed unigrafix color names replaced underscores convert faces wires subdivide wires single segment lines unigrafix wires edge 
conversion subdivision required faces multiple edge wires imply semantic association edges necessarily intended creator original autocad file 
example contour formed walls office may drawn single unigrafix face single polyline unigrafix wire combination line unigrafix wire segment polyline entities 
visual result typical autocad wire frame display combinations identical special association assumed segments single entity final contour formed collection wires different contour formed face single closed wire 
wall geometry decomposed atomic element single edge 
resulting homogeneous collection edges contour forming tool walks connected edges forms closed contour space 
specification semantic meaning individual layers step preparing floor plan correction phase semantic meaning individual layers specified 
correction semantic analysis tools rely knowledge semantic meaning layer geometry file 
layer grouped entities layer type conforms certain behavior 
example wall edges layers wl wl ex form room contours edges room label layer dn rm symbolic exist identity surrounding room known 
file created user specifies semantic meaning layer wall geometry wl wl ex door dr dr door jamb dr jb window jamb wn jb window wn gl room label dn rm file referred subsequent correction analysis tools 
current form bmg requires exactly separate semantic groupings 
want bmg extensible soda hall plans important note floor plans exactly layer names groupings geometry 
course brute force option properly labeling grouping floor plan geometry drafting program solve problem option may undesirably labor intensive especially large buildings 
desired floor plans contain groupings additional floor plan processing required 
reasonable require absolutely wall segments grouped layer typically done computer drawn floor plans 
sort remaining geometry semantic groups door window window jamb room label preprocessing system implemented intelligently examines geometric entity attempts classify groups 
example door jamb geometry searching matching pairs wall width edges door width apart 
additional generality accommodate floor plan sets projects done different style exactly conform semantic groupings expected require small project specific preprocessing system 
topological correction floor plans usually small difference endpoints edges contour error typically intended edges intersect endpoints 
error occurs frequently room contours drawn collection single line segments independently positioned potential error single closed polygon consecutive edges guaranteed share vertex 
type error manifests ways gaps edges overlapping edges 
errors need corrected order permit formation closed contours consist contiguous edges 
closed contours required extrusion purposes contour closed result incorrect connectivity polygons resulting model 
algorithms applied correct gaps improper intersections 
coercing vertices grid efficient algorithm fix gaps improper intersections snaps vertices grid specific resolution 
merge vertices maximum distance simple vertex merge inappropriate purpose algorithm choose bad position final vertex 
disrupt axial alignment walls 
coercion grid original set segments possible advantage coercing grid vs vertex merging 
suppose innermost walls row interior office spaces placed feet outside building 
vertices error stray axis certainly want erroneous vertices moved correction takes place moving correct vertex edge endpoint incorrect location simple vertex merge 
solution problem decide uniform grid specific spacing grid points 
original drawing drawn integer grid 
new grid intelligently placed vertices grid 
vertex closest grid point 
bmg produces value grid spacing automatically 
frequently occurring point topoint distances vertices recorded 
smallest common distances indicative unit resolution floor plan creator intended 
greatest common denominator distances grid spacing 
example common distances vertices 
resulting grid spacing 
grid spacing trivial snap vertices grid 
applying grid algorithm small half grid size gaps overlaps fixed 
effectiveness approach evident applied soda hall floor plans 
algorithm produces grid roughly thirds vertices lie snaps third vertices 
illustrates maximum possible distance vertex nearest grid point equal grid spacing 
histogram showing distribution vertex deviation inch grid th floor soda hall floor plan 
total vertices coincide grid point vertices maximum deviation possible suggesting automatically produced grid quite appropriate 
grid spacing maximum vertex deviation grid 
deviation grid maximum possible number vertices grid histogram showing vertex deviation generated grid 
correcting gaps gaps larger half grid spacing corrected coerce grid algorithm 
typically gaps arise floor plan creator draws line segments slightly short causing gap contour 
intended contour produced applying gap closing algorithm disjoint edges 
typical contour gaps correct contour 
fairly general approach fix gaps 
vertices referenced edge definition indicative disjoint edges pairs close vertices meet condition located 
edges vertices parallel collinear simply connected 
parallel collinear connected perpendicularly 
edges perpendicular nearly perpendicular bmg computes intersection lines pass edges moves edge endpoints point intersection 
bmg intersects line passing edge perpendicular edge edges created close gap 
approach correct gaps example possible edge vertex belonging edge existing nearby vertex condition 
shows example situation unclear neighboring vertex highlighted vertex connected recall stage closed contours floor plan just large collection edges 
cases interactive method provided user specify close gap 
user allowed specify endpoints opposite sides gap general method connecting endpoints applied resulting desired solution 
detecting fixing incorrect intersection edges overlap sharing endpoints equally common disjoint edges 
incorrect connectivity edges impossible form closed contours containing 
edges share endpoints appropriate connectivity exist closed contour formed 
accomplished cutting edge intersecting edge pair distinct edges 
cut intersection point original edges 
small segments produced result correction disjoint edges 
operation assumed disposable share endpoints edges discarded 
semantic analysis floor plans semantic analysis floor plans occurs stages 
symbolic entities door window symbols converted literal equivalents 
second closed contours defining boundaries individual spaces portals formed adjacency graph built linking contours share edges 
converting symbolic geometry geometric equivalent shows rooms appear semantic analysis phase 
door symbol positioned portal openings typical architectural symbols door 
clearly useful extrusion purposes horizontal slice doorway 
bmg replace door symbol separate edges close room contour side doorway 
edges serve purposes edges close non closed contours defining boundaries spaces side doorway 
possible find contours means vertex graph traversal searches closed loops internal sub loops 
second corridor corridor example ambiguous gap floor plan edges 
closed contour closed contour unneeded edges discarded correcting overlapping edges 
edge usually extruded model form piece wall extending top doorway ceiling 
existence door indicated existence geometric entity specific layer type 
current implementation bmg locates door symbols searching faces layer type dr dr 
cases door symbol composed differently door line segment face bmg modified search different type entity 
desired edges formed algorithm 
locate door symbol look face layer type dr dr 

find nearest jamb edge door symbol 

find opposite jamb edge look edge length jamb door length away jamb 

connect specially labeled portal edges 
window symbols appropriate contour closing edges exist part window symbol 
door symbols appear floor plan 
door symbol conversion 
finding spaces floor plan previously explained desirable extrusion editing purposes group boundary edges space single closed contour 
accomplished building graph floor plan vertices intelligently choosing starting vertex traversing graph attempt form closed contour containing vertex 
result set closed contours spaces portals useful extrusion dimensions 
vertex graph non directed graph vertices edges built includes elements layers corrected floor plan 
node graph consists point neighbor nodes status flag 
neighbor node node vertex graph node directly connected node single edge 
node neighbors sorted slope line contains edge node neighbor 
merely searching graph closed loops necessarily result desired space contours vertices part closed contour 
situation remedied intelligently choosing starting point direction search making appropriate subsequent decisions proceed traversal node 
choosing starting nodes vertex graph traversal searching vertex graph closed contours result counter clockwise contours interior spaces rooms corridors clockwise contours exterior boundaries outside building 
searching interior space contours edge formed picking start vertex second vertex interior desired space left directed edge 
choice second vertices performed differently known spaces exterior boundaries remaining unlabeled spaces 
walk direction left start vertex second vertex interior direction vertex graph traversal interior spaces 
rooms floor plan comes room labels located near center numbered spaces floor plan 
bmg looks labels notes position space 
find closed contours room algorithm applied second vertex shoot ray take closest edge start vertex finding starting edge vertices room contour search 

shoot ray label location direction 

find closest intersected edge 
edge assumed boundary desired space contour 

want traversal direction interior room left current edge set contour vertex equal edge endpoint lesser value 

set second contour vertex equal edge endpoint greater value 
conceivable situations space contour formed result algorithm encompass room label 
result entire space labeled identity room label seed contour search algorithm 
case exactly contour room label required space contour partitioned multiple adjacent contours placed reasonably room labels union resulting regions original space 
algorithm employed space contour 
pick room labels enclosed single contour 

calculate axis aligned line equidistant labels farther apart choose vertical axis aligned line line equidistant labels 
choose horizontal axis aligned line line equidistant labels 

space contour edge parallel close line edge line edge line move collinear 
partition space contour line producing edges respectively figures 
algorithm repeated exactly contour room label 
resulting collection contours shown 
algorithm attempts break original contour accordance existing walls possible 
algorithm simply partitioned space existing wall edges account result may agree intuitive boundaries implied existence changes wall direction 
figures pair room labels followed remaining pair require partitioning operation partitioning operation separates labels 
order pair choice reversed labels followed results different 
user allowed choose order pairs room labels chosen resulting spaces match user subjective interpretation intentions floor plan creator 
exterior straightforward find exterior boundary contours room labels seeds finding second vertices 
algorithm employed find starting edge 
determine value extents entire floor 

go miny maxy increments equal grid spacing 
shoot ray seed point minx direction 
find closest intersected edge 
edge unused want traversal direction interior contour right current edge exterior empty space left set contour vertex equal edge endpoint lesser value 
ii 
set second contour vertex equal edge endpoint greater value 
edge contour 
increment 
note edges marked contour search originating start edge labeled includes entire exterior contour wing 
exterior contours way 
unusual case sufficient separate wings single floor plan ray generated algorithm hits exterior particular wing user interaction required 
user provides start edge clicking single exterior edge normal contour search performed 
remaining contours room contours exterior contours formed interior spaces may remain labeled room numbers elevator shafts spaces heating electricity plumbing 
vertices labeled room contours contours marked possible simply search remaining unused nodes vertex graph closed contours 
vertices resulting contours forced counter clockwise order interior building fact guaranteed exterior contours formed previously 
multiple room labels single enclosing space contour partitioning operation pair partitioning operation pair result contour room label desirable result produced algorithm ignored existing edges different result pairs chosen different order partitioning spaces obtain space room label 
wing wing finding starting edge exterior contour search 
user selects wing hit ray start edge exterior contour automatically 
vertex graph traversal vertex graph traversed closed contour formed possible paths start vertex searched success 
traversal backtracks dead ends reached 
start node reached closed contour formed vertices contour marked incorporated closed contours 
algorithm vertex graph search follows 
start contour containing vertices algorithms section choosing starting nodes vertex graph traversal 

set current node second contour vertex 

algorithm choose neighbor node search path leftmost turn 

unvisited neighbor nodes remove current node list contour vertices backtrack previous node go 
back second node contour list solution quit 

add new node list contour vertices 

start node neighbor current node 
closed contour 
mark contour nodes 
done 
go 
sorted angles edge incidence vertex graph node guarantee traversal desired clockwise counter clockwise manner 
space node created closed contour algorithm 
space node contains list edges defining contour 
space nodes labeled unique identifier name 
name derived knowledge floor plan possible example contours room labels seed points name room label type associated room label office 
process layer original line segment contour edge remembered necessary example edge type interior wall extruded single rectangular wall piece edge type window sill extruded pieces hole window portal 
list space nodes basis extrusion editing 
shows floor plan space contour formation 
finding portals floor plan contour finding technique applied spaces floor plan applied portals doors windows 
fact portals viewed spaces outline portal region floor plan precisely area occupied portal 
soda hall floor plans door contours composed layers layer layer edges span width door opening 
door contour proceed choosing leftmost neighbor nodes neighbor nodes proceed choosing leftmost backtrack proceed neighbor node proceed neighbor neighbor nodes 
dead 
proceed choosing leftmost result completion search algorithm start edge searching interior contour 
spaces soda hall floor plan 
consists jamb layer edges door width edges 
door openings closed door width edges preparation finding room contours edges finding closed door contours 
window contours similarly constructed edges window jamb layer window sill layer 
see section discussion floor plan design recommendations lead easier location portal contours 
find doors vertex graph built includes vertices door jamb door width layers 
closed contours starting unused vertices recursively searching shortest route close contour 
procedure windows vertex graph contains window jamb window sill layers 
portal object created portal contour 
similar purpose space object portal object unit data includes information geometry portal contour pointers spaces connected portal information utilized extrusion phase 
linked list portal objects created 
lists space portal objects complete analysis performed doubly link portals spaces connect 
portal space share edge portal space occupied rm 
rm 
rm 
door contour portal contour corresponding geometry 
object pointer space object space object pointer portal object 
connectivity information useful ways 
extrusion editing portal opening dimensions modified opening adjacent space wall modified 
link portal object adjacent spaces provides instant knowledge spaces need re extruded reflect changes portal geometry 
addition connectivity information useful resulting model viewed walkthrough system requires specification connectivity information order perform visibility computations enhance rendering speed 
reflected ceiling plans prior extrusion user option load reflected ceiling plan rcp specifies ceiling objects lights denotes regions ceiling different heights 
reflected ceiling plan architect standard means specifying various different ceiling heights regions floor plan 
regions denoted diagonals specify exact location dimension corresponding rectangular region 
user able specify height individual rcp region space partitioned boundaries rcp regions contains resulting distinct spaces properties including ceiling height individually addressable 
input rcp consists diagonals pairs diagonal line segments grouped single layer 
shows reflected ceiling plan floor plan shown 
identifying ceiling regions rcp rcp diagonal edge checked see intersecting pair rcp edges define rectangle 
diagonal necessary define rectangular region 
pair diagonals discarded 
remaining diagonals rcp object created contains coordinates diagonal endpoints edges form bounding box diagonal define region pointer space encloses region 
reflected ceiling plan 
correcting rcp regions boundary edges rcp region correctly match underlying space may small gap region wall intended adjacent may overlap 
problems corrected snapping rcp regions walls close 
regions overlap gap regions region shrunk right region expanded upward space marked correctly intersection diagonal diagonal endpoints fixing reflected ceiling plan 
snapping rcp regions works follows endpoint rcp region diagonal 
extend diagonal line endpoint 

find space edges intersected 

intersection point close endpoint intersection point near existing space vertex move endpoint vertex 
move endpoint intersection point 
intersection point close endpoint endpoint close existing space vertex move endpoint vertex 
snap endpoint floor plan grid 
just rcp regions may line underlying spaces multiple rcp regions may properly adjacent 
result thin implicit regions specified regions 
bmg shrinks expands regions appropriately eliminate errors 
algorithm pair rcp regions space pairs edges rcp region close parallel 
pick edge confined boundary space member smaller rcp regions 

move growing shrinking smaller rcp region collinear edge larger rcp region 
correction rcp regions underlying space partitioned boundaries rcp regions 
note areas underlying space covered rcp region implicitly regions acquire default ceiling heights 
breaking spaces rcp region boundaries spaces partitioned rcp region boundaries performing boolean subtraction polygons rcp region subtracted underlying space succession 
original space replaced group new smaller spaces result partitioning operation 
non geometric information associated original space name type transferred new space 
edge types interior wall window sill transferred new space edges applicable course new edges created partitioning operation special type open extruded 
construction dimensional model construction consistent model floor possible floor plan corrected analyzed 
shows floor model fifth floor soda hall corresponds floor plan shown 
generated model ceiling polygons excluded viewing purposes 
cleaned floor plan extruded form walls model 
floor ceiling polygon generated space 
doors windows consist holes walls connected spaces plus polygons connect adjacent spaces 
processes generating components floor model described detail sections 
construction parameters properties resulting model directly specified floor plan 
essential height information absolutely necessary constructing geometry 
clearly height extracted drawing floor plan user specify proper heights ceilings door openings window openings 
exist non geometric parameters user may modify 
general space height portal opening height portal elevation heights specified user 
parameters correspond properties model colors textures 
space parameters space construction affected parameters specified modified user parameter type ceiling height numeric float wall color texture ug color name floor color texture ug color name ceiling color texture ug color name existence ceiling boolean existence floor boolean user may specify values parameters number ways default values specified spaces 
second user may edit space parameters viewing floor plan prior generation model 
user may edit space parameters model generated case bmg system affected space model 
bmg uses reasonable default values user specify values parameters 
space editing covered section 
portal parameters height portal opening elevation base opening specified floor plan user specify parameters 
addition color texture polygons connect spaces portal specified 
summary parameters types portal parameters specified user 
parameter type opening height numeric float base elevation opening numeric float color texture ug color name addition parameters portal type may associated portal 
type maintains parameters listed 
individual portal associated type parameter values type applied portal 
portal types discussed detail section 
space parameters portal parameters default reasonable values set user apply portals 
portal may selected modified user floor plan model view 
generating spaces bmg system iterates list space objects creates geometry representation space 
space list edges comprise closed space contour traversed 
information maintained edge dictates edge extruded model 
edges fall categories extruded differently wall edge unique space extruded extruded rectangle 
shared portal edge contour edge shared adjacent portal 
shared portal edge extruded separate rectangles bottom space bottom portal top portal top space 
shared space edge shared adjacent space 
shared space edge extruded ceiling height adjacent space different space extruded 
polygons created edge extrusion oriented interior space extruded normal polygon passes room volume 
sections contain detailed descriptions type edge handled extrusion process 
orientation wall polygons wall edges wall edge extruded form rectangular wall polygon 
polygon extends bottom space top space 
values parameters obtained space object currently extruded 
value usually equal offset floor base elevation floor level height raised floor 
offset allows accurate representation buildings raised floors 
wall edge extrusion 
shared portal edges space contour edge shared adjacent portal object extruded rectangular pieces forming wall suitably sized hole access portal 
lower polygon extends bottom space space bottom portal opening portal 
case doors polygon generated space portal values 
upper polygon extends top portal opening portal top space space 
values space space obtained space object extruded 
values portal portal obtained portal object shares edge extruded 
space portal portal space portal edge extrusion 
shared space edges space contour edge shared space generally extruded 
shared edges spaces may exist reasons user partitioned single space spaces manually bmg broke single concave space individual convex spaces 
cases actual physical boundary spaces 
edge extruded ceiling heights spaces share edge different 
case rectangular polygon generated extends height shorter space height taller space 
values obtained space objects share edge 
extrusion edge shared spaces 
table summarizes extrusion space contour edges edge type construction parameters parameter value source wall rectangle bottom space space object top space space object shared portal rectangles bottom space space object top space space object bottom portal adjacent portal object top portal adjacent portal object shared space rectangle top space space object top adjacent space adjacent space object creating floors ceilings extruded spaces usually include ceiling downward facing polygon floor upward facing polygon 
spaces floor ceiling unnecessary 
example stairway elevator shafts traverse multiple floors building floor ceiling bottom shaft floor polygon top shaft ceiling polygon 
ceiling floor ceiling floor polygons 
wall extrusion affected existence floor ceiling polygons 
space marked flag specifying generate floor bottom space base wall space set value base elevation entire model floor level raised floor offset 
necessary shaft type spaces adjacent floor levels exhibit proper connectivity sharing edges separated equal raised floor offset 
exterior building generated way interior spaces exceptions 
exterior wall extends base elevation level building height raised interior floors 
second polygons oriented outside building interior 
total proper connectivity polygons generated space guaranteed floor plan cleanup analysis produces closed non self intersecting contours 
demonstrates advantage cleanup extrusion approach procedural generation polygons comprising model eliminates errors introduced polygons drawn positioned individually cad tool 
generating portals portal list portal objects polygons generated order properly connect openings walls spaces connected portal 
polygons created portal contour edges shared adjacent spaces generating portal floor portal ceiling polygon 
portal contour edges shared adjacent spaces extruded hole connecting spaces remain open 
portal generation 
non shared edges non shared edge extruded form rectangular polygon 
polygon extends bottom portal opening top portal opening 
values parameters maintained portal object 
non shared portal contour edge resulting polygon shown shaded extrusion non shared portal edge 
shared portal edges similar space edge shared spaces portal edge shared portals extruded values bottom top portals differs 
values top bottom portal maintained portal object 
case values bottom portals differ rectangle created extends bottom lower portal low bottom higher portal high 
case values top portals differ rectangle created extends top shorter portal short top taller portal tall 
cases may coexist demonstrated 
low high short tall shared edge results polygons shaded portal contours shared edge window door extrusion shared portal edge 
table summarizes extrusion portal contour edges edge type construction parameters parameter value source non shared rectangle bottom portal portal object top portal portal object shared portal rectangles bottom portal portal object top portal portal object bottom adjacent portal adjacent portal object top adjacent portal adjacent portal object shared space extruded polygons created portal contour edges oriented interior portal contour 
polygons created shared portal case oriented interior portal lower bottom value case portals differ bottom value portal higher top value case portals differ top value 
floor polygon ceiling polygon created portal contour 
polygons consist dimensional contour portal contour values differ upward facing floor polygon bottom portal opening downward facing ceiling polygon top portal opening 
editing floor model bmg system generates model corrected floor plan set reasonable default parameters properties colors 
user may modify model construction 
feature necessary certain rooms different ceiling heights floor wide default value properly constructed 
editing useful changing dimensions frames portal openings changing colors textures polygons comprising rooms floors ceilings 
shows closeup view edges displayed clarity spaces portals model 
set spaces portals provided basis sections describe editing features 
original corner space space height increased floor set false portal opening size increased closeup generated model examples model editing features 
editing spaces user may modify spaces generation model 
clicking floor polygon wall polygon space user wishes edit causes space editing form pop 
form user may change parameters space including height existence ceiling floor colors textures 
shows corner room ceiling height increased 
shows original space floor set false 
note floor polygon 
note walls extend base elevation floor level opposed height raised floor small step seen door leading room 
spaces floors form shafts elevator staircase connect multiple floor levels 
changes space parameters applied various levels granularity provide convenient editing user 
space name type floor associated changes space may applied levels individual space spaces particular type spaces current floor 
editing portals portals may modified generation model 
clicking polygons comprising portal causes portal editing form pop 
form user may change parameters portal including opening height opening base elevation color texture 
shows portal user increased opening size percent 
changes portals applied levels granularity individual portal portals particular type portals current floor 
mechanism user example conveniently modify size windows exterior building simply applying changes portals type window 
inserting detailed models portals generation process described far generates proper openings portal 
order model realistic desirable include details frame glass window frame jamb doorway 
detailed component pre modeled insertion properly translated rotated instance component automated floor plan analysis phase yields location orientation portals 
bmg allows user define portal types 
type associated size portal opening model associated portal prototype model 
portal prototype models include geometry details door window frames glass 
bmg automatically inserts instance defined prototype model portal opening portal portal type 
user changes frame model portal type portal openings type resized automatically accommodate new frame model 
approach associating detailed frame models portal type sought facilitate refinement model components generated extrusion 
user need position model space 
due semantic information extracted floor plan program knows doors proper positioning sizing inserted door model automatically 
sections describe portal model insertion system works 
portal types prototype models floor plan model view user may select portal assign portal type 
type dictates size portal opening model 
type may optionally portal prototype model associated 
user may change parameters associated portal type definition 
changes portal type door prototype model door prototype instances inserted portal openings portal prototype models automatically generated instances 
definition applied portal type 
example user may define portal type office door specify portal prototype model described file office door ug 
portal type displayed editing bmg displays prototype model window screen user may verify desired model 
changes type definition applied bmg loads geometry prototype file determines height opening required accommodate model sets opening height field portal type definition value 
width depth portal opening size respectively fixed floor plan width depth resized response inserted model 
user responsibility create portal prototype models fit opening properly width 
failure insert models proper width result coincident intersecting faces corrupt integrity building model 
depth inserted model need equal depth portal opening acceptable entities spaces side portal opening 
user may select various portals floor plan give type 
model extruded type definition changed extrusion height portal opening type office door extruded model automatically adjusted match height needed accommodate prototype model user interaction required 
inserting portal prototype models portal prototype models defined origin portal model coordinate system corresponds appropriate corner vertex portal opening model portal model inserted axis prototype coordinate system points direction wall prototype model fitted 
user ensure portal prototype model meets conditions way algorithmically determine vertex portal model intended correspond portal opening corner 
height opening required accommodate model determined extents model 
bmg automatically affected portal accommodate inserted model 
origin origin portal prototype model orthographic projection xy plane local coordinate system 
insertion point portal opening insertion point prototype model 
bmg determines translation rotation required prototype model inserted portal opening analyzing portal contour opening 
algorithms take advantage fact portal contours rectangular 
algorithm outlined portal contour edge edge angle subtended ray ray degrees length edge greater length edge edge adjacent shared space 
translation 
translation 
angle subtended ray ray direction rotation determining translation rotation portal prototype model 
orthographic view portal prototype insertion 
translation rotation values bmg creates instance defined prototype model translates rotates inserts portal opening 
done automatically portals defined prototypes 
user unsatisfied inserted prototype selected removed new prototype inserted 
modeling incorporating staircase consists steps plus step support structure 
properties staircase known staircase model generator tool provided allows user interactively specify parameters step height incremental increase height adjacent steps height produces polyhedral model staircase corresponds staircase plan shown floor plan 
resulting model incorporated model floor 
model produced staircase generator 
staircase generator tool takes advantage fact floor plan specifies geometry corresponding floor model staircase plan specifies geometry corresponding staircase model 
cases required user height information includes floor floor height increment step thickness height 
user effort drastically reduced staircase generator tool drawing required generate complex staircase models 
creating dimensional staircase plans architects usually draw floor plans projection portion staircase horizontal cut levels lying feet respective floor floor 
staircase plans may contain symbols represent break feet occurs 
additionally case soda hall plans geometry steps incomplete collection disjoint edges 
result representation staircase appears floor plan geometrically suitable basis procedural generation staircase model 
program requires step stair drawn complete polygon 

original stair plan soda hall floor 
completed stair plan 
order form usable staircase plan user complete plan drawing step polygons shown original symbolic version 
soda hall plans simply drew necessary polygons autocad atop incomplete symbolic plan 
staircase plan exported dxf format converted unigrafix format 
analyzing staircase plans staircase generator assumes polygon input file represents outline xy plane step corresponding model 
assumed specified order steps staircase generator prompts user specify lowest steps 
indicates step staircase starts direction 
staircase generator orders remaining steps searching step step polygon adjacent step polygon adjacency means pair edges edge step coincident small epsilon perpendicular distance 
determination support structure placement set rules follows step polygon edge shared step polygon piece support structure constructed edge 
edge shared support structure created 
edge adjacent shared step polygon edge support structure generated non adjacent portion edge 
steps put proper order support structure placement determined geometry staircase generated 
creating dimensional staircase model staircase generator creates model staircase unigrafix format 
steps right rectangular extruded solids specific height placed successively higher elevations staircase 
height step solid controlled step height slider incremental elevation difference steps controlled step separation slider 
user specified dimensions staircase model 
composed support posts right rectangular extruded solids segments closed solids rectangular cross section 
height support posts controlled height slider height rectangular cross section segments controlled thickness slider 
runners support structure hold steps place closed solids rectangular cross section 
height runners controlled runner height slider 
slider values may entered precisely user input box exact values required 
addition user specifies separation floors staircase generator automatically calculates proper value step separation 
generated staircase models consist hundreds properly oriented polygons drawn user space 
result tool significantly reduces modeling time 
important buildings multiple floor levels 
see detailed discussion staircase model generation 
completed staircase model imported bmg system floor model 
required task proper translation appropriate elevation floor 
staircase plan drawn coordinate system floor values correct 
adding complex details building model buildings structural features modeled simple extruded prismatic shapes 
example seventh floor soda hall arches lining exterior facade south side building 
basic arch element repeated times shown 
arches specified geometrically floor plan created extrusion 
non rectilinear structure may included building model bmg system provides mechanism user import externally modeled components generated floor models 
user interactively selects insertion point model specifies appropriate rotation selecting additional vertex model 
arches south side soda hall floor 
bmg maintains user specified list externally modeled components 
case prototype portal models section components modeled coordinate soda hall floor arch component edges displayed clarity construction 
system insertion point floor model corresponds origin local coordinate system component 
constraint translation coordinate values insertion point selected user 
rotation specified vector floor model corresponds positive axis component local coordinate system 
user specifies vector originates insertion point terminates second model vertex selected user 
mechanism important provides necessary complement extrusion approach 
floor plan cleanup intelligent extrusion suffices vast majority building geometry walls portals rectangular mechanism importing properly positioning externally modeled geometry provides general way include specific building details produced extrusion 
combining finished floor models building model individual floor modeled floors stacked form complete building model 
done combining geometry modeled floors single unigrafix file 
proper connectivity vertically aligned exterior walls adjacent floors guaranteed base elevation upper floor equal top elevation lower floor pairs floors 
holes may exist floors exterior outlines aligned adjacent floors 
example floor story building significantly larger second stacking results hole second floor entirely cover 
similarly hole exist second floor floor 
order produce appropriate exterior roof floor polygons seal openings bmg performs boolean subtraction exterior contours adjacent floors 
floor floor hole beneath upper floor hole lower floor holes exterior surface floors stacked 
floor collection exterior contours formed floor plan analysis phase 
necessary exterior polygons floor formed manner roof polygons desired collection contours obtained subtracting contours floor contours current floor 
upward facing polygons resultant contours generated height values equal top elevation current floor 
floor contour floor contour resulting contour new exterior polygon determining polygons close exterior hole current floor 
floor polygons desired collection contours obtained subtracting contours floor contours current floor 
downward facing polygons resultant contours generated height equal base elevation current floor 
floor contour floor contour resulting contour new exterior polygon determining polygons close exterior hole current floor 
result operations consistent building model correct topology 
implementation bmg system built sgi irix platform silicon graphics gl graphics library berkeley unigrafix library forms user interface library 
major code modules tasks perform 
floor plan conversion convert unigrafix verify ug syntax break faces wires 
floor plan correction coerce grid close gaps correct intersections 
floor plan analysis find space contours find portal contours find room identity contour break 
model generation spaces portals generate floors ceilings 
model editing space editing portal editing portal prototype insertion component insertion building integration bmg uses basic viewing mechanism animator program previously developed walkthru group berkeley 
viewing system displays unigrafix geometry sgi workstations calls gl library 
display floor plans various stages correction analysis dimensional building models various stages construction refinement 
control module integrated viewer consists set user interface forms routines allow interaction forms bmg program 
conversion module accepts dxf floor plan converts unigrafix filters floor plan layers needed generation model 
data structure produced module list individual line segments tagged appropriate layer name specifies segment semantic meaning 
correction module intelligently determines grid spacing snaps line segment vertices grid 
tests line segments improper intersection corrects errors 
non directed graph vertices built identify vertices referred edge indicating gap edges 
gaps algorithmically corrected 
door window symbols replaced line segments 
analysis module searches vertex graph order find closed contours 
lists closed contours constructed spaces portals 
reflected ceiling plan provided affected space contours divided appropriately multiple contours 
pair spaces connected portal doubly linked forming adjacency graph spaces 
model generation routines properly contours consistent model 
space list spaces maintains list faces generated space 
way space easily deleted model regenerated new parameters ceiling height wall color 
editing module implements editing capabilities different stages building generation process 
contour verification routines allow user specify non closed contour completed 
space editing portal editing routines allow user interactively modify heights properties spaces portals mode 
modifications model view mode space portal regenerated accordance new properties 
component insertion routines handle translation rotation instancing pre modeled components user inserts model 
list inserted components maintained 
component list contains list faces created component instance component easily removed model user dissatisfied 
building integration routines combine multiple floor models suitably closing exterior holes comparing exterior contours floor 
module contains output routines save unigrafix geometry model cell portal information 
building models generated bmg bmg generate building models soda hall new computer science building berkeley hex tower tricky test floor plan carlo 
shows completed soda hall building generated bmg ground floor floor 
shows fifth floor soda hall components portal frame models completed soda hall model ground level 
extruded model soda hall floor 
stairs 
refer see original floor plan floor 
floor plan hex tower building 
generated single floor model hex tower building 
shows floor plan hex tower 
floor plan drawn appro hex tower building generated bmg 
priate layers canvas program macintosh 
plan excellent illustration need geometric cleanup features bmg system 
minor modifications bmg system required order generate model hex tower plan 
door symbols drawn jamb edges plus sill edges sill edges correspond edges bmg normally creates processing door symbols section 
edges plan exhibit proper connectivity 
small part floor plan drawn explicitly rest generated imprecise copy rotate features canvas 
shows portion hex tower plan 
door jamb edges poorly aligned wall adjacent 
additional cleanup step added bmg response problem 
jamb snapping algorithm applied locates nearest wall edge jamb edge properly translates rotates jamb edge aligns properly wall 
translation takes place perpendicular wall edge jamb edge rotated collinear wall edge 
plan corrected bmg shown 
shows single generated floor hex tower building shows entire building generated interactive session bmg minutes 
jamb wall snapping jamb wall snapping subsequent correction steps portion hex tower plan jamb wall snapping 
generated building models walkthru completed building models fully compatible berkeley walkthru visualization system 
walkthru system performs visibility preprocessing level detail management reduce rendering time increase frame rate provides intuitive interface user navigation virtual environment 
walkthru system possible user obtain impression building building occupant perspective 
building model walkthru model meet criterion containing axis aligned convex occluding polygons bmg produces models meet condition 
walkthru utilities process finished model create berkeley walkthru compatible database interactive visualization system 
breaking concave spaces form rectangular cells berkeley walkthru system utilizes concept visibility cells speed rendering 
systems cell volume bounded occluders opaque polygons portals allow vision adjacent cell possibly 
computations performed berkeley walkthru system require cells consist rectilinear axis aligned convex cells 
goals bmg system produce models berkeley walkthru system bmg optionally breaks spaces rectangular cells required visibility algorithms 
shows result applying breakup algorithm original set space contours shown 
spaces breakup convex components 
creating walkthru database suite utilities convert unigrafix model building database format walkthru visualization system 
run batch process takes order minutes 
order obtain realistic building model possible user may wish populate final model objects furniture considered part building 
example models desks chairs lamps plants soda hall 
including objects model building environment realistic interesting 
objects added part batch process creates database interactive walkedit editor program 
walkthru viewing system user may interactively navigate completed building database 
shows view th th floors soda hall created bmg system walkthru environment 
walkthru environment mouse buttons specify forward backward motion lateral position mouse cursor controls turning rate 
gravity simulated example user walk stairs simply moving forward 
interior objects picked moved 
behaviors associated object object manipulated degrees freedom example desk rests floor movement default floor plane 
refer detailed discussions walkthru walkedit environments 
soda hall th floor corridor th floor 
generated buildings nist fire simulator nist fire simulator simulates spread fire virtual environments 
building models generated bmg exported format appropriate 
requires building environment described collection volumes cells portals connect cells 
dimensions locations volumes portals obtained straightforward fashion data structures developed bmg floor plan analysis phase 
particular spaces floor plan linked adjacent portals portals linked adjacent spaces 
bounding volume space determined forming bounding box contour space height space model 
portals twodimensional connections volumes depth portal important current implementation 
current implementation requires volumes rectilinear 
necessitates breaking simplifying non rectangular space contours 
currently spaces partitioned rectangular pieces edge inserted break space portal created connects resulting volumes 
result undesirably high number volumes nooks protrusions room walls original spaces result volumes 
intend implement simplification algorithm form bounding boxes spaces partition spaces bounding boxes overlap expand resulting spaces adjacent zero width boundary portals may exist 
space contours broken multiple rectangular contours bounding boxes overlap space left partitioned eliminating overlap final simplified representation creating rectangular space contours required rectilinear volumes 
resulting input list cells portals 
portal definition contains dimensional measurements portal opening height width 
cell definition contains cell bounding volume dimensions pointers portals connect cell neighbor cells 
system takes materials properties account performing fire simulation 
color texture model mapped specific material 
system perform various simulations spread fire soda hall building buildings modeled bmg system 
system currently adapted interactively display progress fire virtual environment walkthru system display platform 
recommendations cad tool builders users significant portion bmg system devoted cleaning geometry input floor plans developing semantic information necessary extrusion editing 
clearly tools assist architect producing clean semantically complete floor plans help eliminate required floor plan processing correction 
simple common sense guidelines users existing drafting tools advised follow creating detailed floor plans 
rooms drawn sequence edges share endpoints collection independently placed line segments 
eliminates possibility disjoint improperly overlapping edges 
benefit draws floor plan clearly easier efficient click create vertices room contour creating independently positioning line segments 
second symbols doors windows instances predefined primitives necessary types edges comprise symbol classified appropriate layers 
rule followed need specific preprocessing step set floor plans order classify symbol edge appropriate group guarantee edges classified correctly operation performed automatically 
room labels provided positioned near center space 
aside providing identity information space labels facilitate location closed contour space providing system knowledge inside room knowledge system look closest wall edge perform search form closed contour containing wall edge 
set tools improve geometric correctness semantic completeness detailed floor plans start editor assists user floor plan layout symbolic level 
room represented single closed contour rooms allowed overlap 
room specific identity geometry contour representing particular room obtained dereferencing identity 
door window symbols predefined primitives inserted boundary edge space contours 
simple representation allow user quickly arrange layout floor calculate space usage examine connectivity various rooms respective portals 
level detail low editing operations simple inexpensive 
design move forward detailed representation thick double line walls automatically produced tool 
rooms movable subject non overlapping constraint plus additional constraint maintains minimum wall thickness rooms 
possible insert single wall pieces existing rooms dividing automatic thick separator wall tool 
portal symbols fleshed contours representing projection physical connections spaces 
geometric representation floor plan generation model straightforward exact geometry semantic meaning rooms portals known explicitly correct geometry ensured correctness enforced process creation plan 
representation annotated text additional symbols create detailed construction documents 
room room room room formation thick walls example illegal room editing operation room single wall piece inserted room room room room wall thickness room contours formed portals connect spaces room room room room room room room room room room room room floor plan symbolic level symbolic simple geometric floor plan representations 
advantage type floor plan design system user prevented creating entities erroneous connectivity unknown semantic meaning 
resulting floor plans consist rooms portals connect semantic meaning entity precisely known 
clean geometry sufficient semantic information generation models plans easier 
pursuing extensions bmg system couple closely schematic layouts earlier phases building design seamlessly integrate bmg walkthru 
addition developing tools intended improve process results computer assisted architectural design 
extensions bmg system bmg augmented allow arbitrarily sloping floors ceilings maintaining height information space contour vertex level entire space 
intend provide capability go symbolic schematic floor layout diagrams real architectural plans automatically providing smooth path simple layout sketches extruded models 
accomplished enhancing floor plan generation capabilities symbolic floor plan extrusion tool described section integrating capabilities bmg system 
result complete extrusion system accept schematic layouts real architectural plans 
plan merge bmg system walkthru viewing system unifying suite building generation viewing interactive editing tools program 
completed user able load floor plan generate model add furniture navigate model interactively manipulate contents executable program 
additional architectural design tools processes building design formal specification completed designs implementation designs construction basic practices called aec architecture engineering construction community 
currently software assist processes mature level formal design specification drafting detailed site plans floor plans drawn 
design process currently performed architects help computers 
result design process unnecessarily iterative 
example architect may decide building form sketch entire floor layout find completion amount assignable square footage floor 
possible tools pencil simple polygon editor assist user conforming specified building program 
floor layout tool enforces requirements constraints dictated building program enable architect get layout right fewer iterations free architect concentrate creative subjective aesthetic considerations evaluating design 
ideal design environment user able move freely different representations building design initial functional bubble diagram symbolic layout detailed floor plan building model 
level representation possible automated agents verify design conforms requirements building program 
mature suite tools assist building design performing sort automatic verification increase productivity importantly result buildings implement specifications put forth client 
system generates consistent polyhedral building models architectural floor plans described 
system accepts floor plans dxf format input 
input floor plans required certain primitives wall edges door symbols grouped properly labeled layers 
geometric correctness assumed 
input floor plans corrected algorithmically fixing gaps improper intersections task tractable dimensions requiring user interaction 
door window symbols located replaced edges edges grouped single closed contour space floor plan 
space space adjacencies determined adjacency graph built useful construction model supplemental input fire simulator 
clean analyzed floor plan extruded consistent model properly oriented polygons correct topology suitable holes doors windows 
heights colors textures edited various levels grouping 
convenient facilities provided inserting detailed door window assemblies proper position orientation determined automatically 
additional detailed components inserted easily extruded model 
bmg system easy create consistent polyhedral building model short period time 
starting reasonably structured floor plans generated models correspond precisely specified building design 
user need drawing dimensional space human effort possibility human error eliminated 
edge connectivity corrected floor plan level extrusion process yields polyhedral model correct topology 
user interaction minimal general required user wishes add detailed externally modeled components building model 
total conversion cleanup modeling time order hours floor weeks months permitting convenient creation models 
models generated bmg system viewed berkeley walkthru program compatible nist fire simulator 
interior view soda hall model sixth floor conference room central corridor area 
corridor discussion area soda hall sixth floor 
office soda hall sixth floor 
window model includes textured wood shelves 
advisor professor carlo thoughtful guidance great enthusiasm project 
truly pleasure students 
acknowledge generosity nec national institute standards technology support enabled concentrate energies exciting research instrumental completion master project 
sincere help provided 
am grateful friendship fellow graduate students rick laura downs randy keller simmons 
rick donation boolean polygon subtraction code extremely helpful 
randy faithful late night companions soda hall home away home providing technical help constructive criticism 
terry smith bob miller help keeping running smoothly 
don sadler tony allen providing soda hall floor plans 
family friends patient supportive especially scott pamela 
say special parents dick karin lewis 
credit enabling success personal fulfillment happiness 
humble opinion greatest mom dad earth 
day lucky stars parents 
john john frederick brooks jr image realism interactive update rates complex virtual building environments 
acm siggraph special issue symposium interactive graphics 
autocad release advanced tools 
autocad release user guide 
richard walkthru editor realistic effective interaction virtual building environments 
master thesis computer science division eecs university california berkeley 
richard progress 
software 
virtual reality user guide 
couch gregory berkeley unigrafix data structure language 
technical report ucb csd computer science division eecs university california berkeley 
expert software 
home design user guide 
funkhouser thomas interactive unigrafix editor interactive procedural model generation 
technical report ucb csd computer science division eecs university california berkeley 
funkhouser thomas database display algorithms interactive visualization architectural models 
ph thesis computer science division eecs university california berkeley 
funkhouser teller sequin ucb system interactive visualization large architectural models presence spring 

walk planned cs building 
master thesis computer science division eecs university california berkeley 
lewis richard interactive staircase designer procedural modeling 
technical report ucb csd computer science division eecs university california berkeley 
lewis richard floorplan building model generator url www cs berkeley edu html 
overmars mark forms library graphical user interface toolkit silicon graphics workstations 
department computer science utrecht university 
richard peacock glenn forney paul rebecca walter jones consolidated model fire growth smoke transport nist technical note national institute standards technology gaithersburg maryland 
tony 
personal communication july 
silicon graphics graphics library programming guide 
teller seth visibility computations densely occluded polyhedral environments 
ph thesis computer science division eecs university california berkeley 

