mining sequential patterns constraints large databases jian pei state university new york buffalo cse buffalo edu constraints essential sequential pattern mining applications 
systematic study constraint sequential pattern mining 
investigate issue point framework developed constrained frequent pattern mining fit missions 
extended framework developed sequential pattern growth methodology 
study shows constraints effectively efficiently pushed deep sequential pattern mining new framework 
framework extended constraint structured pattern mining 

studies efficient sequential pattern mining applications :10.1.1.49.3594:10.1.1.113.6042:10.1.1.40.8600
sequential pattern mining algorithms general categorized classes apriori horizontal formatting method gsp representative apriori vertical formatting method spade projection pattern growth method prefixspan :10.1.1.40.8600
effectiveness efficiency considerations constraints essential data mining applications 
context constraint sequential pattern mining srikant agrawal generalize scope sequential pattern mining include time constraints sliding time windows user defined taxonomy :10.1.1.40.8600
mining frequent episodes sequence events studied mannila viewed constrained mining problem episodes essentially constraints events form acyclic graphs 
garofalakis propose regular expressions constraints sequential pattern mining develop family spirit algorithms members family achieve various degrees constraint enforcement 
relaxed constraints having nice properties anti monotonicity filter permission digital hard copies part personal classroom granted fee provided copies distributed profit commercial advantage copies bear notice full citation page 
copy republish post servers redistribute lists requires prior specific permission fee 
cikm november mclean virginia usa 
copyright acm 
jiawei han univ illinois urbana champaign cs uiuc edu wei wang university edu cn unpromising patterns candidates early stage 
interesting studies handle scattered classes constraints 
problems remain practical constraints covered lacks systematic method push various constraints mining process 
motivate study consider example 
characterize new disease researchers may want find sequential patterns symptoms finding patterns constraint days cough followed fever range days average temperature symptoms appear weeks 
pattern cough days fever days strong headache mining query contains constraints involving sequences containing certain constants average functions previously developed constraint sequential pattern mining methods handle constraints 
unclear incorporate constraints mining process 
conduct systematic study constraintbased sequential pattern mining 
various kinds constraints classified orthogonal ways application semantics section roles sequential pattern mining section respectively 
scheme largely follows conventional constraintbased frequent pattern mining framework 
unfortunately commonly encountered sequence constraints regular expression constraints monotonic anti monotonic succinct 
patching classical framework new framework called built prefix monotone property section 
interestingly monotonic anti monotonic constraints regular expression constraints prefix monotone pushed deep prefix mining algorithm 
tough aggregate constraints involving average general sum pushed deep slightly revised prefix growth mining process section 
performance study conducted demonstrates constraintbased mining prunes large search space effectively sequential pattern mining prefix growth efficient constraint sequential pattern mining algorithms studied section 

sequential pattern mining categories constraints 
xn set items possibly associated set attributes value price profit calling distance period value attribute item denoted itemset non empty subset items itemset items called itemset 
sequence xl ordered list itemsets 
itemset xi sequence called transaction term originated analyzing customers shopping sequences transaction database :10.1.1.40.8600
transaction xi may special attribute times denoted xi time registers time transaction executed 
notational convention sequence xl xi time xj time number transactions sequence called length sequence 
sequence length called sequence denoted len th itemset denoted 
convention item occur itemset occur multiple times various itemsets sequence :10.1.1.40.8600
sequence 
xn called subsequence sequence 
ym super sequence denoted exist integers 
yi 
xn yin 
sequence database sdb set tuples sid sid sequence id sequence 
tuple sid sequence database sdb said contain sequence subsequence 
number tuples sequence database sdb containing sequence called support denoted sup 
positive integer min sup support threshold sequence sequential pattern sequence database sdb sup min sup 
sequential pattern mining problem find complete set sequential patterns respect sequence database sdb support threshold min sup 
example table shows sequence database sdb sequences 
contains transactions itemsets length 
brevity brackets omitted transaction item 
sequence id sequence bc ab bc dd aef abc dd table sequence database sdb 
sequence ab subsequence second sequence ab bc dd third aef abc dd support threshold min sup ab sequential pattern 
frequent pattern mining problems major difficulties sequential pattern mining effectiveness mining may return huge number patterns uninteresting users efficiency takes substantial processing power mining complete set sequential patterns large sequence database :10.1.1.40.6757
constraint mining may overcome difficulties constraints usually represent user interest focus confines patterns particular set conditions 
constraints pushed deep mining process achieve efficiency search focused 
motivates study constraint mining sequential patterns 
constraint sequential pattern boolean function 
problem constraint sequential pattern mining find complete set sequential patterns denoted sat satisfying constraint constraints examined characterized different points views 
examine application point view section constraint pushing point view section build linkages thorough study constraint sequence mining 
application point view categories constraints semantics forms constraints 
means complete covers interesting constraints applications 
constraint 
item constraint specifies particular individual groups items patterns 
form len len subset items 
example mining sequential patterns web log user may interested patterns visits online 
set online 
corresponding item constraint len 
constraint 
length constraint specifies requirement length patterns length number occurrences items number transactions 
length constraints specified number distinct items maximal number items transactions 
example user may want find long patterns transactions bio sequence analysis 
requirement expressed length constraint len 
constraint 
super pattern constraint form set patterns find patterns contain particular set patterns sub patterns 
example analyst may find sequential patterns contain buying pc digital camera constraint expressed digital camera 
constraint 
aggregate constraint constraint aggregate items pattern aggregate function sum avg max min standard deviation example marketing analyst may sequential patterns average price items pattern 
constraint 
regular expression constraint cre constraint specified regular expression set items established set regular expression operators disjunction kleene closure 
sequential pattern satisfies cre pattern accepted equivalent deterministic finite automata 
brevity omit strict operators discussion 
principles applied 
example find sequential patterns web click stream starting yahoo home page reaching hotels new york city may regular expression constraint travel new york new york city hotels hotels lodging stands disjunction 
concept regular expression constraint proposed 
applications may want constraints duration patterns events happening certain duration 
constraint 
duration constraint defined sequence databases transaction sequence time stamp 
requires pattern appears frequently sequence database time stamp difference transactions pattern longer shorter period 
formally duration constraint form dur integer 
sequence satisfies constraint sdb len 
len time time min sup 
applications gap adjacent transactions pattern may important 
constraint 
gap constraint set defined sequence databases transaction sequence timestamp 
requires pattern appears frequently sequence database timestamp difference adjacent transactions longer shorter gap 
formally gap constraint form gap integer 
sequence satisfies constraint sdb len 
len len ij time ij time min sup 
constraints listed duration constraints gap constraints support related applied confine sequence matches pattern 
find sequential pattern satisfies constraints needs examine sequence databases 
constraints constraint satisfied determined frequent patterns referring support counting process 

classical framework char constraints studies constrained frequent pattern mining constraints characterized notion monotonicity anti monotonicity succinctness transformed categories belong 
classical framework constraint frequent pattern mining 
extend framework solve constraint sequential pattern mining problem constraint ca anti monotonic sequence satisfying ca implies non empty subsequence satisfies ca 
constraint cm monotonic sequence satisfies cm implies super sequence satisfies cm basic idea succinct constraint constraint explicitly precisely generate sets items satisfying constraint recourse generate approach 
succinct constraints specified precise formula 
formula generate patterns satisfying succinct constraint 
need iteratively check constraint mining process 
limited space omit formal definitions 
example length constraint len duration constraint dur anti monotonic super pattern constraint duration constraint dur monotonic 
easy show item constraints length constraints super pattern constraints succinct 
definition anti monotonic monotonic succinct characteristics commonly constraints sequential pattern mining shown table 
table see classical framework anti monotonicity monotonicity succinctness applied large class constraints 
corresponding constraint pushing strategy integrated easily sequential pattern mining algorithms gsp spade prefixspan 
important classes constraints re regular expressions average avg sum sum positive negative values fit framework 
problem commonly regular expression constraints pointed garofalakis 
provide solution set spirit algorithms pushing stronger relaxation regular expression constraint predecessor pattern mining loop 
method interesting elegant systematic kinds constraints 
handle ugly constraints nice elegant way 
theme section 

new framework mining se patterns prefix monotone constraints classical frequent pattern mining framework anti monotonic apriori property 
handle regular expression ugly popularly encountered constraints effectively needs jump framework re examine basic properties constraints evaluation framework 
prefix monotone property order items sequence database 
item ordering transaction unimportant sequential patterns convenient assume items transaction written respect order example alphabetical order 
sequence written form ade bc dae cb fact item item order denoted sequence xn sequence called prefix xk xk example sequence abc ac prefix sequence abc acd bef sequence abc ad prefix 
alphabetical order 
constraint cpa called prefix anti monotonic sequence satisfying constraint prefix 
constraint cpm called prefix monotonic sequence satisfying constraint sequence having prefix 
constraint called constraint anti mono mono succ item len len len len length len len super pattern simple max min aggregates max min sum non negative values sum non negative values tough sum sum positive negative values aggregates average avg re regular expression duration dur dur gap gap table characterization commonly constraints 
general regular expression re constraint necessarily anti monotonic monotonic succinct cases 
prefix monotone prefix anti monotonic prefix monotonic 
clearly prefix subsequence 
intuitively anti monotonic constraint trivially prefix anti monotonic 
monotonic constraint trivially prefix monotonic 
example length constraint len anti monotonic 
prefix anti monotonic 
length sequence length prefix 
similarly len prefix monotonic length prefix 
succinct constraint necessarily prefix anti monotonic prefix monotonic 
succinct constraints pushed deep directly mining process matter sequential pattern mining method applied pushing constraints analyzed discussion 
examine regular expression constraints 
known result formal language theory regular expression exists deterministic finite automata accepts exactly language generated regular expression corresponding deterministic finite automata 
sequence 
called legal state reached 
regular expression constraint derive constraint le sequence satisfies le legal clearly sequence satisfying regular expression constraint prefix legal furthermore sequence legal prefix legal constraint le legal prefix prefix anti monotonic 
discussion statement 
theorem 
commonly constraints discussed section sum average prefix monotone property 
theorem indicates prefix monotone property covers constraints commonly traditional anti monotonic monotonic properties property weaker anti monotone mono tone properties 
anti monotonic monotonic constraints prefix monotonic 
may wonder means mining prefix monotone property efficient classical anti monotonicity apriori methods 
fortunately surprisingly answer pushing prefix monotone constraints sequential pattern mining introduce concept projected database 
sequence sequence said projection prefix exists proper super sequence prefix 
projection denoted 
example bc abc ace ce give sequence database sdb sequence 
projected database denoted sdb set projections sequences sdb having subsequence sdb sdb 
examine example constraint pushing 
sequence database sdb table task mining sequential patterns regular expression constraint bb bc dd support threshold min sup 
mining performed steps 
step find length patterns remove irrelevant sequences 
scanning sdb patterns identified length patterns 
infrequent items removed 
scan sequences contain subsequence satisfying constraint removed sequence bc fails regular expression constraint 
step divide set sequential patterns subsets overlap 
complete set sequential patterns divided subsets overlap appears prefix sequence sdb brevity omit occurrences prefixes sdb 
sequence sdb record suffix transaction transaction transaction symbol put transaction set length sequential patterns prefix prefix 
prefix patterns prefix may satisfy constraint legal constraint subsets patterns pruned 
step construct projected database mine 
sequences sdb containing item satisfying constraint projected 
projected database sdb bc dd abc dd 
notice ab bc dd projected bc dd symbol transaction indicates transaction construction projected database find locally frequent items inserted transaction form longer frequent prefix ab concatenated form longer frequent prefixes ab ac ad locally infrequent items ignored remaining mining projected database 
set patterns prefix divided subsets overlap pattern prefix ab prefix ab prefix ac prefix ad examining constraint see pattern fails discarded ab illegal constraint second subset patterns pruned 
remaining subsets patterns explored 
step recursive mining 
mining proceeds recursively 
mine patterns having ab prefix form ab projected database db ab dd dd 
recursively mining projected database identify sequential pattern bc satisfies constraint 
mine patterns prefix ac form ac projected database db ac dd dd sequence projected database contains sub sequence satisfying constrain 
search db ac pruned 
words search projected database potentially support patterns satisfying constraint 
similarly search ad projected database find add sequential pattern satisfying constraint 
summary recursive mining prefix pattern satisfying constraint output 
prefixes legal constraint grown mined recursively 
process terminates local frequent item legal prefix 
results final patterns bc add 
correctness completeness mining process example verified 
limited space omit details 
constrained sequential pattern mining algorithm outlined follows 
algorithm 
prefix growth mining sequential patterns prefix monotone constraints 
input sequence database sdb support threshold min sup prefix monotone constraint output complete set sequential patterns satisfying method call prefix growth sdb 
function prefix growth sdb prefix sdb projected database step 
length 
scan sdb find length frequent prefix sdb remove infrequent items useless sequences step 
length frequent prefix potentially satisfying constraint step 
satisfies output pattern step 
form sdb step 
call prefix growth sdb prefix growth efficient algorithm 
algorithm prefix growth takes prefixspan basic sequential pattern mining algorithm pushes prefix monotone constraints deeply prefixspan mining process 
performance study shows prefixspan outperforms gsp owing prefixspan adopts prefix growth database projection framework frequent prefix subsequence corresponding suffix subsequences need projected examined candidate generation applies divide conquer strategy sequential patterns grown exploring local frequent patterns projected database explores optimizations including technique projected database associated pseudo projection processing structure fits main memory second prefix growth handles broader scope constraints anti monotonicity monotonicity 
typical example regular expression constraints difficult explored apriori method shown spirit 
prefix growth constraints naturally pushed deep mining process 
interestingly prefix growth spirit push regular expression constraints relaxing constraint achieve nice property facilitating constraintbased pruning 
spirit methods requires relaxed constraints strong antimonotonic property prefix growth enforces prefix monotonic property weaker 
shown experimental results prefix growth outperforms spirit pushing regular expression constraints 
third constraint checking step shrinks projected databases effectively due removal useless sequences constraint prefix growth 
people may wonder apriori methods gsp spade similar prefix pruning prefix monotone constraints 
non antimonotonic regular expression constraint example apriori methods pattern prefix failing constraint pruned inserting items transactions pattern positions may lead valid pattern 
exploring prefix monotone constraints prefix growth puts stronger restrictions possible subsequences grow prunes search space effectively 

handling tough aggregate con straints new framework regular expression constraints may wonder prefix growth handle effectively tough aggregate constraints table average sum 
constraints anti monotonic monotonic 
worse prefix monotone 
example mine sequential patterns constraint avg sequence database sdb table support threshold items values respectively 
convenience item value id sequence id sequence table sequence database sdb 
constraint pushed naively prefixspan mining process 
example discarded avg appending elements may avg 
easily verify 
technique developed push convertible constraints avg frequent pattern mining transactional databases 
general idea proper order frequent items value descending order constraint avg list frequent items order nice anti monotonic monotonic property 
apply technique attack aggregate constraints sequential pattern mining 
unfortunately answer negative 
sequence temporal order pre composed freedom re arrange items sequences 
trick simple ordering 
value ascending order set items determine order projected databases processed 
item called small item value value called big item 
scan projected database unpromising big items sequences removed rules 
unpromising sequence pruning rule 
sequence number instances small items sum big item unpromising removed value violates constraint 
similarly unpromising sequence pruning rule applied recursively projected database 
projection number instances small items appearing sum 
big item unpromising removed sum value items violates constraint unpromising pattern pruning rule 
item marking method developed mark prune unpromising items follows 
projected database pattern item small item check small item replaced big item frequent projected database get average value satisfying constraint 
prefix marked promising need checked marked projected database 
patterns small item prefixes big item having marked projected databases multiple instances small item value item counted multiple times 
function items returns number instances items sequence 
database sdb regarded sdb pruned violates constraint 
rationale rule follows 
big item violates constraint sequential pattern satisfying constraint starts small item sequential pattern satisfying constraint 
rules proved easily 
limited space illustrate mining sdb table constraint avg 
scan sdb remove unpromising big items sequences applying unpromising se quence pruning rule 
example second sequence small item 
se quence support andy sequential patterns having item satisfying constraint item second sequence moved 
database scan find length patterns set patterns partitioned subsets overlap prefix prefix prefix prefix subsets patterns explored order 
step 
set patterns prefix constructing projected database mining recursively 
items projected database small ones patterns average greater satisfy constraint 
patterns pattern regarded small item prefix apply unpromising pattern pruning rule mark prune patterns 
prefix marked promising avg 
prefix checked pattern marked 
patterns prefix mark prefix step 
similarly find patterns prefix constructing mining projected database 
patterns prefix mark prefix step 
big item prefix violates constraint 
patterns prefix prefix marked need construct projected database mine 
pattern 
step 
prefix marked 
unpromising pattern pruning rule pattern prefix satisfy constraint 
need construct mine projected database 
spirit constraints avg sum items non negative negative values pushed deep prefix growth mining process 
summary minor revision prefix growth extended handle tough aggregate constraints prefix monotone property 
extensions established advantages prefix growth retain pruning sharp 

experimental results formance study evaluate effectiveness efficiency algorithms performed extensive experimental evaluation synthetic real datasets 
results consistent 
limited space section report results synthetic datasets generated ibm data generator described 
experiments performed mhz amd pc machine megabytes main memory running microsoft windows server 
methods implemented microsoft visual 
compare performance methods gsp described 
revised gsp push anti monotonic monotonic constraints 
spirit described 
implemented spirit fastest spirit family 
spade 
got source code author 
study performance spade mining constraint 
revision spade handle constraints non trivial 
prefix growth algorithm developed 
adopted level projection pseudo projection techniques described 
compare efficiency mining sequential patterns constraint 
shows scalability prefix growth gsp spade support threshold dataset contains sequences items 
expected average number items transaction denoted expected average number transaction maximal sequential pattern denoted 
seen prefix growth efficient scalable gsp spade spade faster gsp especially support threshold low 
comparison confirms inherent advantage prefix growth gsp spade 
remaining experiments study prefix growth carry advantage extent mining constraints 
evaluate effect constraint mining sequential patterns define selectivity constraint ratio number patterns failing constraint total number patterns 
constraint selectivity filters pattern selectivity filters patterns 
anti monotonic constraints pushed deep gsp 
modified gsp generates candidates satisfying constraint 
gsp prefix growth push anti monotonic constraints deep mining processes 
show capability gsp prefix growth pushing anti monotonic constraints mining constraint dur example 
various values constraint achieves various selectivity 
support threshold fixed 
gsp prefix growth compare runtime constraint constraint respectively plot 
relative runtime ratio runtime algorithm constraint runtime constraint 
way effect constraint pushing runtime improvement measured objectively 
general methods capable pushing anti monotone constraints 
constraint selectivity weak patterns generated tested time saved 
selectivity high patterns satisfy constraint major saving observed prefix growth performs better 
comparing constraint pushing gsp prefix growth prefix growth uses constraint prune patterns sequences projected databases gsp search database time 
mining large databases database search cost gsp non trivial 
monotonic constraints save cost constraint checking cut search space 
experiments relatively simple con straints dur cost constraint checking cpu bound 
cost mining process bound 
effect pushing monotonic constraint mining process hard observed runtime reduction 
look number constraint tests performed advantage monotonic constraint pushing evaluated objectively 
pushing monotonic constraint prefix growth save lot effort constraint testing 
experiment pushing monotonic constraint number constraint tests performance measure 
revise gsp handle monotonic constraints 
monotonic constraint satisfied pattern candidates supersets pattern need checked anymore 
results show gsp prefix growth follow similar trend saving constraint checking higher constraint selectivity saving 
prefix growth performs better 
limited space omit details 
complexity regular expression constraints roughly measured number state changes edges corresponding deterministic finite automata 
level complexity randomly generate constraints test spirit prefix growth 
support threshold set 
results shown table 
simple regular expression constraints spirit prefix growth efficient 
spirit better expression contains state changes 
complexity constraints goes average runtime spirit increases dramatically 
increase average runtime prefix growth moderate 
complicated constraints prefix growth efficient 
results show prefix growth scalable efficient spirit pushing regular expression constraints 
number average runtime average runtime state changes spirit prefix growth table experimental results mining regular expression constraints runtime measured seconds 
analysis difference methods performance explained follows 
regular expression constraints prefix growth prune patterns projected databases 
spirit scan sequence database repeatedly 
hand spirit pruned candidates generates candidates test database 
test prefix growth pushing constraint avg sequential pattern mining 
support threshold set 
result shown 
seen prefix growth efficient scalable selectivity constraint 
test effect prefix marking pruning technique prefix growth mining runtime seconds gsp spade prefix growth support threshold scalability gsp spade prefix growth constraint 
projected databases prefix growth selectivity number projected database prefix growth constraint avg relative runtime gsp prefix growth selectivity capability gsp prefix growth pushing antimonotone constraint 
runtime seconds dur avg re con 
complexity support threshold scalability prefix growth support threshold 
constraint avg count number projected databases 
seen prefix marking technique prefix growth prunes number projected databases contributes substantially scalability prefix growth 
interesting see curves share similar shape 
indicates major cost prefix growth mining projected databases 
number projected databases cut runtime brought accordingly 
tested scalability pushing various constraints prefix growth support threshold 
results shown 
test scalability prefix growth database size mining various constraints 
results shown 
summary experimental results performance study show prefix growth efficient scalable mining sequential patterns various constraints 
strongly supports theoretical analysis 

systematically studied problem pushing various constraints deep sequential pattern mining 
characterize constraints sequential pattern mining application points views 
general property constraints sequential pattern mining prefix monotone property identified 
covers commonly constraints 
efficient algorithm prefix growth developed push prefix monotone constraints deep mining process 
minor extensions tough constraints involving aggregate avg sum pushed deep prefix growth 
extensive experimental results performance study show prefix growth efficient scalable mining large databases 
working systematic implementation constraint sequential pattern mining relative runtime prefix growth selectivity scalability prefix growth constraint avg runtime seconds dur avg re con 
complexity sequences database scalability prefix growth database size 
data mining system 
prefix growth represents new promising methodology effective efficient mining sequential patterns constraints 
interesting extend mining sequential patterns complicated constraints mining kinds time related knowledge various constraints 

supported part research nserc nce canada university illinois gift microsoft research 
dr mohammed zaki providing source code spade 

agrawal srikant 
fast algorithms mining association rules 
vldb 
agrawal srikant 
mining sequential patterns 
icde 
garofalakis rastogi shim 
spirit sequential pattern mining regular expression constraints 
vldb 
han pei yin 
mining frequent patterns candidate generation 
sigmod 
mannila toivonen verkamo 
discovery frequent episodes event sequences 
data mining knowledge discovery 
ng lakshmanan han pang 
exploratory mining pruning optimizations constrained associations rules 
sigmod 
pei han 
push constraints frequent pattern mining 
kdd 
pei mining frequent itemsets convertible constraints 
icde 
pei prefixspan mining sequential patterns efficiently prefix projected pattern growth 
icde 
srikant agrawal :10.1.1.40.8600
mining quantitative association rules large relational tables 
sigmod 
zaki 
spade efficient algorithm mining frequent sequences 
machine learning 
